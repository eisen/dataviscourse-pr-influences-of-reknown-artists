import{S as lt,i as ut,s as ot,k as st,P as Y,l as ft,m as V,Q as B,h as M,n as A,p as R,b as ct,F as D,A as J}from"./index-8d2061e5.js";import"./config-89433de9.js";import{o as gt}from"./ordinal-ceb38b17.js";import{r as K}from"./init-08c38208.js";import{c as ht,m as mt,l as T,a as dt}from"./catmullRom-1c59b77c.js";import{p as W,g as pt}from"./math-391f3f26.js";import{c as p}from"./constant-b8884f20.js";import{s as j}from"./select-1041df8a.js";function vt(t,n){let a;if(n===void 0)for(const s of t)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);else{let s=-1;for(let h of t)(h=n(h,++s,t))!=null&&(a>h||a===void 0&&h>=h)&&(a=h)}return a}function yt(t){return t}var G=1,O=2,q=3,L=4,U=1e-6;function kt(t){return"translate("+t+",0)"}function _t(t){return"translate(0,"+t+")"}function xt(t){return n=>+t(n)}function wt(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),a=>+t(a)+n}function At(){return!this.__axis}function Z(t,n){var a=[],s=null,h=null,l=6,u=6,i=3,r=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=t===G||t===L?-1:1,e=t===L||t===O?"x":"y",c=t===G||t===q?kt:_t;function f(o){var b=s==null?n.ticks?n.ticks.apply(n,a):n.domain():s,S=h==null?n.tickFormat?n.tickFormat.apply(n,a):yt:h,y=Math.max(l,0)+i,k=n.range(),x=+k[0]+r,_=+k[k.length-1]+r,C=(n.bandwidth?wt:xt)(n.copy(),r),I=o.selection?o.selection():o,z=I.selectAll(".domain").data([null]),w=I.selectAll(".tick").data(b,n).order(),N=w.exit(),P=w.enter().append("g").attr("class","tick"),d=w.select("line"),v=w.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(P),d=d.merge(P.append("line").attr("stroke","currentColor").attr(e+"2",m*l)),v=v.merge(P.append("text").attr("fill","currentColor").attr(e,m*y).attr("dy",t===G?"0em":t===q?"0.71em":"0.32em")),o!==I&&(z=z.transition(o),w=w.transition(o),d=d.transition(o),v=v.transition(o),N=N.transition(o).attr("opacity",U).attr("transform",function(g){return isFinite(g=C(g))?c(g+r):this.getAttribute("transform")}),P.attr("opacity",U).attr("transform",function(g){var F=this.parentNode.__axis;return c((F&&isFinite(F=F(g))?F:C(g))+r)})),N.remove(),z.attr("d",t===L||t===O?u?"M"+m*u+","+x+"H"+r+"V"+_+"H"+m*u:"M"+r+","+x+"V"+_:u?"M"+x+","+m*u+"V"+r+"H"+_+"V"+m*u:"M"+x+","+r+"H"+_),w.attr("opacity",1).attr("transform",function(g){return c(C(g)+r)}),d.attr(e+"2",m*l),v.attr(e,m*y).text(S),I.filter(At).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===O?"start":t===L?"end":"middle"),I.each(function(){this.__axis=C})}return f.scale=function(o){return arguments.length?(n=o,f):n},f.ticks=function(){return a=Array.from(arguments),f},f.tickArguments=function(o){return arguments.length?(a=o==null?[]:Array.from(o),f):a.slice()},f.tickValues=function(o){return arguments.length?(s=o==null?null:Array.from(o),f):s&&s.slice()},f.tickFormat=function(o){return arguments.length?(h=o,f):h},f.tickSize=function(o){return arguments.length?(l=u=+o,f):l},f.tickSizeInner=function(o){return arguments.length?(l=+o,f):l},f.tickSizeOuter=function(o){return arguments.length?(u=+o,f):u},f.tickPadding=function(o){return arguments.length?(i=+o,f):i},f.offset=function(o){return arguments.length?(r=+o,f):r},f}function bt(t){return Z(q,t)}function St(t){return Z(L,t)}const Et=ht("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function $(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tt(t){this._context=t}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function nt(t){return new tt(t)}function et(t){return t[0]}function rt(t){return t[1]}function zt(t,n){var a=p(!0),s=null,h=nt,l=null;t=typeof t=="function"?t:t===void 0?et:p(t),n=typeof n=="function"?n:n===void 0?rt:p(n);function u(i){var r,m=(i=$(i)).length,e,c=!1,f;for(s==null&&(l=h(f=W())),r=0;r<=m;++r)!(r<m&&a(e=i[r],r,i))===c&&((c=!c)?l.lineStart():l.lineEnd()),c&&l.point(+t(e,r,i),+n(e,r,i));if(f)return l=null,f+""||null}return u.x=function(i){return arguments.length?(t=typeof i=="function"?i:p(+i),u):t},u.y=function(i){return arguments.length?(n=typeof i=="function"?i:p(+i),u):n},u.defined=function(i){return arguments.length?(a=typeof i=="function"?i:p(!!i),u):a},u.curve=function(i){return arguments.length?(h=i,s!=null&&(l=h(s)),u):h},u.context=function(i){return arguments.length?(i==null?s=l=null:l=h(s=i),u):s},u}function Ft(t,n,a){var s=null,h=p(!0),l=null,u=nt,i=null;t=typeof t=="function"?t:t===void 0?et:p(+t),n=typeof n=="function"?n:n===void 0?p(0):p(+n),a=typeof a=="function"?a:a===void 0?rt:p(+a);function r(e){var c,f,o,b=(e=$(e)).length,S,y=!1,k,x=new Array(b),_=new Array(b);for(l==null&&(i=u(k=W())),c=0;c<=b;++c){if(!(c<b&&h(S=e[c],c,e))===y)if(y=!y)f=c,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),o=c-1;o>=f;--o)i.point(x[o],_[o]);i.lineEnd(),i.areaEnd()}y&&(x[c]=+t(S,c,e),_[c]=+n(S,c,e),i.point(s?+s(S,c,e):x[c],a?+a(S,c,e):_[c]))}if(k)return i=null,k+""||null}function m(){return zt().defined(h).curve(u).context(l)}return r.x=function(e){return arguments.length?(t=typeof e=="function"?e:p(+e),s=null,r):t},r.x0=function(e){return arguments.length?(t=typeof e=="function"?e:p(+e),r):t},r.x1=function(e){return arguments.length?(s=e==null?null:typeof e=="function"?e:p(+e),r):s},r.y=function(e){return arguments.length?(n=typeof e=="function"?e:p(+e),a=null,r):n},r.y0=function(e){return arguments.length?(n=typeof e=="function"?e:p(+e),r):n},r.y1=function(e){return arguments.length?(a=e==null?null:typeof e=="function"?e:p(+e),r):a},r.lineX0=r.lineY0=function(){return m().x(t).y(n)},r.lineY1=function(){return m().x(t).y(a)},r.lineX1=function(){return m().x(s).y(n)},r.defined=function(e){return arguments.length?(h=typeof e=="function"?e:p(!!e),r):h},r.curve=function(e){return arguments.length?(u=e,l!=null&&(i=u(l)),r):u},r.context=function(e){return arguments.length?(e==null?l=i=null:i=u(l=e),r):l},r}function Mt(t){let n,a,s,h,l,u,i,r;return{c(){n=st("div"),a=Y("svg"),s=Y("g"),h=Y("g"),l=Y("g"),u=Y("g"),i=Y("path"),this.h()},l(m){n=ft(m,"DIV",{id:!0,class:!0,style:!0});var e=V(n);a=B(e,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var c=V(a);s=B(c,"g",{id:!0});var f=V(s);h=B(f,"g",{id:!0}),V(h).forEach(M),l=B(f,"g",{id:!0}),V(l).forEach(M),u=B(f,"g",{id:!0});var o=V(u);i=B(o,"path",{id:!0}),V(i).forEach(M),o.forEach(M),f.forEach(M),c.forEach(M),e.forEach(M),this.h()},h(){A(h,"id","x-axis"),A(l,"id","y-axis"),A(i,"id","area-chart"),A(u,"id","single-area"),A(s,"id","lines-chart"),A(a,"class","inline-block absolute top-0 left-0"),A(a,"viewBox",r="0, 0, "+t[0]+", "+t[1]),A(a,"preserveAspectRatio","xMidYMid meet"),A(n,"id","container"),A(n,"class","inline-block relative align-top overflow-hidden"),R(n,"width",t[0]+"px"),R(n,"height",t[1]+"px")},m(m,e){ct(m,n,e),D(n,a),D(a,s),D(s,h),D(s,l),D(s,u),D(u,i)},p(m,[e]){e&3&&r!==(r="0, 0, "+m[0]+", "+m[1])&&A(a,"viewBox",r),e&1&&R(n,"width",m[0]+"px"),e&2&&R(n,"height",m[1]+"px")},i:J,o:J,d(m){m&&M(n)}}}const It=20,Vt=10;function Ct(t,n,a){let{width:s=0}=n,{height:h=0}=n;const l={left:50,right:50,top:50,bottom:50};let u,i,r,m,e,c,f,o=null,b,S=null,y,k=new Array(y),x=[];new Array(5);let _,C=["painter","watercolourist","oilpainter","sculptor","printmaker","draughtsman","muralist"];gt().domain(K(10)).range(Et);const I=d=>{let v=new Array(y),g=0;for(var F of k){let H=0,it=w(F);v[g]=0;let Q=[];for(var X of it){Q=m.filter(at=>at.artist===X[0]);for(var E of Q)E.medium===d&&(v[g]=v[g]+1),H=H+1}v[g]=v[g]/H*100,g=g+1}return v},z=d=>{let v=I(d);var g=T().domain([0,y]).range([0,i]),F=T().domain([0,100]).range([u,0]);const X=Ft().x(E=>g(E.x-e)+l.left).y1(E=>F(E.y)+l.top).y0(u+l.top).curve(dt.alpha(.6)).context(null);for(let E=0;E<k.length;E++){const H={x:k[E],y:v[E]};_.push(H)}j("#area-chart").datum(_).attr("d",X).style("fill","#ee7722")},w=d=>x.filter(([,g])=>g.length>1?g[0].year<=d&&g[1].year>d:g[0].year<=d),N=()=>{a(5,f=T().domain([e,c]).range([0,i])),o=bt(f).tickFormat(d=>Number(d)%Vt===0?String(d):"").ticks((c-e)/It),j("#x-axis").attr("transform",`translate(${l.left}, ${u+l.top})`).call(o),a(6,b=T().domain([0,100]).range([u,0])),S=St(b),j("#y-axis").attr("transform",`translate(${l.left}, ${l.top})`).call(S)},P=(d,v)=>{a(3,r=d),a(4,m=v),i=s-l.left-l.right,u=h-l.top-l.bottom,e=+vt(d,g=>g.year),e=1500,c=+mt(d,g=>g.year),c=1600,y=c-e;for(let g=0;g<y;g++)k[g]=e+g;x=pt(r,g=>g.artist),K(C.length).reverse(),z("painter"),N()};return t.$$set=d=>{"width"in d&&a(0,s=d.width),"height"in d&&a(1,h=d.height)},t.$$.update=()=>{t.$$.dirty&8,t.$$.dirty&16,t.$$.dirty&32,t.$$.dirty&64},u=0,i=0,e=0,c=2100,_=[],[s,h,P,r,m,f,b]}class Tt extends lt{constructor(n){super(),ut(this,n,Ct,Mt,ot,{width:0,height:1,Initialize:2})}get Initialize(){return this.$$.ctx[2]}}export{Tt as A};
