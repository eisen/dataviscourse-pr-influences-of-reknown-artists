import{S as yt,i as dt,s as pt,k as mt,O,q,l as xt,m as S,P as R,h as T,r as $,n as o,p as K,b as tt,F as D,A as ot,I as lt,L as Z,u as wt,Q as kt}from"./index-cc78b405.js";import{t as Nt,e as bt}from"./config-76c48e60.js";import{s as P}from"./select-fbc8933b.js";function At(t,r){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof r!="function")throw new TypeError("mapper is not a function");return Array.from(t,(e,i)=>r(e,i,t))}function Mt(t){const r=+this._x.call(null,t),e=+this._y.call(null,t);return vt(this.cover(r,e),r,e,t)}function vt(t,r,e,i){if(isNaN(r)||isNaN(e))return t;var a,s=t._root,c={data:i},l=t._x0,_=t._y0,n=t._x1,v=t._y1,p,y,g,k,f,u,h,m;if(!s)return t._root=c,t;for(;s.length;)if((f=r>=(p=(l+n)/2))?l=p:n=p,(u=e>=(y=(_+v)/2))?_=y:v=y,a=s,!(s=s[h=u<<1|f]))return a[h]=c,t;if(g=+t._x.call(null,s.data),k=+t._y.call(null,s.data),r===g&&e===k)return c.next=s,a?a[h]=c:t._root=c,t;do a=a?a[h]=new Array(4):t._root=new Array(4),(f=r>=(p=(l+n)/2))?l=p:n=p,(u=e>=(y=(_+v)/2))?_=y:v=y;while((h=u<<1|f)===(m=(k>=y)<<1|g>=p));return a[m]=s,a[h]=c,t}function Et(t){var r,e,i=t.length,a,s,c=new Array(i),l=new Array(i),_=1/0,n=1/0,v=-1/0,p=-1/0;for(e=0;e<i;++e)isNaN(a=+this._x.call(null,r=t[e]))||isNaN(s=+this._y.call(null,r))||(c[e]=a,l[e]=s,a<_&&(_=a),a>v&&(v=a),s<n&&(n=s),s>p&&(p=s));if(_>v||n>p)return this;for(this.cover(_,n).cover(v,p),e=0;e<i;++e)vt(this,c[e],l[e],t[e]);return this}function It(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var e=this._x0,i=this._y0,a=this._x1,s=this._y1;if(isNaN(e))a=(e=Math.floor(t))+1,s=(i=Math.floor(r))+1;else{for(var c=a-e||1,l=this._root,_,n;e>t||t>=a||i>r||r>=s;)switch(n=(r<i)<<1|t<e,_=new Array(4),_[n]=l,l=_,c*=2,n){case 0:a=e+c,s=i+c;break;case 1:e=a-c,s=i+c;break;case 2:a=e+c,i=s-c;break;case 3:e=a-c,i=s-c;break}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=i,this._x1=a,this._y1=s,this}function zt(){var t=[];return this.visit(function(r){if(!r.length)do t.push(r.data);while(r=r.next)}),t}function Bt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function X(t,r,e,i,a){this.node=t,this.x0=r,this.y0=e,this.x1=i,this.y1=a}function Tt(t,r,e){var i,a=this._x0,s=this._y0,c,l,_,n,v=this._x1,p=this._y1,y=[],g=this._root,k,f;for(g&&y.push(new X(g,a,s,v,p)),e==null?e=1/0:(a=t-e,s=r-e,v=t+e,p=r+e,e*=e);k=y.pop();)if(!(!(g=k.node)||(c=k.x0)>v||(l=k.y0)>p||(_=k.x1)<a||(n=k.y1)<s))if(g.length){var u=(c+_)/2,h=(l+n)/2;y.push(new X(g[3],u,h,_,n),new X(g[2],c,h,u,n),new X(g[1],u,l,_,h),new X(g[0],c,l,u,h)),(f=(r>=h)<<1|t>=u)&&(k=y[y.length-1],y[y.length-1]=y[y.length-1-f],y[y.length-1-f]=k)}else{var m=t-+this._x.call(null,g.data),A=r-+this._y.call(null,g.data),x=m*m+A*A;if(x<e){var E=Math.sqrt(e=x);a=t-E,s=r-E,v=t+E,p=r+E,i=g.data}}return i}function Dt(t){if(isNaN(v=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var r,e=this._root,i,a,s,c=this._x0,l=this._y0,_=this._x1,n=this._y1,v,p,y,g,k,f,u,h;if(!e)return this;if(e.length)for(;;){if((k=v>=(y=(c+_)/2))?c=y:_=y,(f=p>=(g=(l+n)/2))?l=g:n=g,r=e,!(e=e[u=f<<1|k]))return this;if(!e.length)break;(r[u+1&3]||r[u+2&3]||r[u+3&3])&&(i=r,h=u)}for(;e.data!==t;)if(a=e,!(e=e.next))return this;return(s=e.next)&&delete e.next,a?(s?a.next=s:delete a.next,this):r?(s?r[u]=s:delete r[u],(e=r[0]||r[1]||r[2]||r[3])&&e===(r[3]||r[2]||r[1]||r[0])&&!e.length&&(i?i[h]=e:this._root=e),this):(this._root=s,this)}function St(t){for(var r=0,e=t.length;r<e;++r)this.remove(t[r]);return this}function Ot(){return this._root}function Rt(){var t=0;return this.visit(function(r){if(!r.length)do++t;while(r=r.next)}),t}function jt(t){var r=[],e,i=this._root,a,s,c,l,_;for(i&&r.push(new X(i,this._x0,this._y0,this._x1,this._y1));e=r.pop();)if(!t(i=e.node,s=e.x0,c=e.y0,l=e.x1,_=e.y1)&&i.length){var n=(s+l)/2,v=(c+_)/2;(a=i[3])&&r.push(new X(a,n,v,l,_)),(a=i[2])&&r.push(new X(a,s,v,n,_)),(a=i[1])&&r.push(new X(a,n,c,l,v)),(a=i[0])&&r.push(new X(a,s,c,n,v))}return this}function Ft(t){var r=[],e=[],i;for(this._root&&r.push(new X(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var a=i.node;if(a.length){var s,c=i.x0,l=i.y0,_=i.x1,n=i.y1,v=(c+_)/2,p=(l+n)/2;(s=a[0])&&r.push(new X(s,c,l,v,p)),(s=a[1])&&r.push(new X(s,v,l,_,p)),(s=a[2])&&r.push(new X(s,c,p,v,n)),(s=a[3])&&r.push(new X(s,v,p,_,n))}e.push(i)}for(;i=e.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Xt(t){return t[0]}function Yt(t){return arguments.length?(this._x=t,this):this._x}function Lt(t){return t[1]}function Pt(t){return arguments.length?(this._y=t,this):this._y}function et(t,r,e){var i=new rt(r==null?Xt:r,e==null?Lt:e,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function rt(t,r,e,i,a,s){this._x=t,this._y=r,this._x0=e,this._y0=i,this._x1=a,this._y1=s,this._root=void 0}function ut(t){for(var r={data:t.data},e=r;t=t.next;)e=e.next={data:t.data};return r}var Y=et.prototype=rt.prototype;Y.copy=function(){var t=new rt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,e,i;if(!r)return t;if(!r.length)return t._root=ut(r),t;for(e=[{source:r,target:t._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(i=r.source[a])&&(i.length?e.push({source:i,target:r.target[a]=new Array(4)}):r.target[a]=ut(i));return t};Y.add=Mt;Y.addAll=Et;Y.cover=It;Y.data=zt;Y.extent=Bt;Y.find=Tt;Y.remove=Dt;Y.removeAll=St;Y.root=Ot;Y.size=Rt;Y.visit=jt;Y.visitAfter=Ft;Y.x=Yt;Y.y=Pt;function C(t){return function(){return t}}function W(t){return(t()-.5)*1e-6}function Ct(t){return t.x+t.vx}function Ht(t){return t.y+t.vy}function Qt(t){var r,e,i,a=1,s=1;typeof t!="function"&&(t=C(t==null?1:+t));function c(){for(var n,v=r.length,p,y,g,k,f,u,h=0;h<s;++h)for(p=et(r,Ct,Ht).visitAfter(l),n=0;n<v;++n)y=r[n],f=e[y.index],u=f*f,g=y.x+y.vx,k=y.y+y.vy,p.visit(m);function m(A,x,E,I,d){var M=A.data,b=A.r,w=f+b;if(M){if(M.index>y.index){var B=g-M.x-M.vx,N=k-M.y-M.vy,j=B*B+N*N;j<w*w&&(B===0&&(B=W(i),j+=B*B),N===0&&(N=W(i),j+=N*N),j=(w-(j=Math.sqrt(j)))/j*a,y.vx+=(B*=j)*(w=(b*=b)/(u+b)),y.vy+=(N*=j)*w,M.vx-=B*(w=1-w),M.vy-=N*w)}return}return x>g+w||I<g-w||E>k+w||d<k-w}}function l(n){if(n.data)return n.r=e[n.data.index];for(var v=n.r=0;v<4;++v)n[v]&&n[v].r>n.r&&(n.r=n[v].r)}function _(){if(!!r){var n,v=r.length,p;for(e=new Array(v),n=0;n<v;++n)p=r[n],e[p.index]=+t(p,n,r)}}return c.initialize=function(n,v){r=n,i=v,_()},c.iterations=function(n){return arguments.length?(s=+n,c):s},c.strength=function(n){return arguments.length?(a=+n,c):a},c.radius=function(n){return arguments.length?(t=typeof n=="function"?n:C(+n),_(),c):t},c}function Wt(t){return t.index}function st(t,r){var e=t.get(r);if(!e)throw new Error("node not found: "+r);return e}function Ut(t){var r=Wt,e=p,i,a=C(30),s,c,l,_,n,v=1;t==null&&(t=[]);function p(u){return 1/Math.min(l[u.source.index],l[u.target.index])}function y(u){for(var h=0,m=t.length;h<v;++h)for(var A=0,x,E,I,d,M,b,w;A<m;++A)x=t[A],E=x.source,I=x.target,d=I.x+I.vx-E.x-E.vx||W(n),M=I.y+I.vy-E.y-E.vy||W(n),b=Math.sqrt(d*d+M*M),b=(b-s[A])/b*u*i[A],d*=b,M*=b,I.vx-=d*(w=_[A]),I.vy-=M*w,E.vx+=d*(w=1-w),E.vy+=M*w}function g(){if(!!c){var u,h=c.length,m=t.length,A=new Map(c.map((E,I)=>[r(E,I,c),E])),x;for(u=0,l=new Array(h);u<m;++u)x=t[u],x.index=u,typeof x.source!="object"&&(x.source=st(A,x.source)),typeof x.target!="object"&&(x.target=st(A,x.target)),l[x.source.index]=(l[x.source.index]||0)+1,l[x.target.index]=(l[x.target.index]||0)+1;for(u=0,_=new Array(m);u<m;++u)x=t[u],_[u]=l[x.source.index]/(l[x.source.index]+l[x.target.index]);i=new Array(m),k(),s=new Array(m),f()}}function k(){if(!!c)for(var u=0,h=t.length;u<h;++u)i[u]=+e(t[u],u,t)}function f(){if(!!c)for(var u=0,h=t.length;u<h;++u)s[u]=+a(t[u],u,t)}return y.initialize=function(u,h){c=u,n=h,g()},y.links=function(u){return arguments.length?(t=u,g(),y):t},y.id=function(u){return arguments.length?(r=u,y):r},y.iterations=function(u){return arguments.length?(v=+u,y):v},y.strength=function(u){return arguments.length?(e=typeof u=="function"?u:C(+u),k(),y):e},y.distance=function(u){return arguments.length?(a=typeof u=="function"?u:C(+u),f(),y):a},y}const Gt=1664525,Vt=1013904223,ft=4294967296;function Jt(){let t=1;return()=>(t=(Gt*t+Vt)%ft)/ft}function Kt(t){return t.x}function Zt(t){return t.y}var qt=10,$t=Math.PI*(3-Math.sqrt(5));function te(t){var r,e=1,i=.001,a=1-Math.pow(i,1/300),s=0,c=.6,l=new Map,_=Nt(p),n=bt("tick","end"),v=Jt();t==null&&(t=[]);function p(){y(),n.call("tick",r),e<i&&(_.stop(),n.call("end",r))}function y(f){var u,h=t.length,m;f===void 0&&(f=1);for(var A=0;A<f;++A)for(e+=(s-e)*a,l.forEach(function(x){x(e)}),u=0;u<h;++u)m=t[u],m.fx==null?m.x+=m.vx*=c:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=c:(m.y=m.fy,m.vy=0);return r}function g(){for(var f=0,u=t.length,h;f<u;++f){if(h=t[f],h.index=f,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var m=qt*Math.sqrt(.5+f),A=f*$t;h.x=m*Math.cos(A),h.y=m*Math.sin(A)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0)}}function k(f){return f.initialize&&f.initialize(t,v),f}return g(),r={tick:y,restart:function(){return _.restart(p),r},stop:function(){return _.stop(),r},nodes:function(f){return arguments.length?(t=f,g(),l.forEach(k),r):t},alpha:function(f){return arguments.length?(e=+f,r):e},alphaMin:function(f){return arguments.length?(i=+f,r):i},alphaDecay:function(f){return arguments.length?(a=+f,r):+a},alphaTarget:function(f){return arguments.length?(s=+f,r):s},velocityDecay:function(f){return arguments.length?(c=1-f,r):1-c},randomSource:function(f){return arguments.length?(v=f,l.forEach(k),r):v},force:function(f,u){return arguments.length>1?(u==null?l.delete(f):l.set(f,k(u)),r):l.get(f)},find:function(f,u,h){var m=0,A=t.length,x,E,I,d,M;for(h==null?h=1/0:h*=h,m=0;m<A;++m)d=t[m],x=f-d.x,E=u-d.y,I=x*x+E*E,I<h&&(M=d,h=I);return M},on:function(f,u){return arguments.length>1?(n.on(f,u),r):n.on(f)}}}function ee(){var t,r,e,i,a=C(-30),s,c=1,l=1/0,_=.81;function n(g){var k,f=t.length,u=et(t,Kt,Zt).visitAfter(p);for(i=g,k=0;k<f;++k)r=t[k],u.visit(y)}function v(){if(!!t){var g,k=t.length,f;for(s=new Array(k),g=0;g<k;++g)f=t[g],s[f.index]=+a(f,g,t)}}function p(g){var k=0,f,u,h=0,m,A,x;if(g.length){for(m=A=x=0;x<4;++x)(f=g[x])&&(u=Math.abs(f.value))&&(k+=f.value,h+=u,m+=u*f.x,A+=u*f.y);g.x=m/h,g.y=A/h}else{f=g,f.x=f.data.x,f.y=f.data.y;do k+=s[f.data.index];while(f=f.next)}g.value=k}function y(g,k,f,u){if(!g.value)return!0;var h=g.x-r.x,m=g.y-r.y,A=u-k,x=h*h+m*m;if(A*A/_<x)return x<l&&(h===0&&(h=W(e),x+=h*h),m===0&&(m=W(e),x+=m*m),x<c&&(x=Math.sqrt(c*x)),r.vx+=h*g.value*i/x,r.vy+=m*g.value*i/x),!0;if(g.length||x>=l)return;(g.data!==r||g.next)&&(h===0&&(h=W(e),x+=h*h),m===0&&(m=W(e),x+=m*m),x<c&&(x=Math.sqrt(c*x)));do g.data!==r&&(A=s[g.data.index]*i/x,r.vx+=h*A,r.vy+=m*A);while(g=g.next)}return n.initialize=function(g,k){t=g,e=k,v()},n.strength=function(g){return arguments.length?(a=typeof g=="function"?g:C(+g),v(),n):a},n.distanceMin=function(g){return arguments.length?(c=g*g,n):Math.sqrt(c)},n.distanceMax=function(g){return arguments.length?(l=g*g,n):Math.sqrt(l)},n.theta=function(g){return arguments.length?(_=g*g,n):Math.sqrt(_)},n}function re(t){var r=C(.1),e,i,a;typeof t!="function"&&(t=C(t==null?0:+t));function s(l){for(var _=0,n=e.length,v;_<n;++_)v=e[_],v.vy+=(a[_]-v.y)*i[_]*l}function c(){if(!!e){var l,_=e.length;for(i=new Array(_),a=new Array(_),l=0;l<_;++l)i[l]=isNaN(a[l]=+t(e[l],l,e))?0:+r(e[l],l,e)}}return s.initialize=function(l){e=l,c()},s.strength=function(l){return arguments.length?(r=typeof l=="function"?l:C(+l),c(),s):r},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:C(+l),c(),s):t},s}function ht(t,r,e){const i=t.slice();return i[21]=r[e],i}function ct(t,r,e){const i=t.slice();return i[24]=r[e],i}function gt(t){let r,e,i,a,s,c;return{c(){r=O("g"),e=O("line"),this.h()},l(l){r=R(l,"g",{});var _=S(r);e=R(_,"line",{"marker-end":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),S(e).forEach(T),_.forEach(T),this.h()},h(){o(e,"marker-end","url(#arrowhead)"),o(e,"x1",i=t[24].source.x+t[0]/2-V),o(e,"y1",a=t[24].source.y-J),o(e,"x2",s=t[24].target.x+t[0]/2-V),o(e,"y2",c=t[24].target.y-J),o(e,"stroke","black")},m(l,_){tt(l,r,_),D(r,e)},p(l,_){_&9&&i!==(i=l[24].source.x+l[0]/2-V)&&o(e,"x1",i),_&8&&a!==(a=l[24].source.y-J)&&o(e,"y1",a),_&9&&s!==(s=l[24].target.x+l[0]/2-V)&&o(e,"x2",s),_&8&&c!==(c=l[24].target.y-J)&&o(e,"y2",c)},d(l){l&&T(r)}}}function _t(t){let r,e,i,a,s,c,l,_,n,v,p,y,g,k,f,u,h,m=t[21].artist+"",A,x,E,I,d,M,b;function w(...F){return t[12](t[21],...F)}function B(...F){return t[13](t[21],...F)}function N(...F){return t[14](t[21],...F)}function j(...F){return t[15](t[21],...F)}return{c(){r=O("g"),e=O("image"),n=O("circle"),p=O("rect"),h=O("text"),A=q(m),this.h()},l(F){r=R(F,"g",{transform:!0,id:!0});var z=S(r);e=R(z,"image",{id:!0,href:!0,height:!0,width:!0,x:!0,y:!0}),S(e).forEach(T),n=R(z,"circle",{id:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),S(n).forEach(T),p=R(z,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),S(p).forEach(T),h=R(z,"text",{class:!0,id:!0,x:!0,y:!0,opacity:!0,"text-anchor":!0});var G=S(h);A=$(G,m),G.forEach(T),z.forEach(T),this.h()},h(){o(e,"id",i=t[6](t[21])+"-image"),o(e,"href",a=t[21].thumbnail),o(e,"height",s=t[4]*2),o(e,"width",c=t[4]*2),o(e,"x",l=-t[4]),o(e,"y",_=-t[4]),o(n,"id",v=t[6](t[21])+"-circle"),o(n,"cx","0"),o(n,"cy","0"),o(n,"r",t[4]),o(n,"stroke","black"),o(n,"fill","none"),o(p,"id",y=t[6](t[21])+"-rect"),o(p,"x",g=-(t[9]("#"+t[6](t[21])+"-text",t[21].artist)+L)/2),o(p,"width",k=t[9]("#"+t[6](t[21])+"-text",t[21].artist)+L),o(p,"y",f=t[4]+60-(t[10]("#"+t[6](t[21])+"-text",t[21].artist)+L)/2),o(p,"height",u=t[10]("#"+t[6](t[21])+"-text",t[21].artist)+L),o(p,"fill","white"),o(p,"stroke","black"),o(p,"rx","15"),o(p,"opacity","0"),o(p,"class","pointer-events-none"),o(h,"class","cursor-default pointer-events-none"),o(h,"id",x=t[6](t[21])+"-text"),o(h,"x","0"),o(h,"y",E=t[4]+65),o(h,"opacity","0"),o(h,"text-anchor","middle"),o(r,"transform",I=t[5](t[21].x+t[0]/2,t[21].y)),o(r,"id",d=t[6](t[21])+"-group")},m(F,z){tt(F,r,z),D(r,e),D(r,n),D(r,p),D(r,h),D(h,A),M||(b=[Z(e,"focus",w),Z(e,"mouseover",B),Z(e,"blur",N),Z(e,"mouseout",j)],M=!0)},p(F,z){t=F,z&4&&i!==(i=t[6](t[21])+"-image")&&o(e,"id",i),z&4&&a!==(a=t[21].thumbnail)&&o(e,"href",a),z&16&&s!==(s=t[4]*2)&&o(e,"height",s),z&16&&c!==(c=t[4]*2)&&o(e,"width",c),z&16&&l!==(l=-t[4])&&o(e,"x",l),z&16&&_!==(_=-t[4])&&o(e,"y",_),z&4&&v!==(v=t[6](t[21])+"-circle")&&o(n,"id",v),z&16&&o(n,"r",t[4]),z&4&&y!==(y=t[6](t[21])+"-rect")&&o(p,"id",y),z&4&&g!==(g=-(t[9]("#"+t[6](t[21])+"-text",t[21].artist)+L)/2)&&o(p,"x",g),z&4&&k!==(k=t[9]("#"+t[6](t[21])+"-text",t[21].artist)+L)&&o(p,"width",k),z&20&&f!==(f=t[4]+60-(t[10]("#"+t[6](t[21])+"-text",t[21].artist)+L)/2)&&o(p,"y",f),z&4&&u!==(u=t[10]("#"+t[6](t[21])+"-text",t[21].artist)+L)&&o(p,"height",u),z&4&&m!==(m=t[21].artist+"")&&wt(A,m),z&4&&x!==(x=t[6](t[21])+"-text")&&o(h,"id",x),z&16&&E!==(E=t[4]+65)&&o(h,"y",E),z&5&&I!==(I=t[5](t[21].x+t[0]/2,t[21].y))&&o(r,"transform",I),z&4&&d!==(d=t[6](t[21])+"-group")&&o(r,"id",d)},d(F){F&&T(r),M=!1,kt(b)}}}function ne(t){let r,e,i,a,s,c,l,_,n,v,p,y,g,k,f,u,h,m,A,x,E,I=t[3],d=[];for(let w=0;w<I.length;w+=1)d[w]=gt(ct(t,I,w));let M=t[2],b=[];for(let w=0;w<M.length;w+=1)b[w]=_t(ht(t,M,w));return{c(){r=mt("div"),e=O("svg"),i=O("defs"),a=O("marker"),s=O("path"),l=O("g");for(let w=0;w<d.length;w+=1)d[w].c();_=O("g");for(let w=0;w<b.length;w+=1)b[w].c();n=O("g"),v=O("rect"),p=O("line"),y=O("circle"),g=O("text"),k=q("A"),f=O("circle"),u=O("text"),h=q("B"),m=O("text"),A=q("A influenced B"),this.h()},l(w){r=xt(w,"DIV",{id:!0,class:!0,style:!0});var B=S(r);e=R(B,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var N=S(e);i=R(N,"defs",{});var j=S(i);a=R(j,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,orient:!0,markerWidth:!0,markerHeight:!0});var F=S(a);s=R(F,"path",{d:!0,fill:!0,stroke:!0}),S(s).forEach(T),F.forEach(T),j.forEach(T),l=R(N,"g",{id:!0});var z=S(l);for(let U=0;U<d.length;U+=1)d[U].l(z);z.forEach(T),_=R(N,"g",{id:!0});var G=S(_);for(let U=0;U<b.length;U+=1)b[U].l(G);G.forEach(T),n=R(N,"g",{transform:!0});var H=S(n);v=R(H,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,rx:!0}),S(v).forEach(T),p=R(H,"line",{"marker-end":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),S(p).forEach(T),y=R(H,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),S(y).forEach(T),g=R(H,"text",{x:!0,y:!0});var nt=S(g);k=$(nt,"A"),nt.forEach(T),f=R(H,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),S(f).forEach(T),u=R(H,"text",{x:!0,y:!0});var it=S(u);h=$(it,"B"),it.forEach(T),m=R(H,"text",{x:!0,y:!0});var at=S(m);A=$(at,"A influenced B"),at.forEach(T),H.forEach(T),N.forEach(T),B.forEach(T),this.h()},h(){o(s,"d","M 0,-5 L 10 ,0 L 0,5"),o(s,"fill","black"),o(s,"stroke","none"),o(a,"id","arrowhead"),o(a,"viewBox","-0 -5 10 10"),o(a,"refX",c=t[4]*2),o(a,"refY","0"),o(a,"orient","auto"),o(a,"markerWidth","7"),o(a,"markerHeight","7"),o(l,"id","links"),o(_,"id","nodes"),o(v,"x","-3"),o(v,"y","0"),o(v,"width","140"),o(v,"height","60"),o(v,"fill","white"),o(v,"stroke","black"),o(v,"rx","15"),o(p,"marker-end","url(#arrowhead)"),o(p,"x1","20"),o(p,"y1","20"),o(p,"x2","115"),o(p,"y2","20"),o(p,"stroke","black"),o(y,"cx","20"),o(y,"cy","20"),o(y,"r",t[4]),o(y,"fill","white"),o(y,"stroke","black"),o(g,"x","15"),o(g,"y","25"),o(f,"cx","115"),o(f,"cy","20"),o(f,"r",t[4]),o(f,"fill","white"),o(f,"stroke","black"),o(u,"x","110"),o(u,"y","25"),o(m,"x","15"),o(m,"y","50"),o(n,"transform",x=t[5](t[0]-L*5,t[1]-L*4)),o(e,"class","inline-block absolute top-0 left-0"),o(e,"viewBox",E="0, 0, "+t[0]+", "+t[1]),o(e,"preserveAspectRatio","xMidYMid meet"),o(r,"id","container"),o(r,"class","inline-block relative align-top overflow-hidden"),K(r,"width",t[0]+"px"),K(r,"height",t[1]+"px")},m(w,B){tt(w,r,B),D(r,e),D(e,i),D(i,a),D(a,s),D(e,l);for(let N=0;N<d.length;N+=1)d[N].m(l,null);D(e,_);for(let N=0;N<b.length;N+=1)b[N].m(_,null);D(e,n),D(n,v),D(n,p),D(n,y),D(n,g),D(g,k),D(n,f),D(n,u),D(u,h),D(n,m),D(m,A)},p(w,[B]){if(B&16&&c!==(c=w[4]*2)&&o(a,"refX",c),B&9){I=w[3];let N;for(N=0;N<I.length;N+=1){const j=ct(w,I,N);d[N]?d[N].p(j,B):(d[N]=gt(j),d[N].c(),d[N].m(l,null))}for(;N<d.length;N+=1)d[N].d(1);d.length=I.length}if(B&2037){M=w[2];let N;for(N=0;N<M.length;N+=1){const j=ht(w,M,N);b[N]?b[N].p(j,B):(b[N]=_t(j),b[N].c(),b[N].m(_,null))}for(;N<b.length;N+=1)b[N].d(1);b.length=M.length}B&16&&o(y,"r",w[4]),B&16&&o(f,"r",w[4]),B&3&&x!==(x=w[5](w[0]-L*5,w[1]-L*4))&&o(n,"transform",x),B&3&&E!==(E="0, 0, "+w[0]+", "+w[1])&&o(e,"viewBox",E),B&1&&K(r,"width",w[0]+"px"),B&2&&K(r,"height",w[1]+"px")},i:ot,o:ot,d(w){w&&T(r),lt(d,w),lt(b,w)}}}const Q=500,L=20,V=40,J=0;function ie(t,r,e){let i,a,s,c,l,_,{width:n=0}=r,{height:v=0}=r;const p=(d,M)=>`translate(${d-V}, ${M-J})`,y=d=>d.artist.replace(/[\s\.]/g,""),g=(d,M)=>{a=te(d).force("link",Ut().id(b=>b.artist).distance(i*2).strength(1)).force("charge",ee().strength(15)).force("y",re(v/2)).force("collide",Qt().radius(b=>i*2)),a.force("link").links(M),a.on("tick",()=>{e(2,s=d),e(3,c=M),Math.abs(a.alpha()-a.alphaTarget())<.1&&a.stop()}),a.on("end",()=>{})},k=d=>{P(d+"-group").raise(),P(d+"-text").transition().duration(Q).attr("opacity",1),P(d+"-rect").transition().duration(Q).attr("opacity",1),P(d+"-image").transition().duration(Q).attr("width",100).attr("height",100).attr("x",-50).attr("y",-50),P(d+"-circle").transition().duration(Q).attr("r",50)},f=d=>{P(d+"-text").transition().duration(Q).attr("opacity",0),P(d+"-rect").transition().duration(Q).attr("opacity",0),P(d+"-image").transition().duration(Q).attr("width",i*2).attr("height",i*2).attr("x",-i).attr("y",-i),P(d+"-circle").transition().duration(Q).attr("r",i)},u=(d,M)=>{const b=P(d).node();return b?b.getBoundingClientRect().width:0},h=(d,M)=>{const b=P(d).node();return b?b.getBoundingClientRect().height:0},m=(d,M)=>{for(let b of d)b.x=n/2;l=d,_=At(M,b=>({source:b.artist,target:b.influenced})),g(l,_)},A=(d,M)=>k("#"+y(d)),x=(d,M)=>k("#"+y(d)),E=(d,M)=>f("#"+y(d)),I=(d,M)=>f("#"+y(d));return t.$$set=d=>{"width"in d&&e(0,n=d.width),"height"in d&&e(1,v=d.height)},t.$$.update=()=>{t.$$.dirty&2&&e(4,i=v/40)},e(2,s=[]),e(3,c=[]),[n,v,s,c,i,p,y,k,f,u,h,m,A,x,E,I]}class ue extends yt{constructor(r){super(),dt(this,r,ie,ne,pt,{width:0,height:1,Initialize:11})}get Initialize(){return this.$$.ctx[11]}}export{ue as N,At as m};
