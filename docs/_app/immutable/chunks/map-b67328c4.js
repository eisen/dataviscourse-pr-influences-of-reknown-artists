import{S as ri,i as ii,s as Lr,k as oi,P as R,q as yn,l as li,m as P,Q as L,r as wn,h as E,n as c,p as Dn,b as rn,F as T,L as Kn,f as Zn,g as Ir,t as Mt,d as Tr,R as ui,e as Tn,H as it,J as ai,T as ze,M as fi,u as si}from"./index-8d2061e5.js";import{c as ci,i as qt,a as be,b as Be,d as hi,s as St}from"./config-f23957d4.js";import{S as pi,G as zn,a as bn,A as K,T as ct,b as ht,s as pt}from"./helpers-d31f3b08.js";import{f as De}from"./index-c469a12e.js";import{r as Yn,i as gi}from"./init-08c38208.js";import{e as Ce,g as _i,a as di}from"./math-f900f350.js";function kt(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function mi(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function zr(n){let t,r,e;n.length!==2?(t=kt,r=(f,_)=>kt(n(f),_),e=(f,_)=>n(f)-_):(t=n===kt||n===mi?n:vi,r=n,e=n);function i(f,_,h=0,o=f.length){if(h<o){if(t(_,_)!==0)return o;do{const a=h+o>>>1;r(f[a],_)<0?h=a+1:o=a}while(h<o)}return h}function l(f,_,h=0,o=f.length){if(h<o){if(t(_,_)!==0)return o;do{const a=h+o>>>1;r(f[a],_)<=0?h=a+1:o=a}while(h<o)}return h}function u(f,_,h=0,o=f.length){const a=i(f,_,h,o-1);return a>h&&e(f[a-1],_)>-e(f[a],_)?a-1:a}return{left:i,center:u,right:l}}function vi(){return 0}function yi(n){return n===null?NaN:+n}const wi=zr(kt),ki=wi.right;zr(yi).center;const Ei=ki;class Cn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const l=r[i],u=t+l,f=Math.abs(t)<Math.abs(l)?t-(u-l):l-(u-t);f&&(r[e++]=f),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,l,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,l=i-(u-e),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(i=l*2,e=u+i,i==e-u&&(u=e))}return u}}var Zt=Math.sqrt(50),Ht=Math.sqrt(10),Wt=Math.sqrt(2);function Mi(n,t,r){var e,i=-1,l,u,f;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(l=n,n=t,t=l),(f=br(n,t,r))===0||!isFinite(f))return[];if(f>0){let _=Math.round(n/f),h=Math.round(t/f);for(_*f<n&&++_,h*f>t&&--h,u=new Array(l=h-_+1);++i<l;)u[i]=(_+i)*f}else{f=-f;let _=Math.round(n*f),h=Math.round(t*f);for(_/f<n&&++_,h/f>t&&--h,u=new Array(l=h-_+1);++i<l;)u[i]=(_+i)/f}return e&&u.reverse(),u}function br(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),l=e/Math.pow(10,i);return i>=0?(l>=Zt?10:l>=Ht?5:l>=Wt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Zt?10:l>=Ht?5:l>=Wt?2:1)}function Si(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),l=e/i;return l>=Zt?i*=10:l>=Ht?i*=5:l>=Wt&&(i*=2),t<n?-i:i}function Ge(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Ni(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*Pi(n){for(const t of n)yield*t}function Br(n){return Array.from(Pi(n))}function Ai(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(l){for(i=0;i<r;++i)e[i]=n[i]*(1-l)+t[i]*l;return e}}function Ri(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Li(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),l=new Array(r),u;for(u=0;u<e;++u)i[u]=se(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(f){for(u=0;u<e;++u)l[u]=i[u](f);return l}}function Ii(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function Ti(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=se(n[i],t[i]):e[i]=t[i];return function(l){for(i in r)e[i]=r[i](l);return e}}function se(n,t){var r=typeof t,e;return t==null||r==="boolean"?ci(t):(r==="number"?qt:r==="string"?(e=be(t))?(t=e,Be):hi:t instanceof be?Be:t instanceof Date?Ii:Ri(t)?Ai:Array.isArray(t)?Li:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ti:qt)(n,t)}function zi(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function bi(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Nt(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function Hn(n){return n=Nt(Math.abs(n)),n?n[1]:NaN}function Bi(n,t){return function(r,e){for(var i=r.length,l=[],u=0,f=n[0],_=0;i>0&&f>0&&(_+f+1>e&&(f=Math.max(1,e-_)),l.push(r.substring(i-=f,i+f)),!((_+=f+1)>e));)f=n[u=(u+1)%n.length];return l.reverse().join(t)}}function Di(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Ci=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pt(n){if(!(t=Ci.exec(n)))throw new Error("invalid format: "+n);var t;return new ce({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pt.prototype=ce.prototype;function ce(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gi(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Dr;function Fi(n,t){var r=Nt(n,t);if(!r)return n+"";var e=r[0],i=r[1],l=i-(Dr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return l===u?e:l>u?e+new Array(l-u+1).join("0"):l>0?e.slice(0,l)+"."+e.slice(l):"0."+new Array(1-l).join("0")+Nt(n,Math.max(0,t+l-1))[0]}function Fe(n,t){var r=Nt(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const Oe={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:bi,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Fe(n*100,t),r:Fe,s:Fi,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ye(n){return n}var Xe=Array.prototype.map,qe=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Oi(n){var t=n.grouping===void 0||n.thousands===void 0?Ye:Bi(Xe.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?Ye:Di(Xe.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"\u2212":n.minus+"",_=n.nan===void 0?"NaN":n.nan+"";function h(a){a=Pt(a);var s=a.fill,g=a.align,d=a.sign,p=a.symbol,v=a.zero,m=a.width,k=a.comma,w=a.precision,S=a.trim,N=a.type;N==="n"?(k=!0,N="g"):Oe[N]||(w===void 0&&(w=12),S=!0,N="g"),(v||s==="0"&&g==="=")&&(v=!0,s="0",g="=");var z=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",D=p==="$"?e:/[%p]/.test(N)?u:"",b=Oe[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function F(M){var W=z,C=D,O,y,B;if(N==="c")C=b(M)+C,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?_:b(Math.abs(M),w),S&&(M=Gi(M)),H&&+M==0&&d!=="+"&&(H=!1),W=(H?d==="("?d:f:d==="-"||d==="("?"":d)+W,C=(N==="s"?qe[8+Dr/3]:"")+C+(H&&d==="("?")":""),A){for(O=-1,y=M.length;++O<y;)if(B=M.charCodeAt(O),48>B||B>57){C=(B===46?i+M.slice(O+1):M.slice(O))+C,M=M.slice(0,O);break}}}k&&!v&&(M=t(M,1/0));var U=W.length+M.length+C.length,Z=U<m?new Array(m-U+1).join(s):"";switch(k&&v&&(M=t(Z+M,Z.length?m-C.length:1/0),Z=""),g){case"<":M=W+M+C+Z;break;case"=":M=W+Z+M+C;break;case"^":M=Z.slice(0,U=Z.length>>1)+W+M+C+Z.slice(U);break;default:M=Z+W+M+C;break}return l(M)}return F.toString=function(){return a+""},F}function o(a,s){var g=h((a=Pt(a),a.type="f",a)),d=Math.max(-8,Math.min(8,Math.floor(Hn(s)/3)))*3,p=Math.pow(10,-d),v=qe[8+d/3];return function(m){return g(p*m)+v}}return{format:h,formatPrefix:o}}var gt,Cr,Gr;Yi({thousands:",",grouping:[3],currency:["$",""]});function Yi(n){return gt=Oi(n),Cr=gt.format,Gr=gt.formatPrefix,gt}function Xi(n){return Math.max(0,-Hn(Math.abs(n)))}function qi(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hn(t)/3)))*3-Hn(Math.abs(n)))}function Zi(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Hn(t)-Hn(n))+1}var q=1e-6,Hi=1e-12,X=Math.PI,pn=X/2,Ze=X/4,_n=X*2,Pn=180/X,hn=X/180,J=Math.abs,Wi=Math.atan,lt=Math.atan2,nn=Math.cos,_t=Math.ceil,tn=Math.sin,Ui=Math.sign||function(n){return n>0?1:n<0?-1:0},Fn=Math.sqrt;function Vi(n){return n>1?0:n<-1?X:Math.acos(n)}function ut(n){return n>1?pn:n<-1?-pn:Math.asin(n)}function gn(){}function At(n,t){n&&We.hasOwnProperty(n.type)&&We[n.type](n,t)}var He={Feature:function(n,t){At(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)At(r[e].geometry,t)}},We={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Ut(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Ut(r[e],t,0)},Polygon:function(n,t){Ue(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Ue(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)At(r[e],t)}};function Ut(n,t,r){var e=-1,i=n.length-r,l;for(t.lineStart();++e<i;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ue(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Ut(n[r],t,1);t.polygonEnd()}function On(n,t){n&&He.hasOwnProperty(n.type)?He[n.type](n,t):At(n,t)}function Vt(n){return[lt(n[1],n[0]),ut(n[2])]}function Wn(n){var t=n[0],r=n[1],e=nn(r);return[e*nn(t),e*tn(t),tn(r)]}function dt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Rt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Gt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function mt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function $t(n){var t=Fn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Jt(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function Qt(n,t){return[J(n)>X?n+Math.round(-n/_n)*_n:n,t]}Qt.invert=Qt;function $i(n,t,r){return(n%=_n)?t||r?Jt($e(n),Je(t,r)):$e(n):t||r?Je(t,r):Qt}function Ve(n){return function(t,r){return t+=n,[t>X?t-_n:t<-X?t+_n:t,r]}}function $e(n){var t=Ve(n);return t.invert=Ve(-n),t}function Je(n,t){var r=nn(n),e=tn(n),i=nn(t),l=tn(t);function u(f,_){var h=nn(_),o=nn(f)*h,a=tn(f)*h,s=tn(_),g=s*r+o*e;return[lt(a*i-g*l,o*r-s*e),ut(g*i+a*l)]}return u.invert=function(f,_){var h=nn(_),o=nn(f)*h,a=tn(f)*h,s=tn(_),g=s*i-a*l;return[lt(a*i+s*l,o*r+g*e),ut(g*r-o*e)]},u}function Ji(n,t,r,e,i,l){if(!!r){var u=nn(t),f=tn(t),_=e*r;i==null?(i=t+e*_n,l=t-_/2):(i=Qe(u,i),l=Qe(u,l),(e>0?i<l:i>l)&&(i+=e*_n));for(var h,o=i;e>0?o>l:o<l;o-=_)h=Vt([u,-f*nn(o),-f*tn(o)]),n.point(h[0],h[1])}}function Qe(n,t){t=Wn(t),t[0]-=n,$t(t);var r=Vi(-t[1]);return((-t[2]<0?-r:r)+_n-q)%_n}function Fr(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:gn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Et(n,t){return J(n[0]-t[0])<q&&J(n[1]-t[1])<q}function vt(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Or(n,t,r,e,i){var l=[],u=[],f,_;if(n.forEach(function(d){if(!((p=d.length-1)<=0)){var p,v=d[0],m=d[p],k;if(Et(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),f=0;f<p;++f)i.point((v=d[f])[0],v[1]);i.lineEnd();return}m[0]+=2*q}l.push(k=new vt(v,d,null,!0)),u.push(k.o=new vt(v,null,k,!1)),l.push(k=new vt(m,d,null,!1)),u.push(k.o=new vt(m,null,k,!0))}}),!!l.length){for(u.sort(t),je(l),je(u),f=0,_=u.length;f<_;++f)u[f].e=r=!r;for(var h=l[0],o,a;;){for(var s=h,g=!0;s.v;)if((s=s.n)===h)return;o=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(g)for(f=0,_=o.length;f<_;++f)i.point((a=o[f])[0],a[1]);else e(s.x,s.n.x,1,i);s=s.n}else{if(g)for(o=s.p.z,f=o.length-1;f>=0;--f)i.point((a=o[f])[0],a[1]);else e(s.x,s.p.x,-1,i);s=s.p}s=s.o,o=s.z,g=!g}while(!s.v);i.lineEnd()}}}function je(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function Ft(n){return J(n[0])<=X?n[0]:Ui(n[0])*((J(n[0])+X)%_n-X)}function Qi(n,t){var r=Ft(t),e=t[1],i=tn(e),l=[tn(r),-nn(r),0],u=0,f=0,_=new Cn;i===1?e=pn+q:i===-1&&(e=-pn-q);for(var h=0,o=n.length;h<o;++h)if(!!(s=(a=n[h]).length))for(var a,s,g=a[s-1],d=Ft(g),p=g[1]/2+Ze,v=tn(p),m=nn(p),k=0;k<s;++k,d=S,v=z,m=D,g=w){var w=a[k],S=Ft(w),N=w[1]/2+Ze,z=tn(N),D=nn(N),b=S-d,A=b>=0?1:-1,F=A*b,M=F>X,W=v*z;if(_.add(lt(W*A*tn(F),m*D+W*nn(F))),u+=M?b+A*_n:b,M^d>=r^S>=r){var C=Rt(Wn(g),Wn(w));$t(C);var O=Rt(l,C);$t(O);var y=(M^b>=0?-1:1)*ut(O[2]);(e>y||e===y&&(C[0]||C[1]))&&(f+=M^b>=0?1:-1)}}return(u<-q||u<q&&_<-Hi)^f&1}function Yr(n,t,r,e){return function(i){var l=t(i),u=Fr(),f=t(u),_=!1,h,o,a,s={point:g,lineStart:p,lineEnd:v,polygonStart:function(){s.point=m,s.lineStart=k,s.lineEnd=w,o=[],h=[]},polygonEnd:function(){s.point=g,s.lineStart=p,s.lineEnd=v,o=Br(o);var S=Qi(h,e);o.length?(_||(i.polygonStart(),_=!0),Or(o,Ki,S,r,i)):S&&(_||(i.polygonStart(),_=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),o=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(S,N){n(S,N)&&i.point(S,N)}function d(S,N){l.point(S,N)}function p(){s.point=d,l.lineStart()}function v(){s.point=g,l.lineEnd()}function m(S,N){a.push([S,N]),f.point(S,N)}function k(){f.lineStart(),a=[]}function w(){m(a[0][0],a[0][1]),f.lineEnd();var S=f.clean(),N=u.result(),z,D=N.length,b,A,F;if(a.pop(),h.push(a),a=null,!!D){if(S&1){if(A=N[0],(b=A.length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),z=0;z<b;++z)i.point((F=A[z])[0],F[1]);i.lineEnd()}return}D>1&&S&2&&N.push(N.pop().concat(N.shift())),o.push(N.filter(ji))}}return s}}function ji(n){return n.length>1}function Ki(n,t){return((n=n.x)[0]<0?n[1]-pn-q:pn-n[1])-((t=t.x)[0]<0?t[1]-pn-q:pn-t[1])}const Ke=Yr(function(){return!0},xi,to,[-X,-pn]);function xi(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(l,u){var f=l>0?X:-X,_=J(l-t);J(_-X)<q?(n.point(t,r=(r+u)/2>0?pn:-pn),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(l,r),i=0):e!==f&&_>=X&&(J(t-e)<q&&(t-=e*q),J(l-f)<q&&(l-=f*q),r=no(t,r,l,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),i=0),n.point(t=l,r=u),e=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function no(n,t,r,e){var i,l,u=tn(n-r);return J(u)>q?Wi((tn(t)*(l=nn(e))*tn(r)-tn(e)*(i=nn(t))*tn(n))/(i*l*u)):(t+e)/2}function to(n,t,r,e){var i;if(n==null)i=r*pn,e.point(-X,i),e.point(0,i),e.point(X,i),e.point(X,0),e.point(X,-i),e.point(0,-i),e.point(-X,-i),e.point(-X,0),e.point(-X,i);else if(J(n[0]-t[0])>q){var l=n[0]<t[0]?X:-X;i=r*l/2,e.point(-l,i),e.point(0,i),e.point(l,i)}else e.point(t[0],t[1])}function eo(n){var t=nn(n),r=6*hn,e=t>0,i=J(t)>q;function l(o,a,s,g){Ji(g,n,r,s,o,a)}function u(o,a){return nn(o)*nn(a)>t}function f(o){var a,s,g,d,p;return{lineStart:function(){d=g=!1,p=1},point:function(v,m){var k=[v,m],w,S=u(v,m),N=e?S?0:h(v,m):S?h(v+(v<0?X:-X),m):0;if(!a&&(d=g=S)&&o.lineStart(),S!==g&&(w=_(a,k),(!w||Et(a,w)||Et(k,w))&&(k[2]=1)),S!==g)p=0,S?(o.lineStart(),w=_(k,a),o.point(w[0],w[1])):(w=_(a,k),o.point(w[0],w[1],2),o.lineEnd()),a=w;else if(i&&a&&e^S){var z;!(N&s)&&(z=_(k,a,!0))&&(p=0,e?(o.lineStart(),o.point(z[0][0],z[0][1]),o.point(z[1][0],z[1][1]),o.lineEnd()):(o.point(z[1][0],z[1][1]),o.lineEnd(),o.lineStart(),o.point(z[0][0],z[0][1],3)))}S&&(!a||!Et(a,k))&&o.point(k[0],k[1]),a=k,g=S,s=N},lineEnd:function(){g&&o.lineEnd(),a=null},clean:function(){return p|(d&&g)<<1}}}function _(o,a,s){var g=Wn(o),d=Wn(a),p=[1,0,0],v=Rt(g,d),m=dt(v,v),k=v[0],w=m-k*k;if(!w)return!s&&o;var S=t*m/w,N=-t*k/w,z=Rt(p,v),D=mt(p,S),b=mt(v,N);Gt(D,b);var A=z,F=dt(D,A),M=dt(A,A),W=F*F-M*(dt(D,D)-1);if(!(W<0)){var C=Fn(W),O=mt(A,(-F-C)/M);if(Gt(O,D),O=Vt(O),!s)return O;var y=o[0],B=a[0],H=o[1],U=a[1],Z;B<y&&(Z=y,y=B,B=Z);var on=B-y,x=J(on-X)<q,un=x||on<q;if(!x&&U<H&&(Z=H,H=U,U=Z),un?x?H+U>0^O[1]<(J(O[0]-y)<q?H:U):H<=O[1]&&O[1]<=U:on>X^(y<=O[0]&&O[0]<=B)){var an=mt(A,(-F+C)/M);return Gt(an,D),[O,Vt(an)]}}}function h(o,a){var s=e?n:X-n,g=0;return o<-s?g|=1:o>s&&(g|=2),a<-s?g|=4:a>s&&(g|=8),g}return Yr(u,f,l,e?[0,-n]:[-X,n-X])}function ro(n,t,r,e,i,l){var u=n[0],f=n[1],_=t[0],h=t[1],o=0,a=1,s=_-u,g=h-f,d;if(d=r-u,!(!s&&d>0)){if(d/=s,s<0){if(d<o)return;d<a&&(a=d)}else if(s>0){if(d>a)return;d>o&&(o=d)}if(d=i-u,!(!s&&d<0)){if(d/=s,s<0){if(d>a)return;d>o&&(o=d)}else if(s>0){if(d<o)return;d<a&&(a=d)}if(d=e-f,!(!g&&d>0)){if(d/=g,g<0){if(d<o)return;d<a&&(a=d)}else if(g>0){if(d>a)return;d>o&&(o=d)}if(d=l-f,!(!g&&d<0)){if(d/=g,g<0){if(d>a)return;d>o&&(o=d)}else if(g>0){if(d<o)return;d<a&&(a=d)}return o>0&&(n[0]=u+o*s,n[1]=f+o*g),a<1&&(t[0]=u+a*s,t[1]=f+a*g),!0}}}}}var xn=1e9,yt=-xn;function io(n,t,r,e){function i(h,o){return n<=h&&h<=r&&t<=o&&o<=e}function l(h,o,a,s){var g=0,d=0;if(h==null||(g=u(h,a))!==(d=u(o,a))||_(h,o)<0^a>0)do s.point(g===0||g===3?n:r,g>1?e:t);while((g=(g+a+4)%4)!==d);else s.point(o[0],o[1])}function u(h,o){return J(h[0]-n)<q?o>0?0:3:J(h[0]-r)<q?o>0?2:1:J(h[1]-t)<q?o>0?1:0:o>0?3:2}function f(h,o){return _(h.x,o.x)}function _(h,o){var a=u(h,1),s=u(o,1);return a!==s?a-s:a===0?o[1]-h[1]:a===1?h[0]-o[0]:a===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,a=Fr(),s,g,d,p,v,m,k,w,S,N,z,D={point:b,lineStart:W,lineEnd:C,polygonStart:F,polygonEnd:M};function b(y,B){i(y,B)&&o.point(y,B)}function A(){for(var y=0,B=0,H=g.length;B<H;++B)for(var U=g[B],Z=1,on=U.length,x=U[0],un,an,ln=x[0],fn=x[1];Z<on;++Z)un=ln,an=fn,x=U[Z],ln=x[0],fn=x[1],an<=e?fn>e&&(ln-un)*(e-an)>(fn-an)*(n-un)&&++y:fn<=e&&(ln-un)*(e-an)<(fn-an)*(n-un)&&--y;return y}function F(){o=a,s=[],g=[],z=!0}function M(){var y=A(),B=z&&y,H=(s=Br(s)).length;(B||H)&&(h.polygonStart(),B&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),H&&Or(s,f,y,l,h),h.polygonEnd()),o=h,s=g=d=null}function W(){D.point=O,g&&g.push(d=[]),N=!0,S=!1,k=w=NaN}function C(){s&&(O(p,v),m&&S&&a.rejoin(),s.push(a.result())),D.point=b,S&&o.lineEnd()}function O(y,B){var H=i(y,B);if(g&&d.push([y,B]),N)p=y,v=B,m=H,N=!1,H&&(o.lineStart(),o.point(y,B));else if(H&&S)o.point(y,B);else{var U=[k=Math.max(yt,Math.min(xn,k)),w=Math.max(yt,Math.min(xn,w))],Z=[y=Math.max(yt,Math.min(xn,y)),B=Math.max(yt,Math.min(xn,B))];ro(U,Z,n,t,r,e)?(S||(o.lineStart(),o.point(U[0],U[1])),o.point(Z[0],Z[1]),H||o.lineEnd(),z=!1):H&&(o.lineStart(),o.point(y,B),z=!1)}k=y,w=B,S=H}return D}}function xe(n,t,r){var e=Yn(n,t-q,r).concat(t);return function(i){return e.map(function(l){return[i,l]})}}function nr(n,t,r){var e=Yn(n,t-q,r).concat(t);return function(i){return e.map(function(l){return[l,i]})}}function oo(){var n,t,r,e,i,l,u,f,_=10,h=_,o=90,a=360,s,g,d,p,v=2.5;function m(){return{type:"MultiLineString",coordinates:k()}}function k(){return Yn(_t(e/o)*o,r,o).map(d).concat(Yn(_t(f/a)*a,u,a).map(p)).concat(Yn(_t(t/_)*_,n,_).filter(function(w){return J(w%o)>q}).map(s)).concat(Yn(_t(l/h)*h,i,h).filter(function(w){return J(w%a)>q}).map(g))}return m.lines=function(){return k().map(function(w){return{type:"LineString",coordinates:w}})},m.outline=function(){return{type:"Polygon",coordinates:[d(e).concat(p(u).slice(1),d(r).reverse().slice(1),p(f).reverse().slice(1))]}},m.extent=function(w){return arguments.length?m.extentMajor(w).extentMinor(w):m.extentMinor()},m.extentMajor=function(w){return arguments.length?(e=+w[0][0],r=+w[1][0],f=+w[0][1],u=+w[1][1],e>r&&(w=e,e=r,r=w),f>u&&(w=f,f=u,u=w),m.precision(v)):[[e,f],[r,u]]},m.extentMinor=function(w){return arguments.length?(t=+w[0][0],n=+w[1][0],l=+w[0][1],i=+w[1][1],t>n&&(w=t,t=n,n=w),l>i&&(w=l,l=i,i=w),m.precision(v)):[[t,l],[n,i]]},m.step=function(w){return arguments.length?m.stepMajor(w).stepMinor(w):m.stepMinor()},m.stepMajor=function(w){return arguments.length?(o=+w[0],a=+w[1],m):[o,a]},m.stepMinor=function(w){return arguments.length?(_=+w[0],h=+w[1],m):[_,h]},m.precision=function(w){return arguments.length?(v=+w,s=xe(l,i,90),g=nr(t,n,v),d=xe(f,u,90),p=nr(e,r,v),m):v},m.extentMajor([[-180,-90+q],[180,90-q]]).extentMinor([[-180,-80-q],[180,80+q]])}const jt=n=>n;var Ot=new Cn,Kt=new Cn,Xr,qr,xt,ne,In={point:gn,lineStart:gn,lineEnd:gn,polygonStart:function(){In.lineStart=lo,In.lineEnd=ao},polygonEnd:function(){In.lineStart=In.lineEnd=In.point=gn,Ot.add(J(Kt)),Kt=new Cn},result:function(){var n=Ot/2;return Ot=new Cn,n}};function lo(){In.point=uo}function uo(n,t){In.point=Zr,Xr=xt=n,qr=ne=t}function Zr(n,t){Kt.add(ne*n-xt*t),xt=n,ne=t}function ao(){Zr(Xr,qr)}const tr=In;var Un=1/0,Lt=Un,at=-Un,It=at,fo={point:so,lineStart:gn,lineEnd:gn,polygonStart:gn,polygonEnd:gn,result:function(){var n=[[Un,Lt],[at,It]];return at=It=-(Lt=Un=1/0),n}};function so(n,t){n<Un&&(Un=n),n>at&&(at=n),t<Lt&&(Lt=t),t>It&&(It=t)}const Tt=fo;var te=0,ee=0,nt=0,zt=0,bt=0,Xn=0,re=0,ie=0,tt=0,Hr,Wr,En,Mn,mn={point:Gn,lineStart:er,lineEnd:rr,polygonStart:function(){mn.lineStart=po,mn.lineEnd=go},polygonEnd:function(){mn.point=Gn,mn.lineStart=er,mn.lineEnd=rr},result:function(){var n=tt?[re/tt,ie/tt]:Xn?[zt/Xn,bt/Xn]:nt?[te/nt,ee/nt]:[NaN,NaN];return te=ee=nt=zt=bt=Xn=re=ie=tt=0,n}};function Gn(n,t){te+=n,ee+=t,++nt}function er(){mn.point=co}function co(n,t){mn.point=ho,Gn(En=n,Mn=t)}function ho(n,t){var r=n-En,e=t-Mn,i=Fn(r*r+e*e);zt+=i*(En+n)/2,bt+=i*(Mn+t)/2,Xn+=i,Gn(En=n,Mn=t)}function rr(){mn.point=Gn}function po(){mn.point=_o}function go(){Ur(Hr,Wr)}function _o(n,t){mn.point=Ur,Gn(Hr=En=n,Wr=Mn=t)}function Ur(n,t){var r=n-En,e=t-Mn,i=Fn(r*r+e*e);zt+=i*(En+n)/2,bt+=i*(Mn+t)/2,Xn+=i,i=Mn*n-En*t,re+=i*(En+n),ie+=i*(Mn+t),tt+=i*3,Gn(En=n,Mn=t)}const ir=mn;function Vr(n){this._context=n}Vr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,_n);break}}},result:gn};var oe=new Cn,Yt,$r,Jr,et,rt,Bt={point:gn,lineStart:function(){Bt.point=mo},lineEnd:function(){Yt&&Qr($r,Jr),Bt.point=gn},polygonStart:function(){Yt=!0},polygonEnd:function(){Yt=null},result:function(){var n=+oe;return oe=new Cn,n}};function mo(n,t){Bt.point=Qr,$r=et=n,Jr=rt=t}function Qr(n,t){et-=n,rt-=t,oe.add(Fn(et*et+rt*rt)),et=n,rt=t}const or=Bt;function jr(){this._string=[]}jr.prototype={_radius:4.5,_circle:lr(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=lr(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function lr(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function vo(n,t){var r=4.5,e,i;function l(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),On(u,e(i))),i.result()}return l.area=function(u){return On(u,e(tr)),tr.result()},l.measure=function(u){return On(u,e(or)),or.result()},l.bounds=function(u){return On(u,e(Tt)),Tt.result()},l.centroid=function(u){return On(u,e(ir)),ir.result()},l.projection=function(u){return arguments.length?(e=u==null?(n=null,jt):(n=u).stream,l):n},l.context=function(u){return arguments.length?(i=u==null?(t=null,new jr):new Vr(t=u),typeof r!="function"&&i.pointRadius(r),l):t},l.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),l):r},l.projection(n).context(t)}function he(n){return function(t){var r=new le;for(var e in n)r[e]=n[e];return r.stream=t,r}}function le(){}le.prototype={constructor:le,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function pe(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),On(r,n.stream(Tt)),t(Tt.result()),e!=null&&n.clipExtent(e),n}function Kr(n,t,r){return pe(n,function(e){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),f=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,_=+t[0][1]+(l-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([f,_])},r)}function yo(n,t,r){return Kr(n,[[0,0],t],r)}function wo(n,t,r){return pe(n,function(e){var i=+t,l=i/(e[1][0]-e[0][0]),u=(i-l*(e[1][0]+e[0][0]))/2,f=-l*e[0][1];n.scale(150*l).translate([u,f])},r)}function ko(n,t,r){return pe(n,function(e){var i=+t,l=i/(e[1][1]-e[0][1]),u=-l*e[0][0],f=(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,f])},r)}var ur=16,Eo=nn(30*hn);function ar(n,t){return+t?So(n,t):Mo(n)}function Mo(n){return he({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function So(n,t){function r(e,i,l,u,f,_,h,o,a,s,g,d,p,v){var m=h-e,k=o-i,w=m*m+k*k;if(w>4*t&&p--){var S=u+s,N=f+g,z=_+d,D=Fn(S*S+N*N+z*z),b=ut(z/=D),A=J(J(z)-1)<q||J(l-a)<q?(l+a)/2:lt(N,S),F=n(A,b),M=F[0],W=F[1],C=M-e,O=W-i,y=k*C-m*O;(y*y/w>t||J((m*C+k*O)/w-.5)>.3||u*s+f*g+_*d<Eo)&&(r(e,i,l,u,f,_,M,W,A,S/=D,N/=D,z,p,v),v.point(M,W),r(M,W,A,S,N,z,h,o,a,s,g,d,p,v))}}return function(e){var i,l,u,f,_,h,o,a,s,g,d,p,v={point:m,lineStart:k,lineEnd:S,polygonStart:function(){e.polygonStart(),v.lineStart=N},polygonEnd:function(){e.polygonEnd(),v.lineStart=k}};function m(b,A){b=n(b,A),e.point(b[0],b[1])}function k(){a=NaN,v.point=w,e.lineStart()}function w(b,A){var F=Wn([b,A]),M=n(b,A);r(a,s,o,g,d,p,a=M[0],s=M[1],o=b,g=F[0],d=F[1],p=F[2],ur,e),e.point(a,s)}function S(){v.point=m,e.lineEnd()}function N(){k(),v.point=z,v.lineEnd=D}function z(b,A){w(i=b,A),l=a,u=s,f=g,_=d,h=p,v.point=w}function D(){r(a,s,o,g,d,p,l,u,i,f,_,h,ur,e),v.lineEnd=S,S()}return v}}var No=he({point:function(n,t){this.stream.point(n*hn,t*hn)}});function Po(n){return he({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Ao(n,t,r,e,i){function l(u,f){return u*=e,f*=i,[t+n*u,r-n*f]}return l.invert=function(u,f){return[(u-t)/n*e,(r-f)/n*i]},l}function fr(n,t,r,e,i,l){if(!l)return Ao(n,t,r,e,i);var u=nn(l),f=tn(l),_=u*n,h=f*n,o=u/n,a=f/n,s=(f*r-u*t)/n,g=(f*t+u*r)/n;function d(p,v){return p*=e,v*=i,[_*p-h*v+t,r-h*p-_*v]}return d.invert=function(p,v){return[e*(o*p-a*v+s),i*(g-a*p-o*v)]},d}function Ro(n){return Lo(function(){return n})()}function Lo(n){var t,r=150,e=480,i=250,l=0,u=0,f=0,_=0,h=0,o,a=0,s=1,g=1,d=null,p=Ke,v=null,m,k,w,S=jt,N=.5,z,D,b,A,F;function M(y){return b(y[0]*hn,y[1]*hn)}function W(y){return y=b.invert(y[0],y[1]),y&&[y[0]*Pn,y[1]*Pn]}M.stream=function(y){return A&&F===y?A:A=No(Po(o)(p(z(S(F=y)))))},M.preclip=function(y){return arguments.length?(p=y,d=void 0,O()):p},M.postclip=function(y){return arguments.length?(S=y,v=m=k=w=null,O()):S},M.clipAngle=function(y){return arguments.length?(p=+y?eo(d=y*hn):(d=null,Ke),O()):d*Pn},M.clipExtent=function(y){return arguments.length?(S=y==null?(v=m=k=w=null,jt):io(v=+y[0][0],m=+y[0][1],k=+y[1][0],w=+y[1][1]),O()):v==null?null:[[v,m],[k,w]]},M.scale=function(y){return arguments.length?(r=+y,C()):r},M.translate=function(y){return arguments.length?(e=+y[0],i=+y[1],C()):[e,i]},M.center=function(y){return arguments.length?(l=y[0]%360*hn,u=y[1]%360*hn,C()):[l*Pn,u*Pn]},M.rotate=function(y){return arguments.length?(f=y[0]%360*hn,_=y[1]%360*hn,h=y.length>2?y[2]%360*hn:0,C()):[f*Pn,_*Pn,h*Pn]},M.angle=function(y){return arguments.length?(a=y%360*hn,C()):a*Pn},M.reflectX=function(y){return arguments.length?(s=y?-1:1,C()):s<0},M.reflectY=function(y){return arguments.length?(g=y?-1:1,C()):g<0},M.precision=function(y){return arguments.length?(z=ar(D,N=y*y),O()):Fn(N)},M.fitExtent=function(y,B){return Kr(M,y,B)},M.fitSize=function(y,B){return yo(M,y,B)},M.fitWidth=function(y,B){return wo(M,y,B)},M.fitHeight=function(y,B){return ko(M,y,B)};function C(){var y=fr(r,0,0,s,g,a).apply(null,t(l,u)),B=fr(r,e-y[0],i-y[1],s,g,a);return o=$i(f,_,h),D=Jt(t,B),b=Jt(o,D),z=ar(D,N),O()}function O(){return A=F=null,M}return function(){return t=n.apply(this,arguments),M.invert=t.invert&&W,C()}}function Io(n){return function(){return n}}function To(n){return+n}var sr=[0,1];function qn(n){return n}function ue(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Io(isNaN(t)?NaN:.5)}function zo(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function bo(n,t,r){var e=n[0],i=n[1],l=t[0],u=t[1];return i<e?(e=ue(i,e),l=r(u,l)):(e=ue(e,i),l=r(l,u)),function(f){return l(e(f))}}function Bo(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),l=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=ue(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(f){var _=Ei(n,f,1,e)-1;return l[_](i[_](f))}}function Do(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Co(){var n=sr,t=sr,r=se,e,i,l,u=qn,f,_,h;function o(){var s=Math.min(n.length,t.length);return u!==qn&&(u=zo(n[0],n[s-1])),f=s>2?Bo:bo,_=h=null,a}function a(s){return s==null||isNaN(s=+s)?l:(_||(_=f(n.map(e),t,r)))(e(u(s)))}return a.invert=function(s){return u(i((h||(h=f(t,n.map(e),qt)))(s)))},a.domain=function(s){return arguments.length?(n=Array.from(s,To),o()):n.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),o()):t.slice()},a.rangeRound=function(s){return t=Array.from(s),r=zi,o()},a.clamp=function(s){return arguments.length?(u=s?!0:qn,o()):u!==qn},a.interpolate=function(s){return arguments.length?(r=s,o()):r},a.unknown=function(s){return arguments.length?(l=s,a):l},function(s,g){return e=s,i=g,o()}}function Go(){return Co()(qn,qn)}function Fo(n,t,r,e){var i=Si(n,t,r),l;switch(e=Pt(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(l=qi(i,u))&&(e.precision=l),Gr(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(l=Zi(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=l-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(l=Xi(i))&&(e.precision=l-(e.type==="%")*2);break}}return Cr(e)}function Oo(n){var t=n.domain;return n.ticks=function(r){var e=t();return Mi(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return Fo(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,l=e.length-1,u=e[i],f=e[l],_,h,o=10;for(f<u&&(h=u,u=f,f=h,h=i,i=l,l=h);o-- >0;){if(h=br(u,f,r),h===_)return e[i]=u,e[l]=f,t(e);if(h>0)u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h;else if(h<0)u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h;else break;_=h}return n},n}function ae(){var n=Go();return n.copy=function(){return Do(n,ae())},gi.apply(n,arguments),Oo(n)}function Yo(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const cr=Yo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function hr(n,t,r){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-r),n._x2,n._y2)}function ge(n,t){this._context=n,this._k=(1-t)/6}ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:hr(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function r(e){return new ge(e,t)}return r.tension=function(e){return n(+e)},r})(0);function Xo(n,t,r){var e=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>Ce){var f=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,_=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*f-n._x0*n._l12_2a+n._x2*n._l01_2a)/_,i=(i*f-n._y0*n._l12_2a+n._y2*n._l01_2a)/_}if(n._l23_a>Ce){var h=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,o=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*h+n._x1*n._l23_2a-t*n._l12_2a)/o,u=(u*h+n._y1*n._l23_2a-r*n._l12_2a)/o}n._context.bezierCurveTo(e,i,l,u,n._x2,n._y2)}function xr(n,t){this._context=n,this._alpha=t}xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var r=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Xo(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qo=function n(t){function r(e){return t?new xr(e,t):new ge(e,0)}return r.alpha=function(e){return n(+e)},r}(.5);function Zo(n){return n}function Ho(n){if(n==null)return Zo;var t,r,e=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(f,_){_||(t=r=0);var h=2,o=f.length,a=new Array(o);for(a[0]=(t+=f[0])*e+l,a[1]=(r+=f[1])*i+u;h<o;)a[h]=f[h],++h;return a}}function Wo(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function Uo(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return pr(n,r)})}:pr(n,t)}function pr(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,l=Vo(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:l}:e==null?{type:"Feature",id:r,properties:i,geometry:l}:{type:"Feature",id:r,bbox:e,properties:i,geometry:l}}function Vo(n,t){var r=Ho(n.transform),e=n.arcs;function i(o,a){a.length&&a.pop();for(var s=e[o<0?~o:o],g=0,d=s.length;g<d;++g)a.push(r(s[g],g));o<0&&Wo(a,d)}function l(o){return r(o)}function u(o){for(var a=[],s=0,g=o.length;s<g;++s)i(o[s],a);return a.length<2&&a.push(a[0]),a}function f(o){for(var a=u(o);a.length<4;)a.push(a[0]);return a}function _(o){return o.map(f)}function h(o){var a=o.type,s;switch(a){case"GeometryCollection":return{type:a,geometries:o.geometries.map(h)};case"Point":s=l(o.coordinates);break;case"MultiPoint":s=o.coordinates.map(l);break;case"LineString":s=u(o.arcs);break;case"MultiLineString":s=o.arcs.map(u);break;case"Polygon":s=_(o.arcs);break;case"MultiPolygon":s=o.arcs.map(_);break;default:return null}return{type:a,coordinates:s}}return h(t)}function gr(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function $o(n){var t={},r=n.map(function(){return[]});function e(p,v){p.forEach(function(m){m<0&&(m=~m);var k=t[m];k?k.push(v):t[m]=[v]})}function i(p,v){p.forEach(function(m){e(m,v)})}function l(p,v){p.type==="GeometryCollection"?p.geometries.forEach(function(m){l(m,v)}):p.type in u&&u[p.type](p.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(p,v){p.forEach(function(m){i(m,v)})}};n.forEach(l);for(var f in t)for(var _=t[f],h=_.length,o=0;o<h;++o)for(var a=o+1;a<h;++a){var s=_[o],g=_[a],d;(d=r[s])[f=gr(d,g)]!==g&&d.splice(f,0,g),(d=r[g])[f=gr(d,s)]!==s&&d.splice(f,0,s)}return r}var Dt=Math.abs,Vn=Math.cos,Sn=Math.sin,ot=1e-6,Ct=Math.PI,fe=Ct/2;function Jo(n){return n?n/Math.sin(n):1}function _e(n){return n>1?0:n<-1?Ct:Math.acos(n)}function ni(n){return n>0?Math.sqrt(n):0}function ti(n,t){var r=Vn(t),e=Jo(_e(r*Vn(n/=2)));return[2*r*Sn(n)*e,Sn(t)*e]}ti.invert=function(n,t){if(!(n*n+4*t*t>Ct*Ct+ot)){var r=n,e=t,i=25;do{var l=Sn(r),u=Sn(r/2),f=Vn(r/2),_=Sn(e),h=Vn(e),o=Sn(2*e),a=_*_,s=h*h,g=u*u,d=1-s*f*f,p=d?_e(h*f)*ni(v=1/d):v=0,v,m=2*p*h*u-n,k=p*_-t,w=v*(s*g+p*h*f*a),S=v*(.5*l*o-p*2*_*u),N=v*.25*(o*u-p*_*s*l),z=v*(a*f+p*g*h),D=S*N-z*w;if(!D)break;var b=(k*S-m*z)/D,A=(m*N-k*w)/D;r-=b,e-=A}while((Dt(b)>ot||Dt(A)>ot)&&--i>0);return[r,e]}};function ei(n,t){var r=ti(n,t);return[(r[0]+n/fe)/2,(r[1]+t)/2]}ei.invert=function(n,t){var r=n,e=t,i=25;do{var l=Vn(e),u=Sn(e),f=Sn(2*e),_=u*u,h=l*l,o=Sn(r),a=Vn(r/2),s=Sn(r/2),g=s*s,d=1-h*a*a,p=d?_e(l*a)*ni(v=1/d):v=0,v,m=.5*(2*p*l*s+r/fe)-n,k=.5*(p*u+e)-t,w=.5*v*(h*g+p*l*a*_)+.5/fe,S=v*(o*f/4-p*u*s),N=.125*v*(f*s-p*u*h*o),z=.5*v*(_*a+p*g*l)+.5,D=S*N-z*w,b=(k*S-m*z)/D,A=(m*N-k*w)/D;r-=b,e-=A}while((Dt(b)>ot||Dt(A)>ot)&&--i>0);return[r,e]};function Qo(){return Ro(ei).scale(158.837)}function _r(n,t,r){const e=n.slice();return e[51]=t[r],e}function dr(n,t,r){const e=n.slice();return e[51]=t[r],e}function mr(n,t,r){const e=n.slice();return e[51]=t[r],e}function vr(n,t,r){const e=n.slice();return e[58]=t[r],e[60]=r,e}function yr(n,t,r){const e=n.slice();return e[61]=t[r],e}function wr(n){let t,r=n[8],e,i,l,u,f=Sr(n),_=n[5],h=[];for(let p=0;p<_.length;p+=1)h[p]=Pr(mr(n,_,p));let o=n[5],a=[];for(let p=0;p<o.length;p+=1)a[p]=Ar(dr(n,o,p));const s=p=>Mt(a[p],1,1,()=>{a[p]=null});let g=n[5],d=[];for(let p=0;p<g.length;p+=1)d[p]=Rr(_r(n,g,p));return{c(){t=R("g"),f.c(),e=R("g");for(let p=0;p<h.length;p+=1)h[p].c();i=Tn();for(let p=0;p<a.length;p+=1)a[p].c();l=Tn();for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){t=L(p,"g",{id:!0});var v=P(t);f.l(v),e=L(v,"g",{id:!0});var m=P(e);for(let k=0;k<h.length;k+=1)h[k].l(m);i=Tn();for(let k=0;k<a.length;k+=1)a[k].l(m);l=Tn();for(let k=0;k<d.length;k+=1)d[k].l(m);m.forEach(E),v.forEach(E),this.h()},h(){c(e,"id","artists"),c(t,"id","map")},m(p,v){rn(p,t,v),f.m(t,null),T(t,e);for(let m=0;m<h.length;m+=1)h[m].m(e,null);T(e,i);for(let m=0;m<a.length;m+=1)a[m].m(e,null);T(e,l);for(let m=0;m<d.length;m+=1)d[m].m(e,null);u=!0},p(p,v){if(v[0]&256&&Lr(r,r=p[8])?(f.d(1),f=Sr(p),f.c(),f.m(t,e)):f.p(p,v),v[0]&512100){_=p[5];let m;for(m=0;m<_.length;m+=1){const k=mr(p,_,m);h[m]?h[m].p(k,v):(h[m]=Pr(k),h[m].c(),h[m].m(e,i))}for(;m<h.length;m+=1)h[m].d(1);h.length=_.length}if(v[0]&3874852){o=p[5];let m;for(m=0;m<o.length;m+=1){const k=dr(p,o,m);a[m]?(a[m].p(k,v),Zn(a[m],1)):(a[m]=Ar(k),a[m].c(),Zn(a[m],1),a[m].m(e,l))}for(Ir(),m=o.length;m<a.length;m+=1)s(m);Tr()}if(v[0]&204832){g=p[5];let m;for(m=0;m<g.length;m+=1){const k=_r(p,g,m);d[m]?d[m].p(k,v):(d[m]=Rr(k),d[m].c(),d[m].m(e,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=g.length}},i(p){if(!u){for(let v=0;v<o.length;v+=1)Zn(a[v]);u=!0}},o(p){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)Mt(a[v]);u=!1},d(p){p&&E(t),f.d(p),it(h,p),it(a,p),it(d,p)}}}function kr(n){let t,r;return{c(){t=R("path"),this.h()},l(e){t=L(e,"path",{d:!0,fill:!0,stroke:!0}),P(t).forEach(E),this.h()},h(){c(t,"d",r=n[7](n[61])),c(t,"fill","none"),c(t,"stroke","lightgray")},m(e,i){rn(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[61]))&&c(t,"d",r)},d(e){e&&E(t)}}}function Er(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Mr(vr(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Tn()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=Tn()},m(i,l){for(let u=0;u<e.length;u+=1)e[u].m(i,l);rn(i,t,l)},p(i,l){if(l[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const f=vr(i,r,u);e[u]?e[u].p(f,l):(e[u]=Mr(f),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){it(e,i),i&&E(t)}}}function Mr(n){let t,r,e,i;return{c(){t=R("path"),this.h()},l(l){t=L(l,"path",{id:!0,d:!0,stroke:!0,fill:!0}),P(t).forEach(E),this.h()},h(){c(t,"id",r=n[58].id),c(t,"d",e=n[7](n[58])),c(t,"stroke","none"),c(t,"fill",i=cr[n[4][n[60]]])},m(l,u){rn(l,t,u)},p(l,u){u[0]&8&&r!==(r=l[58].id)&&c(t,"id",r),u[0]&136&&e!==(e=l[7](l[58]))&&c(t,"d",e),u[0]&16&&i!==(i=cr[l[4][l[60]]])&&c(t,"fill",i)},d(l){l&&E(t)}}}function Sr(n){let t,r,e,i,l,u,f,_,h=n[10],o=[];for(let s=0;s<h.length;s+=1)o[s]=kr(yr(n,h,s));let a=n[3]&&Er(n);return{c(){t=R("g"),r=R("path"),i=R("g");for(let s=0;s<o.length;s+=1)o[s].c();l=R("g"),a&&a.c(),u=R("g"),f=R("path"),this.h()},l(s){t=L(s,"g",{id:!0});var g=P(t);r=L(g,"path",{d:!0,fill:!0,stroke:!0}),P(r).forEach(E),g.forEach(E),i=L(s,"g",{id:!0});var d=P(i);for(let m=0;m<o.length;m+=1)o[m].l(d);d.forEach(E),l=L(s,"g",{id:!0});var p=P(l);a&&a.l(p),p.forEach(E),u=L(s,"g",{id:!0});var v=P(u);f=L(v,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(f).forEach(E),v.forEach(E),this.h()},h(){c(r,"d",e=n[7](n[11])),c(r,"fill",pi),c(r,"stroke","none"),c(t,"id","fill"),c(i,"id","graticules"),c(l,"id","countries"),c(f,"d",_=n[7](n[11])),c(f,"fill","none"),c(f,"stroke","lightgray"),c(f,"stroke-width","2"),c(u,"id","outline")},m(s,g){rn(s,t,g),T(t,r),rn(s,i,g);for(let d=0;d<o.length;d+=1)o[d].m(i,null);rn(s,l,g),a&&a.m(l,null),rn(s,u,g),T(u,f)},p(s,g){if(g[0]&128&&e!==(e=s[7](s[11]))&&c(r,"d",e),g[0]&1152){h=s[10];let d;for(d=0;d<h.length;d+=1){const p=yr(s,h,d);o[d]?o[d].p(p,g):(o[d]=kr(p),o[d].c(),o[d].m(i,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=h.length}s[3]?a?a.p(s,g):(a=Er(s),a.c(),a.m(l,null)):a&&(a.d(1),a=null),g[0]&128&&_!==(_=s[7](s[11]))&&c(f,"d",_)},d(s){s&&E(t),s&&E(i),it(o,s),s&&E(l),a&&a.d(),s&&E(u)}}}function Nr(n){let t,r;function e(u,f){return f[0]&36&&(t=null),t==null&&(t=!!u[14](u[2][0],u[51][0])),t?Ko:jo}let i=e(n,[-1,-1,-1]),l=i(n);return{c(){l.c(),r=Tn()},l(u){l.l(u),r=Tn()},m(u,f){l.m(u,f),rn(u,r,f)},p(u,f){i===(i=e(u,f))&&l?l.p(u,f):(l.d(1),l=i(u),l&&(l.c(),l.m(r.parentNode,r)))},d(u){l.d(u),u&&E(r)}}}function jo(n){let t,r,e,i,l,u,f,_,h;return{c(){t=R("g"),r=R("g"),e=R("g"),i=R("path"),f=R("path"),this.h()},l(o){t=L(o,"g",{transform:!0});var a=P(t);r=L(a,"g",{transform:!0});var s=P(r);e=L(s,"g",{transform:!0});var g=P(e);i=L(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(i).forEach(E),g.forEach(E),s.forEach(E),a.forEach(E),f=L(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(f).forEach(E),this.h()},h(){c(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),c(i,"fill","#cc0000"),c(i,"stroke","black"),c(i,"stroke-width","2"),c(e,"transform","translate("+(-en*2-10)+", 0)"),c(r,"transform",l="rotate("+n[15]([n[16](n[2]),n[17](n[2])],[n[16](n[51]),n[17](n[51])])+")"),c(t,"transform",u="translate("+n[16](n[51])+", "+n[17](n[51])+")"),c(f,"d",_=n[12]([n[16](n[2]),n[17](n[2])],[n[16](n[51]),n[17](n[51])])),c(f,"stroke","#c00"),c(f,"fill","none"),c(f,"opacity","0.5"),c(f,"stroke-width",h=n[18](n[2],n[51]))},m(o,a){rn(o,t,a),T(t,r),T(r,e),T(e,i),rn(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[2]),o[17](o[2])],[o[16](o[51]),o[17](o[51])])+")")&&c(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[51])+", "+o[17](o[51])+")")&&c(t,"transform",u),a[0]&36&&_!==(_=o[12]([o[16](o[2]),o[17](o[2])],[o[16](o[51]),o[17](o[51])]))&&c(f,"d",_),a[0]&36&&h!==(h=o[18](o[2],o[51]))&&c(f,"stroke-width",h)},d(o){o&&E(t),o&&E(f)}}}function Ko(n){let t,r,e,i,l,u,f,_,h;return{c(){t=R("g"),r=R("g"),e=R("g"),i=R("path"),f=R("path"),this.h()},l(o){t=L(o,"g",{transform:!0});var a=P(t);r=L(a,"g",{transform:!0});var s=P(r);e=L(s,"g",{transform:!0});var g=P(e);i=L(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(i).forEach(E),g.forEach(E),s.forEach(E),a.forEach(E),f=L(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(f).forEach(E),this.h()},h(){c(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),c(i,"fill","#cc0000"),c(i,"stroke","black"),c(i,"stroke-width","2"),c(e,"transform","translate("+en*2+", 0)"),c(r,"transform",l="rotate("+n[15]([n[16](n[51]),n[17](n[51])],[n[16](n[2]),n[17](n[2])])+")"),c(t,"transform",u="translate("+n[16](n[51])+", "+n[17](n[51])+")"),c(f,"d",_=n[12]([n[16](n[51]),n[17](n[51])],[n[16](n[2]),n[17](n[2])])),c(f,"stroke","#c00"),c(f,"fill","none"),c(f,"opacity","0.5"),c(f,"stroke-width",h=n[18](n[2],n[51]))},m(o,a){rn(o,t,a),T(t,r),T(r,e),T(e,i),rn(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[51]),o[17](o[51])],[o[16](o[2]),o[17](o[2])])+")")&&c(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[51])+", "+o[17](o[51])+")")&&c(t,"transform",u),a[0]&36&&_!==(_=o[12]([o[16](o[51]),o[17](o[51])],[o[16](o[2]),o[17](o[2])]))&&c(f,"d",_),a[0]&36&&h!==(h=o[18](o[2],o[51]))&&c(f,"stroke-width",h)},d(o){o&&E(t),o&&E(f)}}}function Pr(n){let t,r,e,i,l,u,f,_,h,o=n[2][0]!==n[51][0]&&Nr(n);return{c(){t=R("g"),r=R("line"),f=R("circle"),o&&o.c(),this.h()},l(a){t=L(a,"g",{});var s=P(t);r=L(s,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),P(r).forEach(E),f=L(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),P(f).forEach(E),o&&o.l(s),s.forEach(E),this.h()},h(){c(r,"x2",e=zn(n[6],n[51][1])),c(r,"y2",i=bn(n[6],n[51][1])),c(r,"x1",l=n[16](n[51])),c(r,"y1",u=n[17](n[51])),c(r,"stroke","black"),c(f,"cx",_=zn(n[6],n[51][1])),c(f,"cy",h=bn(n[6],n[51][1])),c(f,"r","2"),c(f,"fill","black")},m(a,s){rn(a,t,s),T(t,r),T(t,f),o&&o.m(t,null)},p(a,s){s[0]&96&&e!==(e=zn(a[6],a[51][1]))&&c(r,"x2",e),s[0]&96&&i!==(i=bn(a[6],a[51][1]))&&c(r,"y2",i),s[0]&32&&l!==(l=a[16](a[51]))&&c(r,"x1",l),s[0]&32&&u!==(u=a[17](a[51]))&&c(r,"y1",u),s[0]&96&&_!==(_=zn(a[6],a[51][1]))&&c(f,"cx",_),s[0]&96&&h!==(h=bn(a[6],a[51][1]))&&c(f,"cy",h),a[2][0]!==a[51][0]?o?o.p(a,s):(o=Nr(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&E(t),o&&o.d()}}}function xo(n){let t,r,e,i;return{c(){t=R("image"),i=R("circle"),this.h()},l(l){t=L(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(E),i=L(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),P(i).forEach(E),this.h()},h(){c(t,"id",r=K(n[51][0])+"-image-map"),c(t,"href",e=St+n[19](n[51][0])),Dn(t,"outline","none"),c(t,"height",en*4),c(t,"width",en*4),c(t,"x",-en*2),c(t,"y",-en*2),c(i,"cx","0"),c(i,"cy","0"),c(i,"r",en*2),c(i,"stroke","black"),c(i,"fill","none")},m(l,u){rn(l,t,u),rn(l,i,u)},p(l,u){u[0]&32&&r!==(r=K(l[51][0])+"-image-map")&&c(t,"id",r),u[0]&32&&e!==(e=St+l[19](l[51][0]))&&c(t,"href",e)},d(l){l&&E(t),l&&E(i)}}}function nl(n){let t,r,e,i;return{c(){t=R("image"),i=R("circle"),this.h()},l(l){t=L(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(E),i=L(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),P(i).forEach(E),this.h()},h(){c(t,"id",r=K(n[51][0])+"-image-map"),c(t,"href",e=St+n[19](n[51][0])),Dn(t,"outline","none"),c(t,"height",en*4),c(t,"width",en*4),c(t,"x",-en*2),c(t,"y",-en*2),c(i,"cx","0"),c(i,"cy","0"),c(i,"r",en*2),c(i,"stroke","#c00"),c(i,"stroke-width","2"),c(i,"fill","none")},m(l,u){rn(l,t,u),rn(l,i,u)},p(l,u){u[0]&32&&r!==(r=K(l[51][0])+"-image-map")&&c(t,"id",r),u[0]&32&&e!==(e=St+l[19](l[51][0]))&&c(t,"href",e)},d(l){l&&E(t),l&&E(i)}}}function Ar(n){let t,r,e,i,l,u,f;function _(p,v){return p[51][0]===p[2][0]?nl:xo}let h=_(n),o=h(n);function a(...p){return n[27](n[51],...p)}function s(...p){return n[28](n[51],...p)}function g(...p){return n[29](n[51],...p)}function d(...p){return n[30](n[51],...p)}return{c(){t=R("g"),o.c(),this.h()},l(p){t=L(p,"g",{id:!0,transform:!0,style:!0});var v=P(t);o.l(v),v.forEach(E),this.h()},h(){c(t,"id",r=K(n[51][0])+"-group-map"),c(t,"transform",e=n[13](n[16](n[51]),n[17](n[51]))),Dn(t,"outline","none")},m(p,v){rn(p,t,v),o.m(t,null),l=!0,u||(f=[Kn(t,"focus",a),Kn(t,"mouseover",s),Kn(t,"blur",g),Kn(t,"mouseout",d)],u=!0)},p(p,v){n=p,h===(h=_(n))&&o?o.p(n,v):(o.d(1),o=h(n),o&&(o.c(),o.m(t,null))),(!l||v[0]&32&&r!==(r=K(n[51][0])+"-group-map"))&&c(t,"id",r),(!l||v[0]&32&&e!==(e=n[13](n[16](n[51]),n[17](n[51]))))&&c(t,"transform",e)},i(p){l||(ai(()=>{i||(i=ze(t,De,{},!0)),i.run(1)}),l=!0)},o(p){i||(i=ze(t,De,{},!1)),i.run(0),l=!1},d(p){p&&E(t),o.d(),p&&i&&i.end(),u=!1,fi(f)}}}function Rr(n){let t,r,e,i,l,u,f,_,h=n[51][0]+"",o,a,s;return{c(){t=R("g"),r=R("rect"),_=R("text"),o=yn(h),this.h()},l(g){t=L(g,"g",{transform:!0});var d=P(t);r=L(d,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),P(r).forEach(E),_=L(d,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var p=P(_);o=wn(p,h),p.forEach(E),d.forEach(E),this.h()},h(){c(r,"id",e=K(n[51][0])+"-rect-map"),c(r,"x",i=-(ct("#"+K(n[51][0])+"-text-map",n[51][0])+kn)/2),c(r,"width",l=ct("#"+K(n[51][0])+"-text-map",n[51][0])+kn),c(r,"y",u=(Xt*2.5+ht("#"+K(n[51][0])+"-text-map",n[51][0]))/2),c(r,"height",f=ht("#"+K(n[51][0])+"-text-map",n[51][0])+kn-10),c(r,"fill","white"),c(r,"stroke","black"),c(r,"rx","15"),c(r,"opacity","0"),c(r,"class","pointer-events-none"),c(_,"id",a=K(n[51][0])+"-text-map"),c(_,"opacity","0"),c(_,"x","0"),c(_,"y",Xt*2.75),c(_,"text-anchor","middle"),c(t,"transform",s=n[13](n[16](n[51]),n[17](n[51])))},m(g,d){rn(g,t,d),T(t,r),T(t,_),T(_,o)},p(g,d){d[0]&32&&e!==(e=K(g[51][0])+"-rect-map")&&c(r,"id",e),d[0]&32&&i!==(i=-(ct("#"+K(g[51][0])+"-text-map",g[51][0])+kn)/2)&&c(r,"x",i),d[0]&32&&l!==(l=ct("#"+K(g[51][0])+"-text-map",g[51][0])+kn)&&c(r,"width",l),d[0]&32&&u!==(u=(Xt*2.5+ht("#"+K(g[51][0])+"-text-map",g[51][0]))/2)&&c(r,"y",u),d[0]&32&&f!==(f=ht("#"+K(g[51][0])+"-text-map",g[51][0])+kn-10)&&c(r,"height",f),d[0]&32&&h!==(h=g[51][0]+"")&&si(o,h),d[0]&32&&a!==(a=K(g[51][0])+"-text-map")&&c(_,"id",a),d[0]&32&&s!==(s=g[13](g[16](g[51]),g[17](g[51])))&&c(t,"transform",s)},d(g){g&&E(t)}}}function tl(n){let t,r,e,i,l,u,f,_,h,o,a,s,g,d,p,v,m,k,w,S,N,z,D,b,A,F,M,W,C,O,y,B,H,U,Z,on,x,un,an,ln,fn,$n,Nn,Jn,An,cn,Qn,I,G,V,Q,dn,Y=n[7]&&wr(n);return{c(){t=oi("div"),r=R("svg"),e=R("defs"),i=R("style"),l=yn(`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),Y&&Y.c(),u=R("svg"),f=R("defs"),_=R("style"),h=yn(`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),o=R("g"),a=R("path"),s=R("polygon"),g=R("path"),p=R("g"),v=R("rect"),m=R("g"),k=R("g"),w=R("g"),S=R("g"),N=R("path"),z=R("line"),D=R("circle"),b=R("text"),A=yn("A"),F=R("circle"),M=R("text"),W=yn("B"),C=R("text"),O=yn("A influenced B"),y=R("g"),B=R("g"),H=R("g"),U=R("g"),Z=R("path"),on=R("line"),x=R("circle"),un=R("text"),an=yn("A"),ln=R("circle"),fn=R("text"),$n=yn("B"),Nn=R("text"),Jn=yn("A influenced B"),An=R("g"),cn=R("text"),Qn=yn("Line thickness encodes birth year gap"),this.h()},l($){t=li($,"DIV",{id:!0,class:!0,style:!0});var sn=P(t);r=L(sn,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var vn=P(r);e=L(vn,"defs",{});var Bn=P(e);i=L(Bn,"style",{});var ft=P(i);l=wn(ft,`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),ft.forEach(E),Bn.forEach(E),Y&&Y.l(vn),u=L(vn,"svg",{id:!0,xmlns:!0,viewBox:!0});var j=P(u);f=L(j,"defs",{});var de=P(f);_=L(de,"style",{});var me=P(_);h=wn(me,`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),me.forEach(E),de.forEach(E),o=L(j,"g",{transform:!0});var st=P(o);a=L(st,"path",{d:!0}),P(a).forEach(E),s=L(st,"polygon",{class:!0,points:!0}),P(s).forEach(E),g=L(st,"path",{class:!0,d:!0}),P(g).forEach(E),st.forEach(E),j.forEach(E),p=L(vn,"g",{transform:!0});var jn=P(p);v=L(jn,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,rx:!0}),P(v).forEach(E),m=L(jn,"g",{transform:!0});var Rn=P(m);k=L(Rn,"g",{transform:!0});var ve=P(k);w=L(ve,"g",{transform:!0});var ye=P(w);S=L(ye,"g",{transform:!0});var we=P(S);N=L(we,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(N).forEach(E),we.forEach(E),ye.forEach(E),ve.forEach(E),z=L(Rn,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(z).forEach(E),D=L(Rn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(D).forEach(E),b=L(Rn,"text",{x:!0,y:!0});var ke=P(b);A=wn(ke,"A"),ke.forEach(E),F=L(Rn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(F).forEach(E),M=L(Rn,"text",{x:!0,y:!0});var Ee=P(M);W=wn(Ee,"B"),Ee.forEach(E),C=L(Rn,"text",{x:!0,y:!0});var Me=P(C);O=wn(Me,"A influenced B"),Me.forEach(E),Rn.forEach(E),y=L(jn,"g",{transform:!0});var Ln=P(y);B=L(Ln,"g",{transform:!0});var Se=P(B);H=L(Se,"g",{transform:!0});var Ne=P(H);U=L(Ne,"g",{transform:!0});var Pe=P(U);Z=L(Pe,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(Z).forEach(E),Pe.forEach(E),Ne.forEach(E),Se.forEach(E),on=L(Ln,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(on).forEach(E),x=L(Ln,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(x).forEach(E),un=L(Ln,"text",{x:!0,y:!0});var Ae=P(un);an=wn(Ae,"A"),Ae.forEach(E),ln=L(Ln,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(ln).forEach(E),fn=L(Ln,"text",{x:!0,y:!0});var Re=P(fn);$n=wn(Re,"B"),Re.forEach(E),Nn=L(Ln,"text",{x:!0,y:!0});var Le=P(Nn);Jn=wn(Le,"A influenced B"),Le.forEach(E),Ln.forEach(E),An=L(jn,"g",{transform:!0});var Ie=P(An);cn=L(Ie,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0,stroke:!0,opacity:!0});var Te=P(cn);Qn=wn(Te,"Line thickness encodes birth year gap"),Te.forEach(E),Ie.forEach(E),jn.forEach(E),vn.forEach(E),sn.forEach(E),this.h()},h(){c(a,"d","M4.24,28.34l4.24-11.31L4.24,5.71,0,17.02l4.24,11.31Zm0-2.85l-2.8-7.47H7.04s-2.8,7.47-2.8,7.47Z"),c(s,"class","cls-1"),c(s,"points","4.24 8.29 7.04 15.76 1.44 15.76 4.24 8.29"),c(g,"class","cls-2"),c(g,"d","M1.83,.24h1.63l1.28,1.85h.01V.24h1.61V4.58h-1.62l-1.28-1.85h-.01v1.85H1.83V.24Z"),c(o,"transform",n[9]),c(u,"id","compass"),c(u,"xmlns","http://www.w3.org/2000/svg"),c(u,"viewBox",d="0 0 "+n[0]+" "+n[1]),c(v,"x","-3"),c(v,"y","0"),c(v,"width","280"),c(v,"height","80"),c(v,"fill","white"),c(v,"stroke","black"),c(v,"rx","15"),c(N,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),c(N,"fill","#cc0000"),c(N,"stroke","black"),c(N,"stroke-width","2"),c(S,"transform","translate("+(-en*2+5)+", 0)"),c(w,"transform","rotate(0)"),c(k,"transform","translate(115, 20)"),c(z,"x1","20"),c(z,"y1","20"),c(z,"x2","115"),c(z,"y2","20"),c(z,"stroke","#c00"),c(z,"stroke-width","5"),c(z,"opacity","0.5"),c(D,"cx","20"),c(D,"cy","20"),c(D,"r",en),c(D,"fill","white"),c(D,"stroke","#c00"),c(b,"x","15"),c(b,"y","25"),c(F,"cx","115"),c(F,"cy","20"),c(F,"r",en),c(F,"fill","white"),c(F,"stroke","black"),c(M,"x","110"),c(M,"y","25"),c(C,"x","15"),c(C,"y","50"),c(m,"transform","translate(0, 20)"),c(Z,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),c(Z,"fill","#cc0000"),c(Z,"stroke","black"),c(Z,"stroke-width","2"),c(U,"transform","translate("+(en*2-15)+", 0)"),c(H,"transform","rotate(0)"),c(B,"transform","translate(20, 20)"),c(on,"x1","20"),c(on,"y1","20"),c(on,"x2","115"),c(on,"y2","20"),c(on,"stroke","#c00"),c(on,"stroke-width","5"),c(on,"opacity","0.5"),c(x,"cx","20"),c(x,"cy","20"),c(x,"r",en),c(x,"fill","white"),c(x,"stroke","black"),c(un,"x","15"),c(un,"y","25"),c(ln,"cx","115"),c(ln,"cy","20"),c(ln,"r",en),c(ln,"fill","white"),c(ln,"stroke","#c00"),c(fn,"x","110"),c(fn,"y","25"),c(Nn,"x","15"),c(Nn,"y","50"),c(y,"transform","translate(140, 20)"),c(cn,"font-size","smaller"),c(cn,"text-anchor","middle"),c(cn,"x","140"),c(cn,"y","0"),c(cn,"stroke","#c00"),c(cn,"opacity","0.5"),c(An,"transform","translate(0, 18)"),c(p,"transform",I=n[13](kn,n[1]-70-kn)),c(r,"class","inline-block absolute top-0 left-0"),c(r,"viewBox",G="0, 0, "+n[0]+", "+n[1]),c(r,"preserveAspectRatio","xMidYMid meet"),c(t,"id","container"),c(t,"class","inline-block relative align-top overflow-hidden"),Dn(t,"width",n[0]+"px"),Dn(t,"height",n[1]+"px")},m($,sn){rn($,t,sn),T(t,r),T(r,e),T(e,i),T(i,l),Y&&Y.m(r,null),T(r,u),T(u,f),T(f,_),T(_,h),T(u,o),T(o,a),T(o,s),T(o,g),T(r,p),T(p,v),T(p,m),T(m,k),T(k,w),T(w,S),T(S,N),T(m,z),T(m,D),T(m,b),T(b,A),T(m,F),T(m,M),T(M,W),T(m,C),T(C,O),T(p,y),T(y,B),T(B,H),T(H,U),T(U,Z),T(y,on),T(y,x),T(y,un),T(un,an),T(y,ln),T(y,fn),T(fn,$n),T(y,Nn),T(Nn,Jn),T(p,An),T(An,cn),T(cn,Qn),V=!0,Q||(dn=Kn(r,"click",n[22]),Q=!0)},p($,sn){$[7]?Y?(Y.p($,sn),sn[0]&128&&Zn(Y,1)):(Y=wr($),Y.c(),Zn(Y,1),Y.m(r,u)):Y&&(Ir(),Mt(Y,1,1,()=>{Y=null}),Tr()),(!V||sn[0]&512)&&c(o,"transform",$[9]),(!V||sn[0]&3&&d!==(d="0 0 "+$[0]+" "+$[1]))&&c(u,"viewBox",d),(!V||sn[0]&2&&I!==(I=$[13](kn,$[1]-70-kn)))&&c(p,"transform",I),(!V||sn[0]&3&&G!==(G="0, 0, "+$[0]+", "+$[1]))&&c(r,"viewBox",G),(!V||sn[0]&1)&&Dn(t,"width",$[0]+"px"),(!V||sn[0]&2)&&Dn(t,"height",$[1]+"px")},i($){V||(Zn(Y),V=!0)},o($){Mt(Y),V=!1},d($){$&&E(t),Y&&Y.d(),Q=!1,dn()}}}const en=15,Xt=20,kn=20,wt=1e3;function el(n,t,r){let e,i,l;const u=ui();let f=new Worker(""+new URL("../workers/sim-nodes.worker-6d6b735a.js",import.meta.url).href);const _=I=>{r(5,k=I.data.nodes),r(2,w=k.filter(G=>G[0]===w[0])[0])};f.onmessage=_;let{width:h}=t,{height:o}=t,a,s,g,d,p,v,m,k,w,S,N;const z=oo(),D=z.lines(),b=z.outline();let A,F,M;const W=(I,G)=>{if(I[0]===G[0]&&I[1]===G[1])return"";const V=di(),Q=qo(V);return G[0]-I[0],G[1]-I[1],Q.lineStart(),Q.point(I[0],I[1]),Q.point(G[0],G[1]),Q.lineEnd(),V.toString()};let C;const O=(I,G)=>`translate(${I}, ${G})`,y=I=>{v=p.filter(([,G])=>G.length>1?G[0].year<=I&&G[1].year>I:G[0].year<=I);for(const G of v)G.x=zn(A,G[1]),G.y=bn(A,G[1])},B=(I,G)=>{const V=m.find(Q=>Q[0]===G);return V?!!V[1].find(dn=>dn.influenced===I):!1},H=(I,G)=>Math.atan2(G[1]-I[1],G[0]-I[0])*180/Math.PI,U=(I,G)=>{r(2,w=p.filter(j=>j[0]===I)[0]),G.push(w);let V=180,Q=180,dn=-180,Y=-180;A.scale(M),A.angle(0);for(const j of G)j.x=zn(A,j[1]),j.y=bn(A,j[1]),j[1][0].lon>dn&&(dn=j[1][0].lon),j[1][0].lat>Y&&(Y=j[1][0].lat),j[1][0].lon<V&&(V=j[1][0].lon),j[1][0].lat<Q&&(Q=j[1][0].lat);const $=[(dn+V)/2,(Y+Q)/2],sn=[[Y,V],[Q,dn]],vn=A(sn[0]),Bn=A(sn[1]),ft=.6/Math.max(Math.abs(Bn[1]-vn[1])/h,Math.abs(Bn[0]-vn[0])/o);A.center($),A.translate([h/2,o/2]),A.scale(ft*M),Math.abs(Bn[0]-vn[0])>Math.abs(Bn[1]-vn[1])?(A.angle(90),r(26,i=-90)):r(26,i=0),r(8,e+=1);for(const j of G)j.x=zn(A,j[1]),j.y=bn(A,j[1]);f.postMessage({nodes:G,radius:en}),f.postMessage({nodes:G,radius:en})},Z=I=>I.hasOwnProperty("x")?I.x:zn(A,I[1]),on=I=>I.hasOwnProperty("y")?I.y:bn(A,I[1]),x=(I,G)=>{const V=I[1][0].year,Q=G[1][0].year;return C(Math.abs(Q-V))},un=I=>d.filter(V=>V.artist===I)[0].thumbnail,an=I=>{pt(I+"-text-map").transition().duration(wt).attr("opacity",1),pt(I+"-rect-map").transition().duration(wt).attr("opacity",1)},ln=I=>{pt(I+"-text-map").transition().duration(wt).attr("opacity",0),pt(I+"-rect-map").transition().duration(wt).attr("opacity",0)},fn=()=>{A.center([0,0]),A.scale(M),A.angle(0),r(5,k=[]),r(8,e+=1)},$n=()=>{u("reset_influences",{})},Nn=(I,G,V,Q,dn)=>{r(3,a=Uo(I,I.objects.countries)),s=$o(I.objects.countries.geometries),r(6,A=Qo().fitSize([h,o+4],a)),r(7,F=vo().projection(A)),M=A.scale(),r(4,g=new Array(a.features.length));for(let Y=0;Y<g.length;++Y)r(4,g[Y]=Ge(s[Y],$=>g[$])+1|0,g);m=V,Q?(S=Ni(Q,Y=>Y.year),N=Ge(Q,Y=>Y.year),p=_i(Q,Y=>Y.artist),y(S),C=ae().domain([0,N-S]).range([2,en]),ae().domain([S,N]).range([0,h])):console.error("Unable to load Artist Locations!"),d=dn},Jn=(I,G)=>an("#"+K(I[0])),An=(I,G)=>an("#"+K(I[0])),cn=(I,G)=>ln("#"+K(I[0])),Qn=(I,G)=>ln("#"+K(I[0]));return n.$$set=I=>{"width"in I&&r(0,h=I.width),"height"in I&&r(1,o=I.height)},n.$$.update=()=>{n.$$.dirty[0]&4,n.$$.dirty[0]&67108867&&r(9,l=i===0?`translate(${h-25}, ${o-60}) rotate(${i}) scale(2)`:`translate(${h-65}, ${o-5}) rotate(${i}) scale(2)`)},r(0,h=0),r(1,o=0),r(3,a=null),s=null,r(4,g=[]),p=[],v=[],m=[],r(5,k=[]),S=0,N=2100,r(8,e=0),r(26,i=0),[h,o,w,a,g,k,A,F,e,l,D,b,W,O,B,H,Z,on,x,un,an,ln,$n,U,fn,Nn,i,Jn,An,cn,Qn]}class fl extends ri{constructor(t){super(),ii(this,t,el,tl,Lr,{width:0,height:1,DisplayInfluences:23,ResetInfluences:24,Initialize:25},null,[-1,-1,-1])}get DisplayInfluences(){return this.$$.ctx[23]}get ResetInfluences(){return this.$$.ctx[24]}get Initialize(){return this.$$.ctx[25]}}export{fl as M};
