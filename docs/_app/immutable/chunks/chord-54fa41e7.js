import{S as ve,i as be,s as Ie,k as we,O as ue,l as Pe,m as se,P as he,h as ne,n as K,p as re,b as Re,F as de,A as fe,N as Te}from"./index-fa249ad2.js";import{b as Ce}from"./config-fd755020.js";import{C as ke}from"./helpers-06848ef0.js";import{o as ce}from"./ordinal-ceb38b17.js";import{r as ge}from"./init-08c38208.js";import{p as pe,c as te,s as Y,h as me,a as xe,e as q,t as ze,b as ae,m as oe,d as ye,f as j,i as Me,j as Se,k as je,g as Ae}from"./math-f900f350.js";import{s as le}from"./select-087c8348.js";function Z(r){return function(){return r}}function Be(r){return r.innerRadius}function De(r){return r.outerRadius}function Ee(r){return r.startAngle}function _e(r){return r.endAngle}function qe(r){return r&&r.padAngle}function Ge(r,d,y,l,f,v,g,n){var o=y-r,t=l-d,T=g-f,u=n-v,s=u*o-T*t;if(!(s*s<q))return s=(T*(d-v)-u*(r-f))/s,[r+s*o,d+s*t]}function ie(r,d,y,l,f,v,g){var n=r-y,o=d-l,t=(g?v:-v)/ae(n*n+o*o),T=t*o,u=-t*n,s=r+T,I=d+u,A=y+T,P=l+u,x=(s+A)/2,R=(I+P)/2,k=A-s,B=P-I,G=k*k+B*B,U=f-v,p=s*P-A*I,D=(B<0?-1:1)*ae(je(0,U*U*G-p*p)),b=(p*B-k*D)/G,c=(-p*k-B*D)/G,i=(p*B+k*D)/G,M=(-p*k+B*D)/G,a=b-x,e=c-R,m=i-x,h=M-R;return a*a+e*e>m*m+h*h&&(b=i,c=M),{cx:b,cy:c,x01:-T,y01:-u,x11:b*(f/U-1),y11:c*(f/U-1)}}function Le(){var r=Be,d=De,y=Z(0),l=null,f=Ee,v=_e,g=qe,n=null;function o(){var t,T,u=+r.apply(this,arguments),s=+d.apply(this,arguments),I=f.apply(this,arguments)-me,A=v.apply(this,arguments)-me,P=ye(A-I),x=A>I;if(n||(n=t=xe()),s<u&&(T=s,s=u,u=T),!(s>q))n.moveTo(0,0);else if(P>ze-q)n.moveTo(s*te(I),s*Y(I)),n.arc(0,0,s,I,A,!x),u>q&&(n.moveTo(u*te(A),u*Y(A)),n.arc(0,0,u,A,I,x));else{var R=I,k=A,B=I,G=A,U=P,p=P,D=g.apply(this,arguments)/2,b=D>q&&(l?+l.apply(this,arguments):ae(u*u+s*s)),c=oe(ye(s-u)/2,+y.apply(this,arguments)),i=c,M=c,a,e;if(b>q){var m=Me(b/u*Y(D)),h=Me(b/s*Y(D));(U-=m*2)>q?(m*=x?1:-1,B+=m,G-=m):(U=0,B=G=(I+A)/2),(p-=h*2)>q?(h*=x?1:-1,R+=h,k-=h):(p=0,R=k=(I+A)/2)}var z=s*te(R),N=s*Y(R),W=u*te(G),X=u*Y(G);if(c>q){var $=s*te(k),S=s*Y(k),F=u*te(B),H=u*Y(B),C;if(P<pe&&(C=Ge(z,N,F,H,$,S,W,X))){var O=z-C[0],J=N-C[1],V=$-C[0],E=S-C[1],w=1/Y(Se((O*V+J*E)/(ae(O*O+J*J)*ae(V*V+E*E)))/2),_=ae(C[0]*C[0]+C[1]*C[1]);i=oe(c,(u-_)/(w-1)),M=oe(c,(s-_)/(w+1))}}p>q?M>q?(a=ie(F,H,z,N,s,M,x),e=ie($,S,W,X,s,M,x),n.moveTo(a.cx+a.x01,a.cy+a.y01),M<c?n.arc(a.cx,a.cy,M,j(a.y01,a.x01),j(e.y01,e.x01),!x):(n.arc(a.cx,a.cy,M,j(a.y01,a.x01),j(a.y11,a.x11),!x),n.arc(0,0,s,j(a.cy+a.y11,a.cx+a.x11),j(e.cy+e.y11,e.cx+e.x11),!x),n.arc(e.cx,e.cy,M,j(e.y11,e.x11),j(e.y01,e.x01),!x))):(n.moveTo(z,N),n.arc(0,0,s,R,k,!x)):n.moveTo(z,N),!(u>q)||!(U>q)?n.lineTo(W,X):i>q?(a=ie(W,X,$,S,u,-i,x),e=ie(z,N,F,H,u,-i,x),n.lineTo(a.cx+a.x01,a.cy+a.y01),i<c?n.arc(a.cx,a.cy,i,j(a.y01,a.x01),j(e.y01,e.x01),!x):(n.arc(a.cx,a.cy,i,j(a.y01,a.x01),j(a.y11,a.x11),!x),n.arc(0,0,u,j(a.cy+a.y11,a.cx+a.x11),j(e.cy+e.y11,e.cx+e.x11),x),n.arc(e.cx,e.cy,i,j(e.y11,e.x11),j(e.y01,e.x01),!x))):n.arc(0,0,u,G,B,x)}if(n.closePath(),t)return n=null,t+""||null}return o.centroid=function(){var t=(+r.apply(this,arguments)+ +d.apply(this,arguments))/2,T=(+f.apply(this,arguments)+ +v.apply(this,arguments))/2-pe/2;return[te(T)*t,Y(T)*t]},o.innerRadius=function(t){return arguments.length?(r=typeof t=="function"?t:Z(+t),o):r},o.outerRadius=function(t){return arguments.length?(d=typeof t=="function"?t:Z(+t),o):d},o.cornerRadius=function(t){return arguments.length?(y=typeof t=="function"?t:Z(+t),o):y},o.padRadius=function(t){return arguments.length?(l=t==null?null:typeof t=="function"?t:Z(+t),o):l},o.startAngle=function(t){return arguments.length?(f=typeof t=="function"?t:Z(+t),o):f},o.endAngle=function(t){return arguments.length?(v=typeof t=="function"?t:Z(+t),o):v},o.padAngle=function(t){return arguments.length?(g=typeof t=="function"?t:Z(+t),o):g},o.context=function(t){return arguments.length?(n=t==null?null:t,o):n},o}function Ne(r){let d,y,l,f,v;return{c(){d=we("div"),y=ue("svg"),l=ue("g"),this.h()},l(g){d=Pe(g,"DIV",{id:!0,class:!0,style:!0});var n=se(d);y=he(n,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var o=se(y);l=he(o,"g",{id:!0,transform:!0}),se(l).forEach(ne),o.forEach(ne),n.forEach(ne),this.h()},h(){K(l,"id","chordViz"),K(l,"transform",f="translate("+r[0]/2+", "+r[2]*1.1+")"),K(y,"class","inline-block absolute top-0 left-0"),K(y,"viewBox",v="0, 0, "+r[0]+", "+r[1]),K(y,"preserveAspectRatio","xMidYMid meet"),K(d,"id","container"),K(d,"class","inline-block relative align-top overflow-hidden"),re(d,"width",r[0]+"px"),re(d,"height",r[1]+"px")},m(g,n){Re(g,d,n),de(d,y),de(y,l),r[6](l)},p(g,[n]){n&5&&f!==(f="translate("+g[0]/2+", "+g[2]*1.1+")")&&K(l,"transform",f),n&3&&v!==(v="0, 0, "+g[0]+", "+g[1])&&K(y,"viewBox",v),n&1&&re(d,"width",g[0]+"px"),n&2&&re(d,"height",g[1]+"px")},i:fe,o:fe,d(g){g&&ne(d),r[6](null)}}}let Fe="Century",He="Artistic Mediums";function Oe(r,d,y){let l,f,v,g,n,o,{width:t}=d,{height:T}=d,u,s,I,A=["sculptor","painter","printmaker","draughtsman","photography","film","watercolourist","oilpainter","illustrator","muralist","architect","ink","ceramicist","calligrapher","engraving"],P=A.length,x=ce().domain(A).range(ge(P)),R=[{cent:1e3,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1100,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1200,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1300,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1400,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)},{cent:1500,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1600,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1700,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1800,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1900,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)}],k=ce().domain(ge(12)).range(ke);function B(p){var D,b=f*.9125,c=p.startAngle*180/Math.PI-90,i=p.endAngle*180/Math.PI-90,M=null;M||(M=D=xe()),M.moveTo(b*Math.cos(c*Math.PI/180),b*Math.sin(c*Math.PI/180)),M.arc(0,0,b,c*Math.PI/180,i*Math.PI/180);let a,e=i>0&&i<90||i<-90&&i>-180?.4:1.1;a=180-90-(90-(Math.abs(i-c)*e+c));let m=b*Math.sin(a*Math.PI/180),h=b*Math.cos(a*Math.PI/180),z=m/2+Math.abs(i-c)*.1*5,N=-1;i>-90&&i<90?N=Math.abs(i-c)*.1*10:N=-1*(Math.abs(i-c)*.1*10);let W=h/2+N,X,$=i>0&&i<90||i<-90&&i>-180?1.1:.4;X=180-90-(90-(i-Math.abs(i-c)*$));let S=b*Math.sin(X*Math.PI/180),F=b*Math.cos(X*Math.PI/180),H=S/2+Math.abs(i-c)*.1*5,C=-1;i>-90&&i<90?C=Math.abs(i-c)*.1*10:C=-1*(Math.abs(i-c)*.1*10);let O=F/2+C,J=[];for(let V=0;V<A.length;V++)J.push(V*((l*2+.05*l)/A.length)-l*.9125);if(M.quadraticCurveTo(W,z,p.half==0?g/2:-g/2,J[p.death]),M.quadraticCurveTo(O,H,b*Math.cos(c*Math.PI/180),b*Math.sin(c*Math.PI/180)),D)return M=null,D+""||null}const G=(p,D)=>{if(p&&D){I=Ae(D,e=>e.artist),s=Ae(p,e=>e.artist);for(let e=0;e<s.length;e++)R[Math.floor(Number(s[e][1][0].year)/100)-10].nums[0]++,R[Math.floor(Number(s[e][1][0].year)/100)-10].people.push(s[e][0]);for(let e=0;e<R.length;e++)for(let m=0;m<R[e].people.length;m++)for(let h=0;h<I.length;h++)if(R[e].people[m]==I[h][0]){for(let z=0;z<I[h][1].length;z++)R[e].meds[x(I[h][1][z].medium)]+=1;break}let b=0;for(let e=0;e<R.length;e++)for(let m=0;m<R[e].meds.length;m++)b+=R[e].meds[m];let c=Le().innerRadius(f*.925).outerRadius(f).cornerRadius(3);le(u).datum(function(e,m){let h=R.sort(function(w,_){let L=0,Q=0;for(let ee=0;ee<w.nums.length;ee++)L+=w.nums[ee];for(let ee=0;ee<_.nums.length;ee++)Q+=_.nums[ee];return L>Q?1:Q>L?-1:0}),z=[],N=R.length,W=v*Math.PI/180,S=2*v*Math.PI/180/b,F=l/270*.02,H=-1,C=(Math.PI-W)/2,O=(Math.PI-W)/2,J=0,V=!1;h[0].meds[0]=1,h[1].meds[11]=1;let E=!1;for(let w=0;w<N;w++){H++,E=!0;for(let _=0;_<h[w].meds.length;_++)if(h[w].meds[_]>0){let L=h[w].meds[_];if(J+=S*L,J<v*Math.PI/180)z.push({index:H,startAngle:E&&w>0?F+C:C,endAngle:E&&w>0?F+S*L+C:S*L+C,value:29630,nums:h[w].meds[_],death:_,colorIndex:H,half:0,cent:h[w].cent,addLabel:!!E}),C+=E&&w>0?F+S*L:S*L;else{let Q=2*Math.PI;z.push({index:H,startAngle:E&&w>0?Q-F-S*L-O:Q-S*L-O,endAngle:E&&w>0?Q-F-O:Q-O,value:29630,nums:h[w].meds[_],death:_,colorIndex:H,half:1,cent:h[w].cent,addLabel:!!(E||!V)}),V||(V=!0),O+=E&&w>0?F+S*L:S*L}E&&(E=!1)}}return z}),le(u).append("g").attr("class","ribbons").selectAll("path").data(e=>e).enter().append("path").attr("d",B).style("fill",function(e){return k(e.colorIndex)}).style("stroke",(e,m)=>Ce(k(e.colorIndex)).darker()).style("opacity",.5);let i=le(u).append("g").attr("class","groups").selectAll("g").data(e=>e).enter().append("g");i.append("path").style("fill",function(e,m){return k(e.index)}).style("stroke","white").attr("d",c),i.append("g").attr("class","groups").selectAll("g").data(e=>e).enter().append("g"),i.append("rect").data(A).attr("x",-1*g/2).attr("y",(e,m)=>m*((l*2+ +(.05*l))/A.length)-l*.9-.05*l).attr("rx",6).attr("ry",6).attr("width",g).attr("height",.1*l).attr("fill","#00005C").attr("opacity",1),i.append("text").data(A).attr("x",0).attr("y",(e,m)=>m*((l*2+ +(.05*l))/A.length)-l*.875).attr("fill","white").style("text-anchor","middle").style("font-size",n).text(e=>e.charAt(0).toUpperCase()+e.slice(1));let M=f*.9125;i.append("text").data(e=>e).attr("x",function(e,m){let h=e.half==0?M*Math.cos((e.endAngle*180/Math.PI-90)*Math.PI/180):M*Math.cos((e.startAngle*180/Math.PI-90)*Math.PI/180);return e.half==0?h+=65*(t/930):h-=65*(t/930),h}).attr("y",function(e,m){let h=e.half==0?M*Math.sin((e.endAngle*180/Math.PI-90)*Math.PI/180):M*Math.sin((e.startAngle*180/Math.PI-90)*Math.PI/180);return Math.abs(e.startAngle*180/Math.PI-90-(e.endAngle*180/Math.PI-90))<1.5*(2*v/b)&&(h-=15),h}).attr("fill","black").style("text-anchor","middle").style("font-size",n).text(e=>e.addLabel?e.cent:"");let a=le(u).append("g").attr("class","groups");a.append("text").attr("x",0).attr("y",l/270*-270).style("text-anchor","middle").style("font-size",o>20?20:o).text("Distribution of Artists by "+Fe+" Over "+He),a.append("rect").attr("x",f*.17+125).attr("y",l/270*300-15).attr("width",g*.5).attr("height",.05*l).attr("fill","white").attr("stroke","black"),a.append("rect").attr("x",-f*.7+120).attr("y",l/270*300-15).attr("width",g*.5).attr("height",.05*l).attr("fill","white").attr("stroke","black"),a.append("text").attr("x",f*.17).attr("y",l/270*300-5).style("font-size",o-6>14?14:o-6).text("Select an Attribute:"),a.append("text").attr("x",-f*.7).attr("y",l/270*300-5).style("font-size",o-6>14?14:o-6).text("Select a Grouping:")}else console.error("Unable to load Artist Locations!")};function U(p){Te[p?"unshift":"push"](()=>{u=p,y(3,u)})}return r.$$set=p=>{"width"in p&&y(0,t=p.width),"height"in p&&y(1,T=p.height)},r.$$.update=()=>{r.$$.dirty&2&&y(2,l=T*.45>275?275:T*.45),r.$$.dirty&1&&y(5,f=t*.45>390?390:t*.45),r.$$.dirty&4&&(v=l/270*90-10),r.$$.dirty&32&&(g=f/370*120),r.$$.dirty&39&&(n=T<=t?l/270*15:f/370*15),r.$$.dirty&39&&(o=T<=t?l/170*20:f/270*20)},s=[],I=[],[t,T,l,u,G,f,U]}class Qe extends ve{constructor(d){super(),be(this,d,Oe,Ne,Ie,{width:0,height:1,Initialize:4})}get Initialize(){return this.$$.ctx[4]}}export{Qe as C};
