import{S as zr,i as Yr,s as pr,k as Sn,P as R,q as ge,a as Cr,l as Mn,m as P,Q as A,r as ve,h as k,c as Or,n as l,p as ke,b as ee,F as N,L as je,f as be,g as gr,t as dt,d as vr,R as Xr,e as De,H as rt,J as Zr,T as Ln,M as Hr,u as Nt}from"./index-8d2061e5.js";import{s as mt}from"./config-331e8422.js";import{S as Fr,G as ze,b as Ye,A as O,M as st,T as Ze}from"./helpers-c17ebcc8.js";import{f as Pn}from"./index-c469a12e.js";import{r as qe}from"./range-cc563a65.js";import{s as Rn}from"./selectAll-237a4934.js";import{m as qr,l as Wr}from"./linear-4ecbf3f0.js";import{g as br}from"./group-4b12f8cd.js";import{c as Ur,a as Vr}from"./catmullRom-d00a189e.js";import{p as Jr}from"./math-84088ecb.js";class Ce{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],f=t+a,c=Math.abs(t)<Math.abs(a)?t-(f-a):a-(f-t);c&&(n[r++]=c),t=f}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,o,a,f=0;if(n>0){for(f=t[--n];n>0&&(r=f,o=t[--n],f=r+o,a=o-(f-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(o=a*2,r=f+o,o==r-f&&(f=r))}return f}}function*Qr(e){for(const t of e)yield*t}function _r(e){return Array.from(Qr(e))}var W=1e-6,Kr=1e-12,q=Math.PI,_e=q/2,An=q/4,me=q*2,Ne=180/q,pe=q/180,K=Math.abs,jr=Math.atan,ot=Math.atan2,j=Math.cos,ct=Math.ceil,$=Math.sin,$r=Math.sign||function(e){return e>0?1:e<0?-1:0},Xe=Math.sqrt;function xr(e){return e>1?0:e<-1?q:Math.acos(e)}function lt(e){return e>1?_e:e<-1?-_e:Math.asin(e)}function de(){}function Et(e,t){e&&Nn.hasOwnProperty(e.type)&&Nn[e.type](e,t)}var In={Feature:function(e,t){Et(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)Et(n[r].geometry,t)}},Nn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ot(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)Ot(n[r],t,0)},Polygon:function(e,t){Bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)Bn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)Et(n[r],t)}};function Ot(e,t,n){var r=-1,o=e.length-n,a;for(t.lineStart();++r<o;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Bn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ot(e[n],t,1);t.polygonEnd()}function Fe(e,t){e&&In.hasOwnProperty(e.type)?In[e.type](e,t):Et(e,t)}function Xt(e){return[ot(e[1],e[0]),lt(e[2])]}function Ue(e){var t=e[0],n=e[1],r=j(n);return[r*j(t),r*$(t),$(n)]}function ht(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function pt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Zt(e){var t=Xe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ht(e,t){function n(r,o){return r=e(r,o),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,o){return r=t.invert(r,o),r&&e.invert(r[0],r[1])}),n}function Ft(e,t){return[K(e)>q?e+Math.round(-e/me)*me:e,t]}Ft.invert=Ft;function ei(e,t,n){return(e%=me)?t||n?Ht(Gn(e),Dn(t,n)):Gn(e):t||n?Dn(t,n):Ft}function Tn(e){return function(t,n){return t+=e,[t>q?t-me:t<-q?t+me:t,n]}}function Gn(e){var t=Tn(e);return t.invert=Tn(-e),t}function Dn(e,t){var n=j(e),r=$(e),o=j(t),a=$(t);function f(c,m){var p=j(m),i=j(c)*p,u=$(c)*p,s=$(m),_=s*n+i*r;return[ot(u*o-_*a,i*n-s*r),lt(_*o+u*a)]}return f.invert=function(c,m){var p=j(m),i=j(c)*p,u=$(c)*p,s=$(m),_=s*o-u*a;return[ot(u*o+s*a,i*n+_*r),lt(_*n-i*r)]},f}function ti(e,t,n,r,o,a){if(!!n){var f=j(t),c=$(t),m=r*n;o==null?(o=t+r*me,a=t-m/2):(o=zn(f,o),a=zn(f,a),(r>0?o<a:o>a)&&(o+=r*me));for(var p,i=o;r>0?i>a:i<a;i-=m)p=Xt([f,-c*j(i),-c*$(i)]),e.point(p[0],p[1])}}function zn(e,t){t=Ue(t),t[0]-=e,Zt(t);var n=xr(-t[1]);return((-t[2]<0?-n:n)+me-W)%me}function dr(){var e=[],t;return{point:function(n,r,o){t.push([n,r,o])},lineStart:function(){e.push(t=[])},lineEnd:de,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _t(e,t){return K(e[0]-t[0])<W&&K(e[1]-t[1])<W}function gt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mr(e,t,n,r,o){var a=[],f=[],c,m;if(e.forEach(function(v){if(!((h=v.length-1)<=0)){var h,d=v[0],g=v[h],w;if(_t(d,g)){if(!d[2]&&!g[2]){for(o.lineStart(),c=0;c<h;++c)o.point((d=v[c])[0],d[1]);o.lineEnd();return}g[0]+=2*W}a.push(w=new gt(d,v,null,!0)),f.push(w.o=new gt(d,null,w,!1)),a.push(w=new gt(g,v,null,!1)),f.push(w.o=new gt(g,null,w,!0))}}),!!a.length){for(f.sort(t),Yn(a),Yn(f),c=0,m=f.length;c<m;++c)f[c].e=n=!n;for(var p=a[0],i,u;;){for(var s=p,_=!0;s.v;)if((s=s.n)===p)return;i=s.z,o.lineStart();do{if(s.v=s.o.v=!0,s.e){if(_)for(c=0,m=i.length;c<m;++c)o.point((u=i[c])[0],u[1]);else r(s.x,s.n.x,1,o);s=s.n}else{if(_)for(i=s.p.z,c=i.length-1;c>=0;--c)o.point((u=i[c])[0],u[1]);else r(s.x,s.p.x,-1,o);s=s.p}s=s.o,i=s.z,_=!_}while(!s.v);o.lineEnd()}}}function Yn(e){if(!!(t=e.length)){for(var t,n=0,r=e[0],o;++n<t;)r.n=o=e[n],o.p=r,r=o;r.n=o=e[0],o.p=r}}function Tt(e){return K(e[0])<=q?e[0]:$r(e[0])*((K(e[0])+q)%me-q)}function ni(e,t){var n=Tt(t),r=t[1],o=$(r),a=[$(n),-j(n),0],f=0,c=0,m=new Ce;o===1?r=_e+W:o===-1&&(r=-_e-W);for(var p=0,i=e.length;p<i;++p)if(!!(s=(u=e[p]).length))for(var u,s,_=u[s-1],v=Tt(_),h=_[1]/2+An,d=$(h),g=j(h),w=0;w<s;++w,v=M,d=T,g=I,_=E){var E=u[w],M=Tt(E),L=E[1]/2+An,T=$(L),I=j(L),Y=M-v,D=Y>=0?1:-1,X=D*Y,B=X>q,S=d*T;if(m.add(ot(S*D*$(X),g*I+S*j(X))),f+=B?Y+D*me:Y,B^v>=n^M>=n){var z=yt(Ue(_),Ue(E));Zt(z);var Z=yt(a,z);Zt(Z);var y=(B^Y>=0?-1:1)*lt(Z[2]);(r>y||r===y&&(z[0]||z[1]))&&(c+=B^Y>=0?1:-1)}}return(f<-W||f<W&&m<-Kr)^c&1}function Er(e,t,n,r){return function(o){var a=t(o),f=dr(),c=t(f),m=!1,p,i,u,s={point:_,lineStart:h,lineEnd:d,polygonStart:function(){s.point=g,s.lineStart=w,s.lineEnd=E,i=[],p=[]},polygonEnd:function(){s.point=_,s.lineStart=h,s.lineEnd=d,i=_r(i);var M=ni(p,r);i.length?(m||(o.polygonStart(),m=!0),mr(i,ii,M,n,o)):M&&(m||(o.polygonStart(),m=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),i=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(M,L){e(M,L)&&o.point(M,L)}function v(M,L){a.point(M,L)}function h(){s.point=v,a.lineStart()}function d(){s.point=_,a.lineEnd()}function g(M,L){u.push([M,L]),c.point(M,L)}function w(){c.lineStart(),u=[]}function E(){g(u[0][0],u[0][1]),c.lineEnd();var M=c.clean(),L=f.result(),T,I=L.length,Y,D,X;if(u.pop(),p.push(u),u=null,!!I){if(M&1){if(D=L[0],(Y=D.length-1)>0){for(m||(o.polygonStart(),m=!0),o.lineStart(),T=0;T<Y;++T)o.point((X=D[T])[0],X[1]);o.lineEnd()}return}I>1&&M&2&&L.push(L.pop().concat(L.shift())),i.push(L.filter(ri))}}return s}}function ri(e){return e.length>1}function ii(e,t){return((e=e.x)[0]<0?e[1]-_e-W:_e-e[1])-((t=t.x)[0]<0?t[1]-_e-W:_e-t[1])}const Cn=Er(function(){return!0},oi,ui,[-q,-_e]);function oi(e){var t=NaN,n=NaN,r=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(a,f){var c=a>0?q:-q,m=K(a-t);K(m-q)<W?(e.point(t,n=(n+f)/2>0?_e:-_e),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(a,n),o=0):r!==c&&m>=q&&(K(t-r)<W&&(t-=r*W),K(a-c)<W&&(a-=c*W),n=li(t,n,a,f),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),o=0),e.point(t=a,n=f),r=c},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-o}}}function li(e,t,n,r){var o,a,f=$(e-n);return K(f)>W?jr(($(t)*(a=j(r))*$(n)-$(r)*(o=j(t))*$(e))/(o*a*f)):(t+r)/2}function ui(e,t,n,r){var o;if(e==null)o=n*_e,r.point(-q,o),r.point(0,o),r.point(q,o),r.point(q,0),r.point(q,-o),r.point(0,-o),r.point(-q,-o),r.point(-q,0),r.point(-q,o);else if(K(e[0]-t[0])>W){var a=e[0]<t[0]?q:-q;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(t[0],t[1])}function ai(e){var t=j(e),n=6*pe,r=t>0,o=K(t)>W;function a(i,u,s,_){ti(_,e,n,s,i,u)}function f(i,u){return j(i)*j(u)>t}function c(i){var u,s,_,v,h;return{lineStart:function(){v=_=!1,h=1},point:function(d,g){var w=[d,g],E,M=f(d,g),L=r?M?0:p(d,g):M?p(d+(d<0?q:-q),g):0;if(!u&&(v=_=M)&&i.lineStart(),M!==_&&(E=m(u,w),(!E||_t(u,E)||_t(w,E))&&(w[2]=1)),M!==_)h=0,M?(i.lineStart(),E=m(w,u),i.point(E[0],E[1])):(E=m(u,w),i.point(E[0],E[1],2),i.lineEnd()),u=E;else if(o&&u&&r^M){var T;!(L&s)&&(T=m(w,u,!0))&&(h=0,r?(i.lineStart(),i.point(T[0][0],T[0][1]),i.point(T[1][0],T[1][1]),i.lineEnd()):(i.point(T[1][0],T[1][1]),i.lineEnd(),i.lineStart(),i.point(T[0][0],T[0][1],3)))}M&&(!u||!_t(u,w))&&i.point(w[0],w[1]),u=w,_=M,s=L},lineEnd:function(){_&&i.lineEnd(),u=null},clean:function(){return h|(v&&_)<<1}}}function m(i,u,s){var _=Ue(i),v=Ue(u),h=[1,0,0],d=yt(_,v),g=ht(d,d),w=d[0],E=g-w*w;if(!E)return!s&&i;var M=t*g/E,L=-t*w/E,T=yt(h,d),I=pt(h,M),Y=pt(d,L);Bt(I,Y);var D=T,X=ht(I,D),B=ht(D,D),S=X*X-B*(ht(I,I)-1);if(!(S<0)){var z=Xe(S),Z=pt(D,(-X-z)/B);if(Bt(Z,I),Z=Xt(Z),!s)return Z;var y=i[0],C=u[0],b=i[1],te=u[1],U;C<y&&(U=y,y=C,C=U);var he=C-y,ne=K(he-q)<W,le=ne||he<W;if(!ne&&te<b&&(U=b,b=te,te=U),le?ne?b+te>0^Z[1]<(K(Z[0]-y)<W?b:te):b<=Z[1]&&Z[1]<=te:he>q^(y<=Z[0]&&Z[0]<=C)){var re=pt(D,(-X+z)/B);return Bt(re,I),[Z,Xt(re)]}}}function p(i,u){var s=r?e:q-e,_=0;return i<-s?_|=1:i>s&&(_|=2),u<-s?_|=4:u>s&&(_|=8),_}return Er(f,c,a,r?[0,-e]:[-q,e-q])}function fi(e,t,n,r,o,a){var f=e[0],c=e[1],m=t[0],p=t[1],i=0,u=1,s=m-f,_=p-c,v;if(v=n-f,!(!s&&v>0)){if(v/=s,s<0){if(v<i)return;v<u&&(u=v)}else if(s>0){if(v>u)return;v>i&&(i=v)}if(v=o-f,!(!s&&v<0)){if(v/=s,s<0){if(v>u)return;v>i&&(i=v)}else if(s>0){if(v<i)return;v<u&&(u=v)}if(v=r-c,!(!_&&v>0)){if(v/=_,_<0){if(v<i)return;v<u&&(u=v)}else if(_>0){if(v>u)return;v>i&&(i=v)}if(v=a-c,!(!_&&v<0)){if(v/=_,_<0){if(v>u)return;v>i&&(i=v)}else if(_>0){if(v<i)return;v<u&&(u=v)}return i>0&&(e[0]=f+i*s,e[1]=c+i*_),u<1&&(t[0]=f+u*s,t[1]=c+u*_),!0}}}}}var $e=1e9,vt=-$e;function si(e,t,n,r){function o(p,i){return e<=p&&p<=n&&t<=i&&i<=r}function a(p,i,u,s){var _=0,v=0;if(p==null||(_=f(p,u))!==(v=f(i,u))||m(p,i)<0^u>0)do s.point(_===0||_===3?e:n,_>1?r:t);while((_=(_+u+4)%4)!==v);else s.point(i[0],i[1])}function f(p,i){return K(p[0]-e)<W?i>0?0:3:K(p[0]-n)<W?i>0?2:1:K(p[1]-t)<W?i>0?1:0:i>0?3:2}function c(p,i){return m(p.x,i.x)}function m(p,i){var u=f(p,1),s=f(i,1);return u!==s?u-s:u===0?i[1]-p[1]:u===1?p[0]-i[0]:u===2?p[1]-i[1]:i[0]-p[0]}return function(p){var i=p,u=dr(),s,_,v,h,d,g,w,E,M,L,T,I={point:Y,lineStart:S,lineEnd:z,polygonStart:X,polygonEnd:B};function Y(y,C){o(y,C)&&i.point(y,C)}function D(){for(var y=0,C=0,b=_.length;C<b;++C)for(var te=_[C],U=1,he=te.length,ne=te[0],le,re,ue=ne[0],ae=ne[1];U<he;++U)le=ue,re=ae,ne=te[U],ue=ne[0],ae=ne[1],re<=r?ae>r&&(ue-le)*(r-re)>(ae-re)*(e-le)&&++y:ae<=r&&(ue-le)*(r-re)<(ae-re)*(e-le)&&--y;return y}function X(){i=u,s=[],_=[],T=!0}function B(){var y=D(),C=T&&y,b=(s=_r(s)).length;(C||b)&&(p.polygonStart(),C&&(p.lineStart(),a(null,null,1,p),p.lineEnd()),b&&mr(s,c,y,a,p),p.polygonEnd()),i=p,s=_=v=null}function S(){I.point=Z,_&&_.push(v=[]),L=!0,M=!1,w=E=NaN}function z(){s&&(Z(h,d),g&&M&&u.rejoin(),s.push(u.result())),I.point=Y,M&&i.lineEnd()}function Z(y,C){var b=o(y,C);if(_&&v.push([y,C]),L)h=y,d=C,g=b,L=!1,b&&(i.lineStart(),i.point(y,C));else if(b&&M)i.point(y,C);else{var te=[w=Math.max(vt,Math.min($e,w)),E=Math.max(vt,Math.min($e,E))],U=[y=Math.max(vt,Math.min($e,y)),C=Math.max(vt,Math.min($e,C))];fi(te,U,e,t,n,r)?(M||(i.lineStart(),i.point(te[0],te[1])),i.point(U[0],U[1]),b||i.lineEnd(),T=!1):b&&(i.lineStart(),i.point(y,C),T=!1)}w=y,E=C,M=b}return I}}function On(e,t,n){var r=qe(e,t-W,n).concat(t);return function(o){return r.map(function(a){return[o,a]})}}function Xn(e,t,n){var r=qe(e,t-W,n).concat(t);return function(o){return r.map(function(a){return[a,o]})}}function ci(){var e,t,n,r,o,a,f,c,m=10,p=m,i=90,u=360,s,_,v,h,d=2.5;function g(){return{type:"MultiLineString",coordinates:w()}}function w(){return qe(ct(r/i)*i,n,i).map(v).concat(qe(ct(c/u)*u,f,u).map(h)).concat(qe(ct(t/m)*m,e,m).filter(function(E){return K(E%i)>W}).map(s)).concat(qe(ct(a/p)*p,o,p).filter(function(E){return K(E%u)>W}).map(_))}return g.lines=function(){return w().map(function(E){return{type:"LineString",coordinates:E}})},g.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(h(f).slice(1),v(n).reverse().slice(1),h(c).reverse().slice(1))]}},g.extent=function(E){return arguments.length?g.extentMajor(E).extentMinor(E):g.extentMinor()},g.extentMajor=function(E){return arguments.length?(r=+E[0][0],n=+E[1][0],c=+E[0][1],f=+E[1][1],r>n&&(E=r,r=n,n=E),c>f&&(E=c,c=f,f=E),g.precision(d)):[[r,c],[n,f]]},g.extentMinor=function(E){return arguments.length?(t=+E[0][0],e=+E[1][0],a=+E[0][1],o=+E[1][1],t>e&&(E=t,t=e,e=E),a>o&&(E=a,a=o,o=E),g.precision(d)):[[t,a],[e,o]]},g.step=function(E){return arguments.length?g.stepMajor(E).stepMinor(E):g.stepMinor()},g.stepMajor=function(E){return arguments.length?(i=+E[0],u=+E[1],g):[i,u]},g.stepMinor=function(E){return arguments.length?(m=+E[0],p=+E[1],g):[m,p]},g.precision=function(E){return arguments.length?(d=+E,s=On(a,o,90),_=Xn(t,e,d),v=On(c,f,90),h=Xn(r,n,d),g):d},g.extentMajor([[-180,-90+W],[180,90-W]]).extentMinor([[-180,-80-W],[180,80+W]])}const qt=e=>e;var Gt=new Ce,Wt=new Ce,yr,wr,bt,Ut,Ge={point:de,lineStart:de,lineEnd:de,polygonStart:function(){Ge.lineStart=hi,Ge.lineEnd=gi},polygonEnd:function(){Ge.lineStart=Ge.lineEnd=Ge.point=de,Gt.add(K(Wt)),Wt=new Ce},result:function(){var e=Gt/2;return Gt=new Ce,e}};function hi(){Ge.point=pi}function pi(e,t){Ge.point=kr,yr=bt=e,wr=Ut=t}function kr(e,t){Wt.add(Ut*e-bt*t),bt=e,Ut=t}function gi(){kr(yr,wr)}const Zn=Ge;var Ve=1/0,wt=Ve,ut=-Ve,kt=ut,vi={point:_i,lineStart:de,lineEnd:de,polygonStart:de,polygonEnd:de,result:function(){var e=[[Ve,wt],[ut,kt]];return ut=kt=-(wt=Ve=1/0),e}};function _i(e,t){e<Ve&&(Ve=e),e>ut&&(ut=e),t<wt&&(wt=t),t>kt&&(kt=t)}const St=vi;var Vt=0,Jt=0,xe=0,Mt=0,Lt=0,We=0,Qt=0,Kt=0,et=0,Sr,Mr,Se,Me,ye={point:Oe,lineStart:Hn,lineEnd:Fn,polygonStart:function(){ye.lineStart=Ei,ye.lineEnd=yi},polygonEnd:function(){ye.point=Oe,ye.lineStart=Hn,ye.lineEnd=Fn},result:function(){var e=et?[Qt/et,Kt/et]:We?[Mt/We,Lt/We]:xe?[Vt/xe,Jt/xe]:[NaN,NaN];return Vt=Jt=xe=Mt=Lt=We=Qt=Kt=et=0,e}};function Oe(e,t){Vt+=e,Jt+=t,++xe}function Hn(){ye.point=di}function di(e,t){ye.point=mi,Oe(Se=e,Me=t)}function mi(e,t){var n=e-Se,r=t-Me,o=Xe(n*n+r*r);Mt+=o*(Se+e)/2,Lt+=o*(Me+t)/2,We+=o,Oe(Se=e,Me=t)}function Fn(){ye.point=Oe}function Ei(){ye.point=wi}function yi(){Lr(Sr,Mr)}function wi(e,t){ye.point=Lr,Oe(Sr=Se=e,Mr=Me=t)}function Lr(e,t){var n=e-Se,r=t-Me,o=Xe(n*n+r*r);Mt+=o*(Se+e)/2,Lt+=o*(Me+t)/2,We+=o,o=Me*e-Se*t,Qt+=o*(Se+e),Kt+=o*(Me+t),et+=o*3,Oe(Se=e,Me=t)}const qn=ye;function Pr(e){this._context=e}Pr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,me);break}}},result:de};var jt=new Ce,Dt,Rr,Ar,tt,nt,Pt={point:de,lineStart:function(){Pt.point=ki},lineEnd:function(){Dt&&Ir(Rr,Ar),Pt.point=de},polygonStart:function(){Dt=!0},polygonEnd:function(){Dt=null},result:function(){var e=+jt;return jt=new Ce,e}};function ki(e,t){Pt.point=Ir,Rr=tt=e,Ar=nt=t}function Ir(e,t){tt-=e,nt-=t,jt.add(Xe(tt*tt+nt*nt)),tt=e,nt=t}const Wn=Pt;function Nr(){this._string=[]}Nr.prototype={_radius:4.5,_circle:bn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=bn(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function bn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Si(e,t){var n=4.5,r,o;function a(f){return f&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),Fe(f,r(o))),o.result()}return a.area=function(f){return Fe(f,r(Zn)),Zn.result()},a.measure=function(f){return Fe(f,r(Wn)),Wn.result()},a.bounds=function(f){return Fe(f,r(St)),St.result()},a.centroid=function(f){return Fe(f,r(qn)),qn.result()},a.projection=function(f){return arguments.length?(r=f==null?(e=null,qt):(e=f).stream,a):e},a.context=function(f){return arguments.length?(o=f==null?(t=null,new Nr):new Pr(t=f),typeof n!="function"&&o.pointRadius(n),a):t},a.pointRadius=function(f){return arguments.length?(n=typeof f=="function"?f:(o.pointRadius(+f),+f),a):n},a.projection(e).context(t)}function en(e){return function(t){var n=new $t;for(var r in e)n[r]=e[r];return n.stream=t,n}}function $t(){}$t.prototype={constructor:$t,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Fe(n,e.stream(St)),t(St.result()),r!=null&&e.clipExtent(r),e}function Br(e,t,n){return tn(e,function(r){var o=t[1][0]-t[0][0],a=t[1][1]-t[0][1],f=Math.min(o/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),c=+t[0][0]+(o-f*(r[1][0]+r[0][0]))/2,m=+t[0][1]+(a-f*(r[1][1]+r[0][1]))/2;e.scale(150*f).translate([c,m])},n)}function Mi(e,t,n){return Br(e,[[0,0],t],n)}function Li(e,t,n){return tn(e,function(r){var o=+t,a=o/(r[1][0]-r[0][0]),f=(o-a*(r[1][0]+r[0][0]))/2,c=-a*r[0][1];e.scale(150*a).translate([f,c])},n)}function Pi(e,t,n){return tn(e,function(r){var o=+t,a=o/(r[1][1]-r[0][1]),f=-a*r[0][0],c=(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,c])},n)}var Un=16,Ri=j(30*pe);function Vn(e,t){return+t?Ii(e,t):Ai(e)}function Ai(e){return en({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Ii(e,t){function n(r,o,a,f,c,m,p,i,u,s,_,v,h,d){var g=p-r,w=i-o,E=g*g+w*w;if(E>4*t&&h--){var M=f+s,L=c+_,T=m+v,I=Xe(M*M+L*L+T*T),Y=lt(T/=I),D=K(K(T)-1)<W||K(a-u)<W?(a+u)/2:ot(L,M),X=e(D,Y),B=X[0],S=X[1],z=B-r,Z=S-o,y=w*z-g*Z;(y*y/E>t||K((g*z+w*Z)/E-.5)>.3||f*s+c*_+m*v<Ri)&&(n(r,o,a,f,c,m,B,S,D,M/=I,L/=I,T,h,d),d.point(B,S),n(B,S,D,M,L,T,p,i,u,s,_,v,h,d))}}return function(r){var o,a,f,c,m,p,i,u,s,_,v,h,d={point:g,lineStart:w,lineEnd:M,polygonStart:function(){r.polygonStart(),d.lineStart=L},polygonEnd:function(){r.polygonEnd(),d.lineStart=w}};function g(Y,D){Y=e(Y,D),r.point(Y[0],Y[1])}function w(){u=NaN,d.point=E,r.lineStart()}function E(Y,D){var X=Ue([Y,D]),B=e(Y,D);n(u,s,i,_,v,h,u=B[0],s=B[1],i=Y,_=X[0],v=X[1],h=X[2],Un,r),r.point(u,s)}function M(){d.point=g,r.lineEnd()}function L(){w(),d.point=T,d.lineEnd=I}function T(Y,D){E(o=Y,D),a=u,f=s,c=_,m=v,p=h,d.point=E}function I(){n(u,s,i,_,v,h,a,f,o,c,m,p,Un,r),d.lineEnd=M,M()}return d}}var Ni=en({point:function(e,t){this.stream.point(e*pe,t*pe)}});function Bi(e){return en({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Ti(e,t,n,r,o){function a(f,c){return f*=r,c*=o,[t+e*f,n-e*c]}return a.invert=function(f,c){return[(f-t)/e*r,(n-c)/e*o]},a}function Jn(e,t,n,r,o,a){if(!a)return Ti(e,t,n,r,o);var f=j(a),c=$(a),m=f*e,p=c*e,i=f/e,u=c/e,s=(c*n-f*t)/e,_=(c*t+f*n)/e;function v(h,d){return h*=r,d*=o,[m*h-p*d+t,n-p*h-m*d]}return v.invert=function(h,d){return[r*(i*h-u*d+s),o*(_-u*h-i*d)]},v}function Gi(e){return Di(function(){return e})()}function Di(e){var t,n=150,r=480,o=250,a=0,f=0,c=0,m=0,p=0,i,u=0,s=1,_=1,v=null,h=Cn,d=null,g,w,E,M=qt,L=.5,T,I,Y,D,X;function B(y){return Y(y[0]*pe,y[1]*pe)}function S(y){return y=Y.invert(y[0],y[1]),y&&[y[0]*Ne,y[1]*Ne]}B.stream=function(y){return D&&X===y?D:D=Ni(Bi(i)(h(T(M(X=y)))))},B.preclip=function(y){return arguments.length?(h=y,v=void 0,Z()):h},B.postclip=function(y){return arguments.length?(M=y,d=g=w=E=null,Z()):M},B.clipAngle=function(y){return arguments.length?(h=+y?ai(v=y*pe):(v=null,Cn),Z()):v*Ne},B.clipExtent=function(y){return arguments.length?(M=y==null?(d=g=w=E=null,qt):si(d=+y[0][0],g=+y[0][1],w=+y[1][0],E=+y[1][1]),Z()):d==null?null:[[d,g],[w,E]]},B.scale=function(y){return arguments.length?(n=+y,z()):n},B.translate=function(y){return arguments.length?(r=+y[0],o=+y[1],z()):[r,o]},B.center=function(y){return arguments.length?(a=y[0]%360*pe,f=y[1]%360*pe,z()):[a*Ne,f*Ne]},B.rotate=function(y){return arguments.length?(c=y[0]%360*pe,m=y[1]%360*pe,p=y.length>2?y[2]%360*pe:0,z()):[c*Ne,m*Ne,p*Ne]},B.angle=function(y){return arguments.length?(u=y%360*pe,z()):u*Ne},B.reflectX=function(y){return arguments.length?(s=y?-1:1,z()):s<0},B.reflectY=function(y){return arguments.length?(_=y?-1:1,z()):_<0},B.precision=function(y){return arguments.length?(T=Vn(I,L=y*y),Z()):Xe(L)},B.fitExtent=function(y,C){return Br(B,y,C)},B.fitSize=function(y,C){return Mi(B,y,C)},B.fitWidth=function(y,C){return Li(B,y,C)},B.fitHeight=function(y,C){return Pi(B,y,C)};function z(){var y=Jn(n,0,0,s,_,u).apply(null,t(a,f)),C=Jn(n,r-y[0],o-y[1],s,_,u);return i=ei(c,m,p),I=Ht(t,C),Y=Ht(i,I),T=Vn(I,L),Z()}function Z(){return D=X=null,B}return function(){return t=e.apply(this,arguments),B.invert=t.invert&&S,z()}}const Qn=Ur("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function zi(e){return e}function Yi(e){if(e==null)return zi;var t,n,r=e.scale[0],o=e.scale[1],a=e.translate[0],f=e.translate[1];return function(c,m){m||(t=n=0);var p=2,i=c.length,u=new Array(i);for(u[0]=(t+=c[0])*r+a,u[1]=(n+=c[1])*o+f;p<i;)u[p]=c[p],++p;return u}}function Ci(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}function Oi(e,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Kn(e,n)})}:Kn(e,t)}function Kn(e,t){var n=t.id,r=t.bbox,o=t.properties==null?{}:t.properties,a=Xi(e,t);return n==null&&r==null?{type:"Feature",properties:o,geometry:a}:r==null?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:r,properties:o,geometry:a}}function Xi(e,t){var n=Yi(e.transform),r=e.arcs;function o(i,u){u.length&&u.pop();for(var s=r[i<0?~i:i],_=0,v=s.length;_<v;++_)u.push(n(s[_],_));i<0&&Ci(u,v)}function a(i){return n(i)}function f(i){for(var u=[],s=0,_=i.length;s<_;++s)o(i[s],u);return u.length<2&&u.push(u[0]),u}function c(i){for(var u=f(i);u.length<4;)u.push(u[0]);return u}function m(i){return i.map(c)}function p(i){var u=i.type,s;switch(u){case"GeometryCollection":return{type:u,geometries:i.geometries.map(p)};case"Point":s=a(i.coordinates);break;case"MultiPoint":s=i.coordinates.map(a);break;case"LineString":s=f(i.arcs);break;case"MultiLineString":s=i.arcs.map(f);break;case"Polygon":s=m(i.arcs);break;case"MultiPolygon":s=i.arcs.map(m);break;default:return null}return{type:u,coordinates:s}}return p(t)}function jn(e,t){for(var n=0,r=e.length;n<r;){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function Zi(e){var t={},n=e.map(function(){return[]});function r(h,d){h.forEach(function(g){g<0&&(g=~g);var w=t[g];w?w.push(d):t[g]=[d]})}function o(h,d){h.forEach(function(g){r(g,d)})}function a(h,d){h.type==="GeometryCollection"?h.geometries.forEach(function(g){a(g,d)}):h.type in f&&f[h.type](h.arcs,d)}var f={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(h,d){h.forEach(function(g){o(g,d)})}};e.forEach(a);for(var c in t)for(var m=t[c],p=m.length,i=0;i<p;++i)for(var u=i+1;u<p;++u){var s=m[i],_=m[u],v;(v=n[s])[c=jn(v,_)]!==_&&v.splice(c,0,_),(v=n[_])[c=jn(v,s)]!==s&&v.splice(c,0,s)}return n}var Rt=Math.abs,Je=Math.cos,Le=Math.sin,it=1e-6,At=Math.PI,xt=At/2;function Hi(e){return e?e/Math.sin(e):1}function nn(e){return e>1?0:e<-1?At:Math.acos(e)}function Tr(e){return e>0?Math.sqrt(e):0}function Gr(e,t){var n=Je(t),r=Hi(nn(n*Je(e/=2)));return[2*n*Le(e)*r,Le(t)*r]}Gr.invert=function(e,t){if(!(e*e+4*t*t>At*At+it)){var n=e,r=t,o=25;do{var a=Le(n),f=Le(n/2),c=Je(n/2),m=Le(r),p=Je(r),i=Le(2*r),u=m*m,s=p*p,_=f*f,v=1-s*c*c,h=v?nn(p*c)*Tr(d=1/v):d=0,d,g=2*h*p*f-e,w=h*m-t,E=d*(s*_+h*p*c*u),M=d*(.5*a*i-h*2*m*f),L=d*.25*(i*f-h*m*s*a),T=d*(u*c+h*_*p),I=M*L-T*E;if(!I)break;var Y=(w*M-g*T)/I,D=(g*L-w*E)/I;n-=Y,r-=D}while((Rt(Y)>it||Rt(D)>it)&&--o>0);return[n,r]}};function Dr(e,t){var n=Gr(e,t);return[(n[0]+e/xt)/2,(n[1]+t)/2]}Dr.invert=function(e,t){var n=e,r=t,o=25;do{var a=Je(r),f=Le(r),c=Le(2*r),m=f*f,p=a*a,i=Le(n),u=Je(n/2),s=Le(n/2),_=s*s,v=1-p*u*u,h=v?nn(a*u)*Tr(d=1/v):d=0,d,g=.5*(2*h*a*s+n/xt)-e,w=.5*(h*f+r)-t,E=.5*d*(p*_+h*a*u*m)+.5/xt,M=d*(i*c/4-h*f*s),L=.125*d*(c*s-h*f*p*i),T=.5*d*(m*u+h*_*a)+.5,I=M*L-T*E,Y=(w*M-g*T)/I,D=(g*L-w*E)/I;n-=Y,r-=D}while((Rt(Y)>it||Rt(D)>it)&&--o>0);return[n,r]};function Fi(){return Gi(Dr).scale(158.837)}function $n(e,t,n){const r=e.slice();return r[50]=t[n],r}function xn(e,t,n){const r=e.slice();return r[50]=t[n],r}function er(e,t,n){const r=e.slice();return r[50]=t[n],r}function tr(e,t,n){const r=e.slice();return r[57]=t[n],r[59]=n,r}function nr(e,t,n){const r=e.slice();return r[60]=t[n],r}function rr(e){let t,n=e[8],r,o,a,f,c=ur(e),m=e[5],p=[];for(let h=0;h<m.length;h+=1)p[h]=fr(er(e,m,h));let i=e[5],u=[];for(let h=0;h<i.length;h+=1)u[h]=sr(xn(e,i,h));const s=h=>dt(u[h],1,1,()=>{u[h]=null});let _=e[5],v=[];for(let h=0;h<_.length;h+=1)v[h]=cr($n(e,_,h));return{c(){t=R("g"),c.c(),r=R("g");for(let h=0;h<p.length;h+=1)p[h].c();o=De();for(let h=0;h<u.length;h+=1)u[h].c();a=De();for(let h=0;h<v.length;h+=1)v[h].c();this.h()},l(h){t=A(h,"g",{id:!0});var d=P(t);c.l(d),r=A(d,"g",{id:!0});var g=P(r);for(let w=0;w<p.length;w+=1)p[w].l(g);o=De();for(let w=0;w<u.length;w+=1)u[w].l(g);a=De();for(let w=0;w<v.length;w+=1)v[w].l(g);g.forEach(k),d.forEach(k),this.h()},h(){l(r,"id","artists"),l(t,"id","map")},m(h,d){ee(h,t,d),c.m(t,null),N(t,r);for(let g=0;g<p.length;g+=1)p[g].m(r,null);N(r,o);for(let g=0;g<u.length;g+=1)u[g].m(r,null);N(r,a);for(let g=0;g<v.length;g+=1)v[g].m(r,null);f=!0},p(h,d){if(d[0]&256&&pr(n,n=h[8])?(c.d(1),c=ur(h),c.c(),c.m(t,r)):c.p(h,d),d[0]&774244){m=h[5];let g;for(g=0;g<m.length;g+=1){const w=er(h,m,g);p[g]?p[g].p(w,d):(p[g]=fr(w),p[g].c(),p[g].m(r,o))}for(;g<p.length;g+=1)p[g].d(1);p.length=m.length}if(d[0]&7544868){i=h[5];let g;for(g=0;g<i.length;g+=1){const w=xn(h,i,g);u[g]?(u[g].p(w,d),be(u[g],1)):(u[g]=sr(w),u[g].c(),be(u[g],1),u[g].m(r,a))}for(gr(),g=i.length;g<u.length;g+=1)s(g);vr()}if(d[0]&466978){_=h[5];let g;for(g=0;g<_.length;g+=1){const w=$n(h,_,g);v[g]?v[g].p(w,d):(v[g]=cr(w),v[g].c(),v[g].m(r,null))}for(;g<v.length;g+=1)v[g].d(1);v.length=_.length}},i(h){if(!f){for(let d=0;d<i.length;d+=1)be(u[d]);f=!0}},o(h){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)dt(u[d]);f=!1},d(h){h&&k(t),c.d(h),rt(p,h),rt(u,h),rt(v,h)}}}function ir(e){let t,n;return{c(){t=R("path"),this.h()},l(r){t=A(r,"path",{d:!0,fill:!0,stroke:!0}),P(t).forEach(k),this.h()},h(){l(t,"d",n=e[7](e[60])),l(t,"fill","none"),l(t,"stroke","lightgray")},m(r,o){ee(r,t,o)},p(r,o){o[0]&128&&n!==(n=r[7](r[60]))&&l(t,"d",n)},d(r){r&&k(t)}}}function or(e){let t,n=e[3].features,r=[];for(let o=0;o<n.length;o+=1)r[o]=lr(tr(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=De()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);t=De()},m(o,a){for(let f=0;f<r.length;f+=1)r[f].m(o,a);ee(o,t,a)},p(o,a){if(a[0]&152){n=o[3].features;let f;for(f=0;f<n.length;f+=1){const c=tr(o,n,f);r[f]?r[f].p(c,a):(r[f]=lr(c),r[f].c(),r[f].m(t.parentNode,t))}for(;f<r.length;f+=1)r[f].d(1);r.length=n.length}},d(o){rt(r,o),o&&k(t)}}}function lr(e){let t,n,r,o;return{c(){t=R("path"),this.h()},l(a){t=A(a,"path",{id:!0,d:!0,stroke:!0,fill:!0}),P(t).forEach(k),this.h()},h(){l(t,"id",n=e[57].id),l(t,"d",r=e[7](e[57])),l(t,"stroke","none"),l(t,"fill",o=Qn[e[4][e[59]]])},m(a,f){ee(a,t,f)},p(a,f){f[0]&8&&n!==(n=a[57].id)&&l(t,"id",n),f[0]&136&&r!==(r=a[7](a[57]))&&l(t,"d",r),f[0]&16&&o!==(o=Qn[a[4][a[59]]])&&l(t,"fill",o)},d(a){a&&k(t)}}}function ur(e){let t,n,r,o,a,f,c,m,p=e[10],i=[];for(let s=0;s<p.length;s+=1)i[s]=ir(nr(e,p,s));let u=e[3]&&or(e);return{c(){t=R("g"),n=R("path"),o=R("g");for(let s=0;s<i.length;s+=1)i[s].c();a=R("g"),u&&u.c(),f=R("g"),c=R("path"),this.h()},l(s){t=A(s,"g",{id:!0});var _=P(t);n=A(_,"path",{d:!0,fill:!0,stroke:!0}),P(n).forEach(k),_.forEach(k),o=A(s,"g",{id:!0});var v=P(o);for(let g=0;g<i.length;g+=1)i[g].l(v);v.forEach(k),a=A(s,"g",{id:!0});var h=P(a);u&&u.l(h),h.forEach(k),f=A(s,"g",{id:!0});var d=P(f);c=A(d,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(c).forEach(k),d.forEach(k),this.h()},h(){l(n,"d",r=e[7](e[11])),l(n,"fill",Fr),l(n,"stroke","none"),l(t,"id","fill"),l(o,"id","graticules"),l(a,"id","countries"),l(c,"d",m=e[7](e[11])),l(c,"fill","none"),l(c,"stroke","lightgray"),l(c,"stroke-width","2"),l(f,"id","outline")},m(s,_){ee(s,t,_),N(t,n),ee(s,o,_);for(let v=0;v<i.length;v+=1)i[v].m(o,null);ee(s,a,_),u&&u.m(a,null),ee(s,f,_),N(f,c)},p(s,_){if(_[0]&128&&r!==(r=s[7](s[11]))&&l(n,"d",r),_[0]&1152){p=s[10];let v;for(v=0;v<p.length;v+=1){const h=nr(s,p,v);i[v]?i[v].p(h,_):(i[v]=ir(h),i[v].c(),i[v].m(o,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=p.length}s[3]?u?u.p(s,_):(u=or(s),u.c(),u.m(a,null)):u&&(u.d(1),u=null),_[0]&128&&m!==(m=s[7](s[11]))&&l(c,"d",m)},d(s){s&&k(t),s&&k(o),rt(i,s),s&&k(a),u&&u.d(),s&&k(f)}}}function ar(e){let t,n;function r(f,c){return c[0]&36&&(t=null),t==null&&(t=!!f[14](f[2][0],f[50][0])),t?Wi:qi}let o=r(e,[-1,-1,-1]),a=o(e);return{c(){a.c(),n=De()},l(f){a.l(f),n=De()},m(f,c){a.m(f,c),ee(f,n,c)},p(f,c){o===(o=r(f,c))&&a?a.p(f,c):(a.d(1),a=o(f),a&&(a.c(),a.m(n.parentNode,n)))},d(f){a.d(f),f&&k(n)}}}function qi(e){let t,n,r,o,a,f,c,m,p;return{c(){t=R("g"),n=R("g"),r=R("g"),o=R("path"),c=R("path"),this.h()},l(i){t=A(i,"g",{transform:!0});var u=P(t);n=A(u,"g",{transform:!0});var s=P(n);r=A(s,"g",{transform:!0});var _=P(r);o=A(_,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(o).forEach(k),_.forEach(k),s.forEach(k),u.forEach(k),c=A(i,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(c).forEach(k),this.h()},h(){l(o,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),l(o,"fill","#cc0000"),l(o,"stroke","black"),l(o,"stroke-width","2"),l(r,"transform","translate("+(-x*2-10)+", 0)"),l(n,"transform",a="rotate("+e[15]([e[16](e[2]),e[17](e[2])],[e[16](e[50]),e[17](e[50])])+")"),l(t,"transform",f="translate("+e[16](e[50])+", "+e[17](e[50])+")"),l(c,"d",m=e[12]([e[16](e[2]),e[17](e[2])],[e[16](e[50]),e[17](e[50])])),l(c,"stroke","#c00"),l(c,"fill","none"),l(c,"opacity","0.5"),l(c,"stroke-width",p=e[19](e[2],e[50]))},m(i,u){ee(i,t,u),N(t,n),N(n,r),N(r,o),ee(i,c,u)},p(i,u){u[0]&36&&a!==(a="rotate("+i[15]([i[16](i[2]),i[17](i[2])],[i[16](i[50]),i[17](i[50])])+")")&&l(n,"transform",a),u[0]&32&&f!==(f="translate("+i[16](i[50])+", "+i[17](i[50])+")")&&l(t,"transform",f),u[0]&36&&m!==(m=i[12]([i[16](i[2]),i[17](i[2])],[i[16](i[50]),i[17](i[50])]))&&l(c,"d",m),u[0]&36&&p!==(p=i[19](i[2],i[50]))&&l(c,"stroke-width",p)},d(i){i&&k(t),i&&k(c)}}}function Wi(e){let t,n,r,o,a,f,c,m,p;return{c(){t=R("g"),n=R("g"),r=R("g"),o=R("path"),c=R("path"),this.h()},l(i){t=A(i,"g",{transform:!0});var u=P(t);n=A(u,"g",{transform:!0});var s=P(n);r=A(s,"g",{transform:!0});var _=P(r);o=A(_,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(o).forEach(k),_.forEach(k),s.forEach(k),u.forEach(k),c=A(i,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(c).forEach(k),this.h()},h(){l(o,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),l(o,"fill","#cc0000"),l(o,"stroke","black"),l(o,"stroke-width","2"),l(r,"transform","translate("+x*2+", 0)"),l(n,"transform",a="rotate("+e[15]([e[16](e[50]),e[17](e[50])],[e[16](e[2]),e[17](e[2])])+")"),l(t,"transform",f="translate("+e[16](e[50])+", "+e[17](e[50])+")"),l(c,"d",m=e[12]([e[16](e[50]),e[17](e[50])],[e[16](e[2]),e[17](e[2])])),l(c,"stroke","#c00"),l(c,"fill","none"),l(c,"opacity","0.5"),l(c,"stroke-width",p=e[19](e[2],e[50]))},m(i,u){ee(i,t,u),N(t,n),N(n,r),N(r,o),ee(i,c,u)},p(i,u){u[0]&36&&a!==(a="rotate("+i[15]([i[16](i[50]),i[17](i[50])],[i[16](i[2]),i[17](i[2])])+")")&&l(n,"transform",a),u[0]&32&&f!==(f="translate("+i[16](i[50])+", "+i[17](i[50])+")")&&l(t,"transform",f),u[0]&36&&m!==(m=i[12]([i[16](i[50]),i[17](i[50])],[i[16](i[2]),i[17](i[2])]))&&l(c,"d",m),u[0]&36&&p!==(p=i[19](i[2],i[50]))&&l(c,"stroke-width",p)},d(i){i&&k(t),i&&k(c)}}}function fr(e){let t,n,r,o,a,f,c,m,p,i=e[2][0]!==e[50][0]&&ar(e);return{c(){t=R("g"),n=R("line"),c=R("circle"),i&&i.c(),this.h()},l(u){t=A(u,"g",{});var s=P(t);n=A(s,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),P(n).forEach(k),c=A(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),P(c).forEach(k),i&&i.l(s),s.forEach(k),this.h()},h(){l(n,"x2",r=ze(e[6],e[50][1])),l(n,"y2",o=Ye(e[6],e[50][1])),l(n,"x1",a=e[16](e[50])),l(n,"y1",f=e[17](e[50])),l(n,"stroke","black"),l(c,"cx",m=ze(e[6],e[50][1])),l(c,"cy",p=Ye(e[6],e[50][1])),l(c,"r","2"),l(c,"fill","black")},m(u,s){ee(u,t,s),N(t,n),N(t,c),i&&i.m(t,null)},p(u,s){s[0]&96&&r!==(r=ze(u[6],u[50][1]))&&l(n,"x2",r),s[0]&96&&o!==(o=Ye(u[6],u[50][1]))&&l(n,"y2",o),s[0]&32&&a!==(a=u[16](u[50]))&&l(n,"x1",a),s[0]&32&&f!==(f=u[17](u[50]))&&l(n,"y1",f),s[0]&96&&m!==(m=ze(u[6],u[50][1]))&&l(c,"cx",m),s[0]&96&&p!==(p=Ye(u[6],u[50][1]))&&l(c,"cy",p),u[2][0]!==u[50][0]?i?i.p(u,s):(i=ar(u),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(u){u&&k(t),i&&i.d()}}}function bi(e){let t,n,r,o;return{c(){t=R("image"),o=R("circle"),this.h()},l(a){t=A(a,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(k),o=A(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),P(o).forEach(k),this.h()},h(){l(t,"id",n=O(e[50][0])+"-image-map"),l(t,"href",r=mt+e[20](e[50][0])),ke(t,"outline","none"),l(t,"height",x*4),l(t,"width",x*4),l(t,"x",-x*2),l(t,"y",-x*2),l(o,"cx","0"),l(o,"cy","0"),l(o,"r",x*2),l(o,"stroke","black"),l(o,"fill","none")},m(a,f){ee(a,t,f),ee(a,o,f)},p(a,f){f[0]&32&&n!==(n=O(a[50][0])+"-image-map")&&l(t,"id",n),f[0]&32&&r!==(r=mt+a[20](a[50][0]))&&l(t,"href",r)},d(a){a&&k(t),a&&k(o)}}}function Ui(e){let t,n,r,o;return{c(){t=R("image"),o=R("circle"),this.h()},l(a){t=A(a,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(k),o=A(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),P(o).forEach(k),this.h()},h(){l(t,"id",n=O(e[50][0])+"-image-map"),l(t,"href",r=mt+e[20](e[50][0])),ke(t,"outline","none"),l(t,"height",x*4),l(t,"width",x*4),l(t,"x",-x*2),l(t,"y",-x*2),l(o,"cx","0"),l(o,"cy","0"),l(o,"r",x*2),l(o,"stroke","#c00"),l(o,"stroke-width","2"),l(o,"fill","none")},m(a,f){ee(a,t,f),ee(a,o,f)},p(a,f){f[0]&32&&n!==(n=O(a[50][0])+"-image-map")&&l(t,"id",n),f[0]&32&&r!==(r=mt+a[20](a[50][0]))&&l(t,"href",r)},d(a){a&&k(t),a&&k(o)}}}function sr(e){let t,n,r,o,a,f,c;function m(h,d){return h[50][0]===h[2][0]?Ui:bi}let p=m(e),i=p(e);function u(...h){return e[28](e[50],...h)}function s(...h){return e[29](e[50],...h)}function _(...h){return e[30](e[50],...h)}function v(...h){return e[31](e[50],...h)}return{c(){t=R("g"),i.c(),this.h()},l(h){t=A(h,"g",{id:!0,transform:!0,style:!0});var d=P(t);i.l(d),d.forEach(k),this.h()},h(){l(t,"id",n=O(e[50][0])+"-group-map"),l(t,"transform",r=e[13](e[16](e[50]),e[17](e[50]))),ke(t,"outline","none")},m(h,d){ee(h,t,d),i.m(t,null),a=!0,f||(c=[je(t,"focus",u),je(t,"mouseover",s),je(t,"blur",_),je(t,"mouseout",v)],f=!0)},p(h,d){e=h,p===(p=m(e))&&i?i.p(e,d):(i.d(1),i=p(e),i&&(i.c(),i.m(t,null))),(!a||d[0]&32&&n!==(n=O(e[50][0])+"-group-map"))&&l(t,"id",n),(!a||d[0]&32&&r!==(r=e[13](e[16](e[50]),e[17](e[50]))))&&l(t,"transform",r)},i(h){a||(Zr(()=>{o||(o=Ln(t,Pn,{},!0)),o.run(1)}),a=!0)},o(h){o||(o=Ln(t,Pn,{},!1)),o.run(0),a=!1},d(h){h&&k(t),i.d(),h&&o&&o.end(),f=!1,Hr(c)}}}function cr(e){let t,n,r,o,a,f,c,m,p,i=e[50][0]+"",u,s,_,v,h,d=e[50][1][0].country+"",g,w,E,M,L,T=e[18](e[50][1])+"",I,Y,D,X,B;return{c(){t=R("g"),n=R("rect"),p=R("text"),u=ge(i),h=R("text"),g=ge(d),L=R("text"),I=ge(T),this.h()},l(S){t=A(S,"g",{transform:!0});var z=P(t);n=A(z,"rect",{id:!0,class:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0}),P(n).forEach(k),p=A(z,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var Z=P(p);u=ve(Z,i),Z.forEach(k),h=A(z,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var y=P(h);g=ve(y,d),y.forEach(k),L=A(z,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var C=P(L);I=ve(C,T),C.forEach(k),z.forEach(k),this.h()},h(){l(n,"id",r=O(e[50][0])+"-rect-map"),l(n,"class",o=O(e[50][0])+"-map-detail pointer-events-none"),l(n,"x",a=-(st(["#"+O(e[50][0])+"-map-name","#"+O(e[50][0])+"-map-origin","#"+O(e[50][0])+"-map-year"],[e[50][0],e[50][1][0].country,e[18](e[50][1])])+He)/2),l(n,"width",f=st(["#"+O(e[50][0])+"-map-name","#"+O(e[50][0])+"-map-origin","#"+O(e[50][0])+"-map-year"],[e[50][0],e[50][1][0].country,e[18](e[50][1])])+He),l(n,"y",c=e[17](e[50])<e[1]/2?(ce*2.5+Ze("#"+O(e[50][0])+"-map-name",e[50][0]))/2:-2*(ce*4.75+Ze("#"+O(e[50][0])+"-map-name",e[50][0]))/2),l(n,"height",m=3*Ze("#"+O(e[50][0])+"-map-name",e[50][0])+He-10),l(n,"fill","white"),l(n,"stroke","black"),l(n,"rx","15"),l(n,"opacity","0"),l(p,"id",s=O(e[50][0])+"-map-name"),l(p,"class",_=O(e[50][0])+"-map-detail pointer-events-none"),l(p,"opacity","0"),l(p,"x","0"),l(p,"y",v=e[17](e[50])<e[1]/2?ce*2.75:-ce*4.75),l(p,"text-anchor","middle"),l(h,"id",w=O(e[50][0])+"-map-origin"),l(h,"class",E=O(e[50][0])+"-map-detail pointer-events-none"),l(h,"opacity","0"),l(h,"x","0"),l(h,"y",M=e[17](e[50])<e[1]/2?ce*3.75:-ce*3.75),l(h,"text-anchor","middle"),l(L,"id",Y=O(e[50][0])+"-map-year"),l(L,"class",D=O(e[50][0])+"-map-detail pointer-events-none"),l(L,"opacity","0"),l(L,"x","0"),l(L,"y",X=e[17](e[50])<e[1]/2?ce*4.75:-ce*2.75),l(L,"text-anchor","middle"),l(t,"transform",B=e[13](e[16](e[50]),e[17](e[50])))},m(S,z){ee(S,t,z),N(t,n),N(t,p),N(p,u),N(t,h),N(h,g),N(t,L),N(L,I)},p(S,z){z[0]&32&&r!==(r=O(S[50][0])+"-rect-map")&&l(n,"id",r),z[0]&32&&o!==(o=O(S[50][0])+"-map-detail pointer-events-none")&&l(n,"class",o),z[0]&32&&a!==(a=-(st(["#"+O(S[50][0])+"-map-name","#"+O(S[50][0])+"-map-origin","#"+O(S[50][0])+"-map-year"],[S[50][0],S[50][1][0].country,S[18](S[50][1])])+He)/2)&&l(n,"x",a),z[0]&32&&f!==(f=st(["#"+O(S[50][0])+"-map-name","#"+O(S[50][0])+"-map-origin","#"+O(S[50][0])+"-map-year"],[S[50][0],S[50][1][0].country,S[18](S[50][1])])+He)&&l(n,"width",f),z[0]&34&&c!==(c=S[17](S[50])<S[1]/2?(ce*2.5+Ze("#"+O(S[50][0])+"-map-name",S[50][0]))/2:-2*(ce*4.75+Ze("#"+O(S[50][0])+"-map-name",S[50][0]))/2)&&l(n,"y",c),z[0]&32&&m!==(m=3*Ze("#"+O(S[50][0])+"-map-name",S[50][0])+He-10)&&l(n,"height",m),z[0]&32&&i!==(i=S[50][0]+"")&&Nt(u,i),z[0]&32&&s!==(s=O(S[50][0])+"-map-name")&&l(p,"id",s),z[0]&32&&_!==(_=O(S[50][0])+"-map-detail pointer-events-none")&&l(p,"class",_),z[0]&34&&v!==(v=S[17](S[50])<S[1]/2?ce*2.75:-ce*4.75)&&l(p,"y",v),z[0]&32&&d!==(d=S[50][1][0].country+"")&&Nt(g,d),z[0]&32&&w!==(w=O(S[50][0])+"-map-origin")&&l(h,"id",w),z[0]&32&&E!==(E=O(S[50][0])+"-map-detail pointer-events-none")&&l(h,"class",E),z[0]&34&&M!==(M=S[17](S[50])<S[1]/2?ce*3.75:-ce*3.75)&&l(h,"y",M),z[0]&32&&T!==(T=S[18](S[50][1])+"")&&Nt(I,T),z[0]&32&&Y!==(Y=O(S[50][0])+"-map-year")&&l(L,"id",Y),z[0]&32&&D!==(D=O(S[50][0])+"-map-detail pointer-events-none")&&l(L,"class",D),z[0]&34&&X!==(X=S[17](S[50])<S[1]/2?ce*4.75:-ce*2.75)&&l(L,"y",X),z[0]&32&&B!==(B=S[13](S[16](S[50]),S[17](S[50])))&&l(t,"transform",B)},d(S){S&&k(t)}}}function Vi(e){let t,n,r,o,a,f,c,m,p,i,u,s,_,v,h,d,g,w,E,M,L,T,I,Y,D,X,B,S,z,Z,y,C,b,te,U,he,ne,le,re,ue,ae,Pe,Qe,Ee,Re,G,H,ie,J,oe,fe,se,we,Ae,V=e[7]&&rr(e);return{c(){t=Sn("div"),n=R("svg"),r=R("defs"),o=R("style"),a=ge(`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),V&&V.c(),f=R("svg"),c=R("defs"),m=R("style"),p=ge(`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),i=R("g"),u=R("path"),s=R("polygon"),_=R("path"),d=Cr(),g=Sn("div"),w=R("svg"),E=R("g"),M=R("rect"),L=R("g"),T=R("g"),I=R("g"),Y=R("g"),D=R("path"),X=R("line"),B=R("circle"),S=R("text"),z=ge("A"),Z=R("circle"),y=R("text"),C=ge("B"),b=R("text"),te=ge("A influenced B"),U=R("g"),he=R("g"),ne=R("g"),le=R("g"),re=R("path"),ue=R("line"),ae=R("circle"),Pe=R("text"),Qe=ge("A"),Ee=R("circle"),Re=R("text"),G=ge("B"),H=R("text"),ie=ge("A influenced B"),J=R("g"),oe=R("text"),fe=ge("Line thickness encodes birth year gap"),this.h()},l(Q){t=Mn(Q,"DIV",{id:!0,class:!0,style:!0});var F=P(t);n=A(F,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var Ie=P(n);r=A(Ie,"defs",{});var at=P(r);o=A(at,"style",{});var rn=P(o);a=ve(rn,`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),rn.forEach(k),at.forEach(k),V&&V.l(Ie),f=A(Ie,"svg",{id:!0,xmlns:!0,viewBox:!0});var It=P(f);c=A(It,"defs",{});var on=P(c);m=A(on,"style",{});var ln=P(m);p=ve(ln,`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),ln.forEach(k),on.forEach(k),i=A(It,"g",{transform:!0});var ft=P(i);u=A(ft,"path",{d:!0}),P(u).forEach(k),s=A(ft,"polygon",{class:!0,points:!0}),P(s).forEach(k),_=A(ft,"path",{class:!0,d:!0}),P(_).forEach(k),ft.forEach(k),It.forEach(k),Ie.forEach(k),d=Or(F),g=Mn(F,"DIV",{class:!0,style:!0});var un=P(g);w=A(un,"svg",{id:!0,class:!0,style:!0,xmlns:!0,viewBox:!0,preserveAspectRatio:!0});var an=P(w);E=A(an,"g",{transform:!0});var Ke=P(E);M=A(Ke,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,rx:!0}),P(M).forEach(k),L=A(Ke,"g",{transform:!0});var Be=P(L);T=A(Be,"g",{transform:!0});var fn=P(T);I=A(fn,"g",{transform:!0});var sn=P(I);Y=A(sn,"g",{transform:!0});var cn=P(Y);D=A(cn,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(D).forEach(k),cn.forEach(k),sn.forEach(k),fn.forEach(k),X=A(Be,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(X).forEach(k),B=A(Be,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(B).forEach(k),S=A(Be,"text",{x:!0,y:!0});var hn=P(S);z=ve(hn,"A"),hn.forEach(k),Z=A(Be,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(Z).forEach(k),y=A(Be,"text",{x:!0,y:!0});var pn=P(y);C=ve(pn,"B"),pn.forEach(k),b=A(Be,"text",{x:!0,y:!0});var gn=P(b);te=ve(gn,"A influenced B"),gn.forEach(k),Be.forEach(k),U=A(Ke,"g",{transform:!0});var Te=P(U);he=A(Te,"g",{transform:!0});var vn=P(he);ne=A(vn,"g",{transform:!0});var _n=P(ne);le=A(_n,"g",{transform:!0});var dn=P(le);re=A(dn,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(re).forEach(k),dn.forEach(k),_n.forEach(k),vn.forEach(k),ue=A(Te,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(ue).forEach(k),ae=A(Te,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(ae).forEach(k),Pe=A(Te,"text",{x:!0,y:!0});var mn=P(Pe);Qe=ve(mn,"A"),mn.forEach(k),Ee=A(Te,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(Ee).forEach(k),Re=A(Te,"text",{x:!0,y:!0});var En=P(Re);G=ve(En,"B"),En.forEach(k),H=A(Te,"text",{x:!0,y:!0});var yn=P(H);ie=ve(yn,"A influenced B"),yn.forEach(k),Te.forEach(k),J=A(Ke,"g",{transform:!0});var wn=P(J);oe=A(wn,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0,stroke:!0,opacity:!0});var kn=P(oe);fe=ve(kn,"Line thickness encodes birth year gap"),kn.forEach(k),wn.forEach(k),Ke.forEach(k),an.forEach(k),un.forEach(k),F.forEach(k),this.h()},h(){l(u,"d","M4.24,28.34l4.24-11.31L4.24,5.71,0,17.02l4.24,11.31Zm0-2.85l-2.8-7.47H7.04s-2.8,7.47-2.8,7.47Z"),l(s,"class","cls-1"),l(s,"points","4.24 8.29 7.04 15.76 1.44 15.76 4.24 8.29"),l(_,"class","cls-2"),l(_,"d","M1.83,.24h1.63l1.28,1.85h.01V.24h1.61V4.58h-1.62l-1.28-1.85h-.01v1.85H1.83V.24Z"),l(i,"transform",e[9]),l(f,"id","compass"),l(f,"xmlns","http://www.w3.org/2000/svg"),l(f,"viewBox",v="0 0 "+e[0]+" "+e[1]),l(n,"class","inline-block absolute top-0 left-0"),l(n,"viewBox",h="0, 0, "+e[0]+", "+e[1]),l(n,"preserveAspectRatio","xMidYMid meet"),l(M,"x","2"),l(M,"y","2"),l(M,"width",zt-4),l(M,"height",Yt-4),l(M,"fill","white"),l(M,"stroke","black"),l(M,"rx","15"),l(D,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),l(D,"fill","#cc0000"),l(D,"stroke","black"),l(D,"stroke-width","2"),l(Y,"transform","translate("+(-x*2+5)+", 0)"),l(I,"transform","rotate(0)"),l(T,"transform","translate(115, 20)"),l(X,"x1","20"),l(X,"y1","20"),l(X,"x2","115"),l(X,"y2","20"),l(X,"stroke","#c00"),l(X,"stroke-width","5"),l(X,"opacity","0.5"),l(B,"cx","20"),l(B,"cy","20"),l(B,"r",x),l(B,"fill","white"),l(B,"stroke","#c00"),l(S,"x","15"),l(S,"y","25"),l(Z,"cx","115"),l(Z,"cy","20"),l(Z,"r",x),l(Z,"fill","white"),l(Z,"stroke","black"),l(y,"x","110"),l(y,"y","25"),l(b,"x","15"),l(b,"y","50"),l(L,"transform","translate(0, 20)"),l(re,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),l(re,"fill","#cc0000"),l(re,"stroke","black"),l(re,"stroke-width","2"),l(le,"transform","translate("+(x*2-15)+", 0)"),l(ne,"transform","rotate(0)"),l(he,"transform","translate(20, 20)"),l(ue,"x1","20"),l(ue,"y1","20"),l(ue,"x2","115"),l(ue,"y2","20"),l(ue,"stroke","#c00"),l(ue,"stroke-width","5"),l(ue,"opacity","0.5"),l(ae,"cx","20"),l(ae,"cy","20"),l(ae,"r",x),l(ae,"fill","white"),l(ae,"stroke","black"),l(Pe,"x","15"),l(Pe,"y","25"),l(Ee,"cx","115"),l(Ee,"cy","20"),l(Ee,"r",x),l(Ee,"fill","white"),l(Ee,"stroke","#c00"),l(Re,"x","110"),l(Re,"y","25"),l(H,"x","15"),l(H,"y","50"),l(U,"transform","translate(140, 20)"),l(oe,"font-size","smaller"),l(oe,"text-anchor","middle"),l(oe,"x","140"),l(oe,"y","0"),l(oe,"stroke","#c00"),l(oe,"opacity","0.5"),l(J,"transform","translate(0, 18)"),l(E,"transform","scale("+Ct+")"),l(w,"id","legend"),l(w,"class","inline-block absolute top-0 left-0"),ke(w,"padding-top","12px"),l(w,"xmlns","http://www.w3.org/2000/svg"),l(w,"viewBox","0 0 "+zt+" "+Yt),l(w,"preserveAspectRatio","xMidYMid meet"),l(g,"class","absolute left-0 bottom-0"),ke(g,"width",zt*Ct+"px"),ke(g,"height",Yt*Ct+"px"),l(t,"id","container"),l(t,"class","inline-block relative align-top overflow-hidden"),ke(t,"width",e[0]+"px"),ke(t,"height",e[1]+"px")},m(Q,F){ee(Q,t,F),N(t,n),N(n,r),N(r,o),N(o,a),V&&V.m(n,null),N(n,f),N(f,c),N(c,m),N(m,p),N(f,i),N(i,u),N(i,s),N(i,_),N(t,d),N(t,g),N(g,w),N(w,E),N(E,M),N(E,L),N(L,T),N(T,I),N(I,Y),N(Y,D),N(L,X),N(L,B),N(L,S),N(S,z),N(L,Z),N(L,y),N(y,C),N(L,b),N(b,te),N(E,U),N(U,he),N(he,ne),N(ne,le),N(le,re),N(U,ue),N(U,ae),N(U,Pe),N(Pe,Qe),N(U,Ee),N(U,Re),N(Re,G),N(U,H),N(H,ie),N(E,J),N(J,oe),N(oe,fe),se=!0,we||(Ae=je(n,"click",e[23]),we=!0)},p(Q,F){Q[7]?V?(V.p(Q,F),F[0]&128&&be(V,1)):(V=rr(Q),V.c(),be(V,1),V.m(n,f)):V&&(gr(),dt(V,1,1,()=>{V=null}),vr()),(!se||F[0]&512)&&l(i,"transform",Q[9]),(!se||F[0]&3&&v!==(v="0 0 "+Q[0]+" "+Q[1]))&&l(f,"viewBox",v),(!se||F[0]&3&&h!==(h="0, 0, "+Q[0]+", "+Q[1]))&&l(n,"viewBox",h),(!se||F[0]&1)&&ke(t,"width",Q[0]+"px"),(!se||F[0]&2)&&ke(t,"height",Q[1]+"px")},i(Q){se||(be(V),se=!0)},o(Q){dt(V),se=!1},d(Q){Q&&k(t),V&&V.d(),we=!1,Ae()}}}const x=15,ce=20,He=20,hr=1e3,zt=280,Yt=80,Ct=.8;function Ji(e,t,n){let r,o,a;const f=Xr();let c=new Worker(""+new URL("../workers/sim-nodes.worker-6d6b735a.js",import.meta.url).href);const m=G=>{n(5,w=G.data.nodes),n(2,E=w.filter(H=>H[0]===E[0])[0])};c.onmessage=m;let{width:p}=t,{height:i}=t,u,s,_,v,h,d,g,w,E;const M=ci(),L=M.lines(),T=M.outline();let I,Y,D;const X=(G,H)=>{if(G[0]===H[0]&&G[1]===H[1])return"";const ie=Jr(),J=Vr(ie);return H[0]-G[0],H[1]-G[1],J.lineStart(),J.point(G[0],G[1]),J.point(H[0],H[1]),J.lineEnd(),ie.toString()};let B;const S=(G,H)=>`translate(${G}, ${H})`,z=(G,H)=>{const ie=d.find(J=>J[0]===H);return ie?!!ie[1].find(oe=>oe.influenced===G):!1},Z=(G,H)=>Math.atan2(H[1]-G[1],H[0]-G[0])*180/Math.PI,y=(G,H)=>{n(2,E=h.filter(F=>F[0]===G)[0]),H.push(E);let ie=180,J=180,oe=-180,fe=-180;I.center([0,0]),I.scale(D),I.angle(0);for(const F of H)F.x=ze(I,F[1]),F.y=Ye(I,F[1]),F[1][0].lon>oe&&(oe=F[1][0].lon),F[1][0].lat>fe&&(fe=F[1][0].lat),F[1][0].lon<ie&&(ie=F[1][0].lon),F[1][0].lat<J&&(J=F[1][0].lat);const se=[(oe+ie)/2,(fe+J)/2],we=[[fe,ie],[J,oe]],Ae=I(we[0]),V=I(we[1]),Q=.6/Math.max(Math.abs(V[1]-Ae[1])/p,Math.abs(V[0]-Ae[0])/i);I.center(se),I.translate([p/2,i/2]),I.scale(Q*D),Math.abs(V[0]-Ae[0])>Math.abs(V[1]-Ae[1])?(I.angle(90),n(27,o=-90)):n(27,o=0),n(8,r+=1);for(const F of H)F.x=ze(I,F[1]),F.y=Ye(I,F[1]);c.postMessage({nodes:H,radius:x}),c.postMessage({nodes:H,radius:x})},C=G=>G.hasOwnProperty("x")?G.x:ze(I,G[1]),b=G=>G.hasOwnProperty("y")?G.y:Ye(I,G[1]),te=G=>`${G[0].year} - ${G[1].year>2021?"":G[1].year}`,U=(G,H)=>{const ie=G[1][0].year,J=H[1][0].year;return B(Math.abs(J-ie))},he=G=>v.filter(ie=>ie.artist===G)[0].thumbnail,ne=G=>{Rn(G+"-map-detail").transition().duration(hr).attr("opacity",1)},le=G=>{Rn(G+"-map-detail").transition().duration(hr).attr("opacity",0)},re=()=>{I.center([0,0]),I.scale(D),I.angle(0),n(27,o=0),n(5,w=[]),n(8,r+=1)},ue=()=>{f("reset_influences",{})},ae=(G,H,ie,J,oe)=>{n(3,u=Oi(G,G.objects.countries)),s=Zi(G.objects.countries.geometries),n(6,I=Fi().fitSize([p,i+4],u)),n(7,Y=Si().projection(I)),D=I.scale(),n(4,_=new Array(u.features.length));for(let fe=0;fe<_.length;++fe)n(4,_[fe]=qr(s[fe],se=>_[se])+1|0,_);if(d=ie,g=H,J){h=br(J,we=>we.artist);let fe=2e3,se=0;for(const[we,Ae]of g){const V=J.filter(Q=>Q.artist===we)[0];for(const Q of Ae){const F=J.filter(at=>at.artist===Q.artist)[0],Ie=Math.abs(V.year-F.year);Ie>se&&(se=Ie),Ie<fe&&(fe=Ie)}}B=Wr().domain([fe,se]).range([2,x*4])}else console.error("Unable to load Artist Locations!");v=oe},Pe=(G,H)=>ne("."+O(G[0])),Qe=(G,H)=>ne("."+O(G[0])),Ee=(G,H)=>le("."+O(G[0])),Re=(G,H)=>le("."+O(G[0]));return e.$$set=G=>{"width"in G&&n(0,p=G.width),"height"in G&&n(1,i=G.height)},e.$$.update=()=>{e.$$.dirty[0]&4,e.$$.dirty[0]&134217731&&n(9,a=o===0?`translate(${p-25}, ${i-60}) rotate(${o}) scale(2)`:`translate(${p-65}, ${i-5}) rotate(${o}) scale(2)`)},n(0,p=0),n(1,i=0),n(3,u=null),s=[],n(4,_=[]),h=[],d=[],g=[],n(5,w=[]),n(8,r=0),n(27,o=0),[p,i,E,u,_,w,I,Y,r,a,L,T,X,S,z,Z,C,b,te,U,he,ne,le,ue,y,re,ae,o,Pe,Qe,Ee,Re]}class oo extends zr{constructor(t){super(),Yr(this,t,Ji,Vi,pr,{width:0,height:1,DisplayInfluences:24,ResetInfluences:25,Initialize:26},null,[-1,-1,-1])}get DisplayInfluences(){return this.$$.ctx[24]}get ResetInfluences(){return this.$$.ctx[25]}get Initialize(){return this.$$.ctx[26]}}export{oo as M};
