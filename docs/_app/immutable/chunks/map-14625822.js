import{S as hi,i as pi,s as Cr,k as Ce,P as R,q as _n,a as gi,l as Fe,m as P,Q as I,r as dn,h as M,c as _i,n as s,p as Mn,b as tn,F as b,L as nt,f as Un,g as Fr,t as kt,d as Or,R as di,e as Bn,H as lt,J as mi,T as Oe,M as vi,u as Ct}from"./index-8d2061e5.js";import{c as yi,i as Wt,a as Ye,b as Xe,d as wi,s as Mt}from"./config-f23957d4.js";import{S as Ei,G as Gn,a as Cn,A as Z,T as pt,b as Xn}from"./helpers-d31f3b08.js";import{f as qe}from"./index-c469a12e.js";import{r as Hn,i as ki}from"./init-08c38208.js";import{s as Ze}from"./selectAll-2b83595f.js";import{e as He,g as Mi,a as Si}from"./math-f900f350.js";function wt(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ni(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Yr(n){let t,r,e;n.length!==2?(t=wt,r=(f,g)=>wt(n(f),g),e=(f,g)=>n(f)-g):(t=n===wt||n===Ni?n:Ai,r=n,e=n);function i(f,g,h=0,o=f.length){if(h<o){if(t(g,g)!==0)return o;do{const a=h+o>>>1;r(f[a],g)<0?h=a+1:o=a}while(h<o)}return h}function l(f,g,h=0,o=f.length){if(h<o){if(t(g,g)!==0)return o;do{const a=h+o>>>1;r(f[a],g)<=0?h=a+1:o=a}while(h<o)}return h}function u(f,g,h=0,o=f.length){const a=i(f,g,h,o-1);return a>h&&e(f[a-1],g)>-e(f[a],g)?a-1:a}return{left:i,center:u,right:l}}function Ai(){return 0}function Pi(n){return n===null?NaN:+n}const Li=Yr(wt),Ri=Li.right;Yr(Pi).center;const Ii=Ri;class Fn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const l=r[i],u=t+l,f=Math.abs(t)<Math.abs(l)?t-(u-l):l-(u-t);f&&(r[e++]=f),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,l,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,l=i-(u-e),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(i=l*2,e=u+i,i==e-u&&(u=e))}return u}}var Vt=Math.sqrt(50),Ut=Math.sqrt(10),$t=Math.sqrt(2);function Ti(n,t,r){var e,i=-1,l,u,f;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(l=n,n=t,t=l),(f=Xr(n,t,r))===0||!isFinite(f))return[];if(f>0){let g=Math.round(n/f),h=Math.round(t/f);for(g*f<n&&++g,h*f>t&&--h,u=new Array(l=h-g+1);++i<l;)u[i]=(g+i)*f}else{f=-f;let g=Math.round(n*f),h=Math.round(t*f);for(g/f<n&&++g,h/f>t&&--h,u=new Array(l=h-g+1);++i<l;)u[i]=(g+i)/f}return e&&u.reverse(),u}function Xr(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),l=e/Math.pow(10,i);return i>=0?(l>=Vt?10:l>=Ut?5:l>=$t?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Vt?10:l>=Ut?5:l>=$t?2:1)}function bi(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),l=e/i;return l>=Vt?i*=10:l>=Ut?i*=5:l>=$t&&(i*=2),t<n?-i:i}function zi(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function*Di(n){for(const t of n)yield*t}function qr(n){return Array.from(Di(n))}function Bi(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(l){for(i=0;i<r;++i)e[i]=n[i]*(1-l)+t[i]*l;return e}}function Gi(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ci(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),l=new Array(r),u;for(u=0;u<e;++u)i[u]=he(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(f){for(u=0;u<e;++u)l[u]=i[u](f);return l}}function Fi(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function Oi(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=he(n[i],t[i]):e[i]=t[i];return function(l){for(i in r)e[i]=r[i](l);return e}}function he(n,t){var r=typeof t,e;return t==null||r==="boolean"?yi(t):(r==="number"?Wt:r==="string"?(e=Ye(t))?(t=e,Xe):wi:t instanceof Ye?Xe:t instanceof Date?Fi:Gi(t)?Bi:Array.isArray(t)?Ci:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Oi:Wt)(n,t)}function Yi(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Xi(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function St(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function $n(n){return n=St(Math.abs(n)),n?n[1]:NaN}function qi(n,t){return function(r,e){for(var i=r.length,l=[],u=0,f=n[0],g=0;i>0&&f>0&&(g+f+1>e&&(f=Math.max(1,e-g)),l.push(r.substring(i-=f,i+f)),!((g+=f+1)>e));)f=n[u=(u+1)%n.length];return l.reverse().join(t)}}function Zi(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Hi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nt(n){if(!(t=Hi.exec(n)))throw new Error("invalid format: "+n);var t;return new pe({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nt.prototype=pe.prototype;function pe(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}pe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wi(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Zr;function Vi(n,t){var r=St(n,t);if(!r)return n+"";var e=r[0],i=r[1],l=i-(Zr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return l===u?e:l>u?e+new Array(l-u+1).join("0"):l>0?e.slice(0,l)+"."+e.slice(l):"0."+new Array(1-l).join("0")+St(n,Math.max(0,t+l-1))[0]}function We(n,t){var r=St(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const Ve={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Xi,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>We(n*100,t),r:We,s:Vi,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ue(n){return n}var $e=Array.prototype.map,Je=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ui(n){var t=n.grouping===void 0||n.thousands===void 0?Ue:qi($e.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?Ue:Zi($e.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"\u2212":n.minus+"",g=n.nan===void 0?"NaN":n.nan+"";function h(a){a=Nt(a);var c=a.fill,m=a.align,_=a.sign,p=a.symbol,v=a.zero,d=a.width,E=a.comma,y=a.precision,N=a.trim,S=a.type;S==="n"?(E=!0,S="g"):Ve[S]||(y===void 0&&(y=12),N=!0,S="g"),(v||c==="0"&&m==="=")&&(v=!0,c="0",m="=");var z=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",L=p==="$"?e:/[%p]/.test(S)?u:"",G=Ve[S],D=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function O(k){var A=z,T=L,C,w,F;if(S==="c")T=G(k)+T,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?g:G(Math.abs(k),y),N&&(k=Wi(k)),V&&+k==0&&_!=="+"&&(V=!1),A=(V?_==="("?_:f:_==="-"||_==="("?"":_)+A,T=(S==="s"?Je[8+Zr/3]:"")+T+(V&&_==="("?")":""),D){for(C=-1,w=k.length;++C<w;)if(F=k.charCodeAt(C),48>F||F>57){T=(F===46?i+k.slice(C+1):k.slice(C))+T,k=k.slice(0,C);break}}}E&&!v&&(k=t(k,1/0));var J=A.length+k.length+T.length,X=J<d?new Array(d-J+1).join(c):"";switch(E&&v&&(k=t(X+k,X.length?d-T.length:1/0),X=""),m){case"<":k=A+k+T+X;break;case"=":k=A+X+k+T;break;case"^":k=X.slice(0,J=X.length>>1)+A+k+T+X.slice(J);break;default:k=X+A+k+T;break}return l(k)}return O.toString=function(){return a+""},O}function o(a,c){var m=h((a=Nt(a),a.type="f",a)),_=Math.max(-8,Math.min(8,Math.floor($n(c)/3)))*3,p=Math.pow(10,-_),v=Je[8+_/3];return function(d){return m(p*d)+v}}return{format:h,formatPrefix:o}}var gt,Hr,Wr;$i({thousands:",",grouping:[3],currency:["$",""]});function $i(n){return gt=Ui(n),Hr=gt.format,Wr=gt.formatPrefix,gt}function Ji(n){return Math.max(0,-$n(Math.abs(n)))}function Qi(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($n(t)/3)))*3-$n(Math.abs(n)))}function ji(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,$n(t)-$n(n))+1}var W=1e-6,Ki=1e-12,H=Math.PI,mn=H/2,Qe=H/4,yn=H*2,Tn=180/H,gn=H/180,j=Math.abs,xi=Math.atan,at=Math.atan2,K=Math.cos,_t=Math.ceil,x=Math.sin,no=Math.sign||function(n){return n>0?1:n<0?-1:0},Yn=Math.sqrt;function to(n){return n>1?0:n<-1?H:Math.acos(n)}function ft(n){return n>1?mn:n<-1?-mn:Math.asin(n)}function vn(){}function At(n,t){n&&Ke.hasOwnProperty(n.type)&&Ke[n.type](n,t)}var je={Feature:function(n,t){At(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)At(r[e].geometry,t)}},Ke={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Jt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Jt(r[e],t,0)},Polygon:function(n,t){xe(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)xe(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)At(r[e],t)}};function Jt(n,t,r){var e=-1,i=n.length-r,l;for(t.lineStart();++e<i;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function xe(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Jt(n[r],t,1);t.polygonEnd()}function Zn(n,t){n&&je.hasOwnProperty(n.type)?je[n.type](n,t):At(n,t)}function Qt(n){return[at(n[1],n[0]),ft(n[2])]}function Jn(n){var t=n[0],r=n[1],e=K(r);return[e*K(t),e*x(t),x(r)]}function dt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Pt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ft(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function mt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function jt(n){var t=Yn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Kt(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function xt(n,t){return[j(n)>H?n+Math.round(-n/yn)*yn:n,t]}xt.invert=xt;function eo(n,t,r){return(n%=yn)?t||r?Kt(tr(n),er(t,r)):tr(n):t||r?er(t,r):xt}function nr(n){return function(t,r){return t+=n,[t>H?t-yn:t<-H?t+yn:t,r]}}function tr(n){var t=nr(n);return t.invert=nr(-n),t}function er(n,t){var r=K(n),e=x(n),i=K(t),l=x(t);function u(f,g){var h=K(g),o=K(f)*h,a=x(f)*h,c=x(g),m=c*r+o*e;return[at(a*i-m*l,o*r-c*e),ft(m*i+a*l)]}return u.invert=function(f,g){var h=K(g),o=K(f)*h,a=x(f)*h,c=x(g),m=c*i-a*l;return[at(a*i+c*l,o*r+m*e),ft(m*r-o*e)]},u}function ro(n,t,r,e,i,l){if(!!r){var u=K(t),f=x(t),g=e*r;i==null?(i=t+e*yn,l=t-g/2):(i=rr(u,i),l=rr(u,l),(e>0?i<l:i>l)&&(i+=e*yn));for(var h,o=i;e>0?o>l:o<l;o-=g)h=Qt([u,-f*K(o),-f*x(o)]),n.point(h[0],h[1])}}function rr(n,t){t=Jn(t),t[0]-=n,jt(t);var r=to(-t[1]);return((-t[2]<0?-r:r)+yn-W)%yn}function Vr(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:vn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Et(n,t){return j(n[0]-t[0])<W&&j(n[1]-t[1])<W}function vt(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ur(n,t,r,e,i){var l=[],u=[],f,g;if(n.forEach(function(_){if(!((p=_.length-1)<=0)){var p,v=_[0],d=_[p],E;if(Et(v,d)){if(!v[2]&&!d[2]){for(i.lineStart(),f=0;f<p;++f)i.point((v=_[f])[0],v[1]);i.lineEnd();return}d[0]+=2*W}l.push(E=new vt(v,_,null,!0)),u.push(E.o=new vt(v,null,E,!1)),l.push(E=new vt(d,_,null,!1)),u.push(E.o=new vt(d,null,E,!0))}}),!!l.length){for(u.sort(t),ir(l),ir(u),f=0,g=u.length;f<g;++f)u[f].e=r=!r;for(var h=l[0],o,a;;){for(var c=h,m=!0;c.v;)if((c=c.n)===h)return;o=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(m)for(f=0,g=o.length;f<g;++f)i.point((a=o[f])[0],a[1]);else e(c.x,c.n.x,1,i);c=c.n}else{if(m)for(o=c.p.z,f=o.length-1;f>=0;--f)i.point((a=o[f])[0],a[1]);else e(c.x,c.p.x,-1,i);c=c.p}c=c.o,o=c.z,m=!m}while(!c.v);i.lineEnd()}}}function ir(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function Ot(n){return j(n[0])<=H?n[0]:no(n[0])*((j(n[0])+H)%yn-H)}function io(n,t){var r=Ot(t),e=t[1],i=x(e),l=[x(r),-K(r),0],u=0,f=0,g=new Fn;i===1?e=mn+W:i===-1&&(e=-mn-W);for(var h=0,o=n.length;h<o;++h)if(!!(c=(a=n[h]).length))for(var a,c,m=a[c-1],_=Ot(m),p=m[1]/2+Qe,v=x(p),d=K(p),E=0;E<c;++E,_=N,v=z,d=L,m=y){var y=a[E],N=Ot(y),S=y[1]/2+Qe,z=x(S),L=K(S),G=N-_,D=G>=0?1:-1,O=D*G,k=O>H,A=v*z;if(g.add(at(A*D*x(O),d*L+A*K(O))),u+=k?G+D*yn:G,k^_>=r^N>=r){var T=Pt(Jn(m),Jn(y));jt(T);var C=Pt(l,T);jt(C);var w=(k^G>=0?-1:1)*ft(C[2]);(e>w||e===w&&(T[0]||T[1]))&&(f+=k^G>=0?1:-1)}}return(u<-W||u<W&&g<-Ki)^f&1}function $r(n,t,r,e){return function(i){var l=t(i),u=Vr(),f=t(u),g=!1,h,o,a,c={point:m,lineStart:p,lineEnd:v,polygonStart:function(){c.point=d,c.lineStart=E,c.lineEnd=y,o=[],h=[]},polygonEnd:function(){c.point=m,c.lineStart=p,c.lineEnd=v,o=qr(o);var N=io(h,e);o.length?(g||(i.polygonStart(),g=!0),Ur(o,lo,N,r,i)):N&&(g||(i.polygonStart(),g=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),g&&(i.polygonEnd(),g=!1),o=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(N,S){n(N,S)&&i.point(N,S)}function _(N,S){l.point(N,S)}function p(){c.point=_,l.lineStart()}function v(){c.point=m,l.lineEnd()}function d(N,S){a.push([N,S]),f.point(N,S)}function E(){f.lineStart(),a=[]}function y(){d(a[0][0],a[0][1]),f.lineEnd();var N=f.clean(),S=u.result(),z,L=S.length,G,D,O;if(a.pop(),h.push(a),a=null,!!L){if(N&1){if(D=S[0],(G=D.length-1)>0){for(g||(i.polygonStart(),g=!0),i.lineStart(),z=0;z<G;++z)i.point((O=D[z])[0],O[1]);i.lineEnd()}return}L>1&&N&2&&S.push(S.pop().concat(S.shift())),o.push(S.filter(oo))}}return c}}function oo(n){return n.length>1}function lo(n,t){return((n=n.x)[0]<0?n[1]-mn-W:mn-n[1])-((t=t.x)[0]<0?t[1]-mn-W:mn-t[1])}const or=$r(function(){return!0},uo,fo,[-H,-mn]);function uo(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(l,u){var f=l>0?H:-H,g=j(l-t);j(g-H)<W?(n.point(t,r=(r+u)/2>0?mn:-mn),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(l,r),i=0):e!==f&&g>=H&&(j(t-e)<W&&(t-=e*W),j(l-f)<W&&(l-=f*W),r=ao(t,r,l,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),i=0),n.point(t=l,r=u),e=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function ao(n,t,r,e){var i,l,u=x(n-r);return j(u)>W?xi((x(t)*(l=K(e))*x(r)-x(e)*(i=K(t))*x(n))/(i*l*u)):(t+e)/2}function fo(n,t,r,e){var i;if(n==null)i=r*mn,e.point(-H,i),e.point(0,i),e.point(H,i),e.point(H,0),e.point(H,-i),e.point(0,-i),e.point(-H,-i),e.point(-H,0),e.point(-H,i);else if(j(n[0]-t[0])>W){var l=n[0]<t[0]?H:-H;i=r*l/2,e.point(-l,i),e.point(0,i),e.point(l,i)}else e.point(t[0],t[1])}function so(n){var t=K(n),r=6*gn,e=t>0,i=j(t)>W;function l(o,a,c,m){ro(m,n,r,c,o,a)}function u(o,a){return K(o)*K(a)>t}function f(o){var a,c,m,_,p;return{lineStart:function(){_=m=!1,p=1},point:function(v,d){var E=[v,d],y,N=u(v,d),S=e?N?0:h(v,d):N?h(v+(v<0?H:-H),d):0;if(!a&&(_=m=N)&&o.lineStart(),N!==m&&(y=g(a,E),(!y||Et(a,y)||Et(E,y))&&(E[2]=1)),N!==m)p=0,N?(o.lineStart(),y=g(E,a),o.point(y[0],y[1])):(y=g(a,E),o.point(y[0],y[1],2),o.lineEnd()),a=y;else if(i&&a&&e^N){var z;!(S&c)&&(z=g(E,a,!0))&&(p=0,e?(o.lineStart(),o.point(z[0][0],z[0][1]),o.point(z[1][0],z[1][1]),o.lineEnd()):(o.point(z[1][0],z[1][1]),o.lineEnd(),o.lineStart(),o.point(z[0][0],z[0][1],3)))}N&&(!a||!Et(a,E))&&o.point(E[0],E[1]),a=E,m=N,c=S},lineEnd:function(){m&&o.lineEnd(),a=null},clean:function(){return p|(_&&m)<<1}}}function g(o,a,c){var m=Jn(o),_=Jn(a),p=[1,0,0],v=Pt(m,_),d=dt(v,v),E=v[0],y=d-E*E;if(!y)return!c&&o;var N=t*d/y,S=-t*E/y,z=Pt(p,v),L=mt(p,N),G=mt(v,S);Ft(L,G);var D=z,O=dt(L,D),k=dt(D,D),A=O*O-k*(dt(L,L)-1);if(!(A<0)){var T=Yn(A),C=mt(D,(-O-T)/k);if(Ft(C,L),C=Qt(C),!c)return C;var w=o[0],F=a[0],V=o[1],J=a[1],X;F<w&&(X=w,w=F,F=X);var pn=F-w,en=j(pn-H)<W,un=en||pn<W;if(!en&&J<V&&(X=V,V=J,J=X),un?en?V+J>0^C[1]<(j(C[0]-w)<W?V:J):V<=C[1]&&C[1]<=J:pn>H^(w<=C[0]&&C[0]<=F)){var rn=mt(D,(-O+T)/k);return Ft(rn,L),[C,Qt(rn)]}}}function h(o,a){var c=e?n:H-n,m=0;return o<-c?m|=1:o>c&&(m|=2),a<-c?m|=4:a>c&&(m|=8),m}return $r(u,f,l,e?[0,-n]:[-H,n-H])}function co(n,t,r,e,i,l){var u=n[0],f=n[1],g=t[0],h=t[1],o=0,a=1,c=g-u,m=h-f,_;if(_=r-u,!(!c&&_>0)){if(_/=c,c<0){if(_<o)return;_<a&&(a=_)}else if(c>0){if(_>a)return;_>o&&(o=_)}if(_=i-u,!(!c&&_<0)){if(_/=c,c<0){if(_>a)return;_>o&&(o=_)}else if(c>0){if(_<o)return;_<a&&(a=_)}if(_=e-f,!(!m&&_>0)){if(_/=m,m<0){if(_<o)return;_<a&&(a=_)}else if(m>0){if(_>a)return;_>o&&(o=_)}if(_=l-f,!(!m&&_<0)){if(_/=m,m<0){if(_>a)return;_>o&&(o=_)}else if(m>0){if(_<o)return;_<a&&(a=_)}return o>0&&(n[0]=u+o*c,n[1]=f+o*m),a<1&&(t[0]=u+a*c,t[1]=f+a*m),!0}}}}}var tt=1e9,yt=-tt;function ho(n,t,r,e){function i(h,o){return n<=h&&h<=r&&t<=o&&o<=e}function l(h,o,a,c){var m=0,_=0;if(h==null||(m=u(h,a))!==(_=u(o,a))||g(h,o)<0^a>0)do c.point(m===0||m===3?n:r,m>1?e:t);while((m=(m+a+4)%4)!==_);else c.point(o[0],o[1])}function u(h,o){return j(h[0]-n)<W?o>0?0:3:j(h[0]-r)<W?o>0?2:1:j(h[1]-t)<W?o>0?1:0:o>0?3:2}function f(h,o){return g(h.x,o.x)}function g(h,o){var a=u(h,1),c=u(o,1);return a!==c?a-c:a===0?o[1]-h[1]:a===1?h[0]-o[0]:a===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,a=Vr(),c,m,_,p,v,d,E,y,N,S,z,L={point:G,lineStart:A,lineEnd:T,polygonStart:O,polygonEnd:k};function G(w,F){i(w,F)&&o.point(w,F)}function D(){for(var w=0,F=0,V=m.length;F<V;++F)for(var J=m[F],X=1,pn=J.length,en=J[0],un,rn,an=en[0],fn=en[1];X<pn;++X)un=an,rn=fn,en=J[X],an=en[0],fn=en[1],rn<=e?fn>e&&(an-un)*(e-rn)>(fn-rn)*(n-un)&&++w:fn<=e&&(an-un)*(e-rn)<(fn-rn)*(n-un)&&--w;return w}function O(){o=a,c=[],m=[],z=!0}function k(){var w=D(),F=z&&w,V=(c=qr(c)).length;(F||V)&&(h.polygonStart(),F&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),V&&Ur(c,f,w,l,h),h.polygonEnd()),o=h,c=m=_=null}function A(){L.point=C,m&&m.push(_=[]),S=!0,N=!1,E=y=NaN}function T(){c&&(C(p,v),d&&N&&a.rejoin(),c.push(a.result())),L.point=G,N&&o.lineEnd()}function C(w,F){var V=i(w,F);if(m&&_.push([w,F]),S)p=w,v=F,d=V,S=!1,V&&(o.lineStart(),o.point(w,F));else if(V&&N)o.point(w,F);else{var J=[E=Math.max(yt,Math.min(tt,E)),y=Math.max(yt,Math.min(tt,y))],X=[w=Math.max(yt,Math.min(tt,w)),F=Math.max(yt,Math.min(tt,F))];co(J,X,n,t,r,e)?(N||(o.lineStart(),o.point(J[0],J[1])),o.point(X[0],X[1]),V||o.lineEnd(),z=!1):V&&(o.lineStart(),o.point(w,F),z=!1)}E=w,y=F,N=V}return L}}function lr(n,t,r){var e=Hn(n,t-W,r).concat(t);return function(i){return e.map(function(l){return[i,l]})}}function ur(n,t,r){var e=Hn(n,t-W,r).concat(t);return function(i){return e.map(function(l){return[l,i]})}}function po(){var n,t,r,e,i,l,u,f,g=10,h=g,o=90,a=360,c,m,_,p,v=2.5;function d(){return{type:"MultiLineString",coordinates:E()}}function E(){return Hn(_t(e/o)*o,r,o).map(_).concat(Hn(_t(f/a)*a,u,a).map(p)).concat(Hn(_t(t/g)*g,n,g).filter(function(y){return j(y%o)>W}).map(c)).concat(Hn(_t(l/h)*h,i,h).filter(function(y){return j(y%a)>W}).map(m))}return d.lines=function(){return E().map(function(y){return{type:"LineString",coordinates:y}})},d.outline=function(){return{type:"Polygon",coordinates:[_(e).concat(p(u).slice(1),_(r).reverse().slice(1),p(f).reverse().slice(1))]}},d.extent=function(y){return arguments.length?d.extentMajor(y).extentMinor(y):d.extentMinor()},d.extentMajor=function(y){return arguments.length?(e=+y[0][0],r=+y[1][0],f=+y[0][1],u=+y[1][1],e>r&&(y=e,e=r,r=y),f>u&&(y=f,f=u,u=y),d.precision(v)):[[e,f],[r,u]]},d.extentMinor=function(y){return arguments.length?(t=+y[0][0],n=+y[1][0],l=+y[0][1],i=+y[1][1],t>n&&(y=t,t=n,n=y),l>i&&(y=l,l=i,i=y),d.precision(v)):[[t,l],[n,i]]},d.step=function(y){return arguments.length?d.stepMajor(y).stepMinor(y):d.stepMinor()},d.stepMajor=function(y){return arguments.length?(o=+y[0],a=+y[1],d):[o,a]},d.stepMinor=function(y){return arguments.length?(g=+y[0],h=+y[1],d):[g,h]},d.precision=function(y){return arguments.length?(v=+y,c=lr(l,i,90),m=ur(t,n,v),_=lr(f,u,90),p=ur(e,r,v),d):v},d.extentMajor([[-180,-90+W],[180,90-W]]).extentMinor([[-180,-80-W],[180,80+W]])}const ne=n=>n;var Yt=new Fn,te=new Fn,Jr,Qr,ee,re,Dn={point:vn,lineStart:vn,lineEnd:vn,polygonStart:function(){Dn.lineStart=go,Dn.lineEnd=mo},polygonEnd:function(){Dn.lineStart=Dn.lineEnd=Dn.point=vn,Yt.add(j(te)),te=new Fn},result:function(){var n=Yt/2;return Yt=new Fn,n}};function go(){Dn.point=_o}function _o(n,t){Dn.point=jr,Jr=ee=n,Qr=re=t}function jr(n,t){te.add(re*n-ee*t),ee=n,re=t}function mo(){jr(Jr,Qr)}const ar=Dn;var Qn=1/0,Lt=Qn,st=-Qn,Rt=st,vo={point:yo,lineStart:vn,lineEnd:vn,polygonStart:vn,polygonEnd:vn,result:function(){var n=[[Qn,Lt],[st,Rt]];return st=Rt=-(Lt=Qn=1/0),n}};function yo(n,t){n<Qn&&(Qn=n),n>st&&(st=n),t<Lt&&(Lt=t),t>Rt&&(Rt=t)}const It=vo;var ie=0,oe=0,et=0,Tt=0,bt=0,Wn=0,le=0,ue=0,rt=0,Kr,xr,Sn,Nn,En={point:On,lineStart:fr,lineEnd:sr,polygonStart:function(){En.lineStart=ko,En.lineEnd=Mo},polygonEnd:function(){En.point=On,En.lineStart=fr,En.lineEnd=sr},result:function(){var n=rt?[le/rt,ue/rt]:Wn?[Tt/Wn,bt/Wn]:et?[ie/et,oe/et]:[NaN,NaN];return ie=oe=et=Tt=bt=Wn=le=ue=rt=0,n}};function On(n,t){ie+=n,oe+=t,++et}function fr(){En.point=wo}function wo(n,t){En.point=Eo,On(Sn=n,Nn=t)}function Eo(n,t){var r=n-Sn,e=t-Nn,i=Yn(r*r+e*e);Tt+=i*(Sn+n)/2,bt+=i*(Nn+t)/2,Wn+=i,On(Sn=n,Nn=t)}function sr(){En.point=On}function ko(){En.point=So}function Mo(){ni(Kr,xr)}function So(n,t){En.point=ni,On(Kr=Sn=n,xr=Nn=t)}function ni(n,t){var r=n-Sn,e=t-Nn,i=Yn(r*r+e*e);Tt+=i*(Sn+n)/2,bt+=i*(Nn+t)/2,Wn+=i,i=Nn*n-Sn*t,le+=i*(Sn+n),ue+=i*(Nn+t),rt+=i*3,On(Sn=n,Nn=t)}const cr=En;function ti(n){this._context=n}ti.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,yn);break}}},result:vn};var ae=new Fn,Xt,ei,ri,it,ot,zt={point:vn,lineStart:function(){zt.point=No},lineEnd:function(){Xt&&ii(ei,ri),zt.point=vn},polygonStart:function(){Xt=!0},polygonEnd:function(){Xt=null},result:function(){var n=+ae;return ae=new Fn,n}};function No(n,t){zt.point=ii,ei=it=n,ri=ot=t}function ii(n,t){it-=n,ot-=t,ae.add(Yn(it*it+ot*ot)),it=n,ot=t}const hr=zt;function oi(){this._string=[]}oi.prototype={_radius:4.5,_circle:pr(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=pr(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function pr(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Ao(n,t){var r=4.5,e,i;function l(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Zn(u,e(i))),i.result()}return l.area=function(u){return Zn(u,e(ar)),ar.result()},l.measure=function(u){return Zn(u,e(hr)),hr.result()},l.bounds=function(u){return Zn(u,e(It)),It.result()},l.centroid=function(u){return Zn(u,e(cr)),cr.result()},l.projection=function(u){return arguments.length?(e=u==null?(n=null,ne):(n=u).stream,l):n},l.context=function(u){return arguments.length?(i=u==null?(t=null,new oi):new ti(t=u),typeof r!="function"&&i.pointRadius(r),l):t},l.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),l):r},l.projection(n).context(t)}function ge(n){return function(t){var r=new fe;for(var e in n)r[e]=n[e];return r.stream=t,r}}function fe(){}fe.prototype={constructor:fe,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _e(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),Zn(r,n.stream(It)),t(It.result()),e!=null&&n.clipExtent(e),n}function li(n,t,r){return _e(n,function(e){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),f=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,g=+t[0][1]+(l-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([f,g])},r)}function Po(n,t,r){return li(n,[[0,0],t],r)}function Lo(n,t,r){return _e(n,function(e){var i=+t,l=i/(e[1][0]-e[0][0]),u=(i-l*(e[1][0]+e[0][0]))/2,f=-l*e[0][1];n.scale(150*l).translate([u,f])},r)}function Ro(n,t,r){return _e(n,function(e){var i=+t,l=i/(e[1][1]-e[0][1]),u=-l*e[0][0],f=(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,f])},r)}var gr=16,Io=K(30*gn);function _r(n,t){return+t?bo(n,t):To(n)}function To(n){return ge({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function bo(n,t){function r(e,i,l,u,f,g,h,o,a,c,m,_,p,v){var d=h-e,E=o-i,y=d*d+E*E;if(y>4*t&&p--){var N=u+c,S=f+m,z=g+_,L=Yn(N*N+S*S+z*z),G=ft(z/=L),D=j(j(z)-1)<W||j(l-a)<W?(l+a)/2:at(S,N),O=n(D,G),k=O[0],A=O[1],T=k-e,C=A-i,w=E*T-d*C;(w*w/y>t||j((d*T+E*C)/y-.5)>.3||u*c+f*m+g*_<Io)&&(r(e,i,l,u,f,g,k,A,D,N/=L,S/=L,z,p,v),v.point(k,A),r(k,A,D,N,S,z,h,o,a,c,m,_,p,v))}}return function(e){var i,l,u,f,g,h,o,a,c,m,_,p,v={point:d,lineStart:E,lineEnd:N,polygonStart:function(){e.polygonStart(),v.lineStart=S},polygonEnd:function(){e.polygonEnd(),v.lineStart=E}};function d(G,D){G=n(G,D),e.point(G[0],G[1])}function E(){a=NaN,v.point=y,e.lineStart()}function y(G,D){var O=Jn([G,D]),k=n(G,D);r(a,c,o,m,_,p,a=k[0],c=k[1],o=G,m=O[0],_=O[1],p=O[2],gr,e),e.point(a,c)}function N(){v.point=d,e.lineEnd()}function S(){E(),v.point=z,v.lineEnd=L}function z(G,D){y(i=G,D),l=a,u=c,f=m,g=_,h=p,v.point=y}function L(){r(a,c,o,m,_,p,l,u,i,f,g,h,gr,e),v.lineEnd=N,N()}return v}}var zo=ge({point:function(n,t){this.stream.point(n*gn,t*gn)}});function Do(n){return ge({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Bo(n,t,r,e,i){function l(u,f){return u*=e,f*=i,[t+n*u,r-n*f]}return l.invert=function(u,f){return[(u-t)/n*e,(r-f)/n*i]},l}function dr(n,t,r,e,i,l){if(!l)return Bo(n,t,r,e,i);var u=K(l),f=x(l),g=u*n,h=f*n,o=u/n,a=f/n,c=(f*r-u*t)/n,m=(f*t+u*r)/n;function _(p,v){return p*=e,v*=i,[g*p-h*v+t,r-h*p-g*v]}return _.invert=function(p,v){return[e*(o*p-a*v+c),i*(m-a*p-o*v)]},_}function Go(n){return Co(function(){return n})()}function Co(n){var t,r=150,e=480,i=250,l=0,u=0,f=0,g=0,h=0,o,a=0,c=1,m=1,_=null,p=or,v=null,d,E,y,N=ne,S=.5,z,L,G,D,O;function k(w){return G(w[0]*gn,w[1]*gn)}function A(w){return w=G.invert(w[0],w[1]),w&&[w[0]*Tn,w[1]*Tn]}k.stream=function(w){return D&&O===w?D:D=zo(Do(o)(p(z(N(O=w)))))},k.preclip=function(w){return arguments.length?(p=w,_=void 0,C()):p},k.postclip=function(w){return arguments.length?(N=w,v=d=E=y=null,C()):N},k.clipAngle=function(w){return arguments.length?(p=+w?so(_=w*gn):(_=null,or),C()):_*Tn},k.clipExtent=function(w){return arguments.length?(N=w==null?(v=d=E=y=null,ne):ho(v=+w[0][0],d=+w[0][1],E=+w[1][0],y=+w[1][1]),C()):v==null?null:[[v,d],[E,y]]},k.scale=function(w){return arguments.length?(r=+w,T()):r},k.translate=function(w){return arguments.length?(e=+w[0],i=+w[1],T()):[e,i]},k.center=function(w){return arguments.length?(l=w[0]%360*gn,u=w[1]%360*gn,T()):[l*Tn,u*Tn]},k.rotate=function(w){return arguments.length?(f=w[0]%360*gn,g=w[1]%360*gn,h=w.length>2?w[2]%360*gn:0,T()):[f*Tn,g*Tn,h*Tn]},k.angle=function(w){return arguments.length?(a=w%360*gn,T()):a*Tn},k.reflectX=function(w){return arguments.length?(c=w?-1:1,T()):c<0},k.reflectY=function(w){return arguments.length?(m=w?-1:1,T()):m<0},k.precision=function(w){return arguments.length?(z=_r(L,S=w*w),C()):Yn(S)},k.fitExtent=function(w,F){return li(k,w,F)},k.fitSize=function(w,F){return Po(k,w,F)},k.fitWidth=function(w,F){return Lo(k,w,F)},k.fitHeight=function(w,F){return Ro(k,w,F)};function T(){var w=dr(r,0,0,c,m,a).apply(null,t(l,u)),F=dr(r,e-w[0],i-w[1],c,m,a);return o=eo(f,g,h),L=Kt(t,F),G=Kt(o,L),z=_r(L,S),C()}function C(){return D=O=null,k}return function(){return t=n.apply(this,arguments),k.invert=t.invert&&A,T()}}function Fo(n){return function(){return n}}function Oo(n){return+n}var mr=[0,1];function Vn(n){return n}function se(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Fo(isNaN(t)?NaN:.5)}function Yo(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function Xo(n,t,r){var e=n[0],i=n[1],l=t[0],u=t[1];return i<e?(e=se(i,e),l=r(u,l)):(e=se(e,i),l=r(l,u)),function(f){return l(e(f))}}function qo(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),l=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=se(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(f){var g=Ii(n,f,1,e)-1;return l[g](i[g](f))}}function Zo(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ho(){var n=mr,t=mr,r=he,e,i,l,u=Vn,f,g,h;function o(){var c=Math.min(n.length,t.length);return u!==Vn&&(u=Yo(n[0],n[c-1])),f=c>2?qo:Xo,g=h=null,a}function a(c){return c==null||isNaN(c=+c)?l:(g||(g=f(n.map(e),t,r)))(e(u(c)))}return a.invert=function(c){return u(i((h||(h=f(t,n.map(e),Wt)))(c)))},a.domain=function(c){return arguments.length?(n=Array.from(c,Oo),o()):n.slice()},a.range=function(c){return arguments.length?(t=Array.from(c),o()):t.slice()},a.rangeRound=function(c){return t=Array.from(c),r=Yi,o()},a.clamp=function(c){return arguments.length?(u=c?!0:Vn,o()):u!==Vn},a.interpolate=function(c){return arguments.length?(r=c,o()):r},a.unknown=function(c){return arguments.length?(l=c,a):l},function(c,m){return e=c,i=m,o()}}function Wo(){return Ho()(Vn,Vn)}function Vo(n,t,r,e){var i=bi(n,t,r),l;switch(e=Nt(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(l=Qi(i,u))&&(e.precision=l),Wr(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(l=ji(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=l-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(l=Ji(i))&&(e.precision=l-(e.type==="%")*2);break}}return Hr(e)}function Uo(n){var t=n.domain;return n.ticks=function(r){var e=t();return Ti(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return Vo(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,l=e.length-1,u=e[i],f=e[l],g,h,o=10;for(f<u&&(h=u,u=f,f=h,h=i,i=l,l=h);o-- >0;){if(h=Xr(u,f,r),h===g)return e[i]=u,e[l]=f,t(e);if(h>0)u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h;else if(h<0)u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h;else break;g=h}return n},n}function ui(){var n=Wo();return n.copy=function(){return Zo(n,ui())},ki.apply(n,arguments),Uo(n)}function $o(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const vr=$o("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function yr(n,t,r){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-r),n._x2,n._y2)}function de(n,t){this._context=n,this._k=(1-t)/6}de.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:yr(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function r(e){return new de(e,t)}return r.tension=function(e){return n(+e)},r})(0);function Jo(n,t,r){var e=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>He){var f=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,g=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*f-n._x0*n._l12_2a+n._x2*n._l01_2a)/g,i=(i*f-n._y0*n._l12_2a+n._y2*n._l01_2a)/g}if(n._l23_a>He){var h=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,o=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*h+n._x1*n._l23_2a-t*n._l12_2a)/o,u=(u*h+n._y1*n._l23_2a-r*n._l12_2a)/o}n._context.bezierCurveTo(e,i,l,u,n._x2,n._y2)}function ai(n,t){this._context=n,this._alpha=t}ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var r=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Jo(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qo=function n(t){function r(e){return t?new ai(e,t):new de(e,0)}return r.alpha=function(e){return n(+e)},r}(.5);function jo(n){return n}function Ko(n){if(n==null)return jo;var t,r,e=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(f,g){g||(t=r=0);var h=2,o=f.length,a=new Array(o);for(a[0]=(t+=f[0])*e+l,a[1]=(r+=f[1])*i+u;h<o;)a[h]=f[h],++h;return a}}function xo(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function nl(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return wr(n,r)})}:wr(n,t)}function wr(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,l=tl(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:l}:e==null?{type:"Feature",id:r,properties:i,geometry:l}:{type:"Feature",id:r,bbox:e,properties:i,geometry:l}}function tl(n,t){var r=Ko(n.transform),e=n.arcs;function i(o,a){a.length&&a.pop();for(var c=e[o<0?~o:o],m=0,_=c.length;m<_;++m)a.push(r(c[m],m));o<0&&xo(a,_)}function l(o){return r(o)}function u(o){for(var a=[],c=0,m=o.length;c<m;++c)i(o[c],a);return a.length<2&&a.push(a[0]),a}function f(o){for(var a=u(o);a.length<4;)a.push(a[0]);return a}function g(o){return o.map(f)}function h(o){var a=o.type,c;switch(a){case"GeometryCollection":return{type:a,geometries:o.geometries.map(h)};case"Point":c=l(o.coordinates);break;case"MultiPoint":c=o.coordinates.map(l);break;case"LineString":c=u(o.arcs);break;case"MultiLineString":c=o.arcs.map(u);break;case"Polygon":c=g(o.arcs);break;case"MultiPolygon":c=o.arcs.map(g);break;default:return null}return{type:a,coordinates:c}}return h(t)}function Er(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function el(n){var t={},r=n.map(function(){return[]});function e(p,v){p.forEach(function(d){d<0&&(d=~d);var E=t[d];E?E.push(v):t[d]=[v]})}function i(p,v){p.forEach(function(d){e(d,v)})}function l(p,v){p.type==="GeometryCollection"?p.geometries.forEach(function(d){l(d,v)}):p.type in u&&u[p.type](p.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(p,v){p.forEach(function(d){i(d,v)})}};n.forEach(l);for(var f in t)for(var g=t[f],h=g.length,o=0;o<h;++o)for(var a=o+1;a<h;++a){var c=g[o],m=g[a],_;(_=r[c])[f=Er(_,m)]!==m&&_.splice(f,0,m),(_=r[m])[f=Er(_,c)]!==c&&_.splice(f,0,c)}return r}var Dt=Math.abs,jn=Math.cos,An=Math.sin,ut=1e-6,Bt=Math.PI,ce=Bt/2;function rl(n){return n?n/Math.sin(n):1}function me(n){return n>1?0:n<-1?Bt:Math.acos(n)}function fi(n){return n>0?Math.sqrt(n):0}function si(n,t){var r=jn(t),e=rl(me(r*jn(n/=2)));return[2*r*An(n)*e,An(t)*e]}si.invert=function(n,t){if(!(n*n+4*t*t>Bt*Bt+ut)){var r=n,e=t,i=25;do{var l=An(r),u=An(r/2),f=jn(r/2),g=An(e),h=jn(e),o=An(2*e),a=g*g,c=h*h,m=u*u,_=1-c*f*f,p=_?me(h*f)*fi(v=1/_):v=0,v,d=2*p*h*u-n,E=p*g-t,y=v*(c*m+p*h*f*a),N=v*(.5*l*o-p*2*g*u),S=v*.25*(o*u-p*g*c*l),z=v*(a*f+p*m*h),L=N*S-z*y;if(!L)break;var G=(E*N-d*z)/L,D=(d*S-E*y)/L;r-=G,e-=D}while((Dt(G)>ut||Dt(D)>ut)&&--i>0);return[r,e]}};function ci(n,t){var r=si(n,t);return[(r[0]+n/ce)/2,(r[1]+t)/2]}ci.invert=function(n,t){var r=n,e=t,i=25;do{var l=jn(e),u=An(e),f=An(2*e),g=u*u,h=l*l,o=An(r),a=jn(r/2),c=An(r/2),m=c*c,_=1-h*a*a,p=_?me(l*a)*fi(v=1/_):v=0,v,d=.5*(2*p*l*c+r/ce)-n,E=.5*(p*u+e)-t,y=.5*v*(h*m+p*l*a*g)+.5/ce,N=v*(o*f/4-p*u*c),S=.125*v*(f*c-p*u*h*o),z=.5*v*(g*a+p*m*l)+.5,L=N*S-z*y,G=(E*N-d*z)/L,D=(d*S-E*y)/L;r-=G,e-=D}while((Dt(G)>ut||Dt(D)>ut)&&--i>0);return[r,e]};function il(){return Go(ci).scale(158.837)}function kr(n,t,r){const e=n.slice();return e[50]=t[r],e}function Mr(n,t,r){const e=n.slice();return e[50]=t[r],e}function Sr(n,t,r){const e=n.slice();return e[50]=t[r],e}function Nr(n,t,r){const e=n.slice();return e[57]=t[r],e[59]=r,e}function Ar(n,t,r){const e=n.slice();return e[60]=t[r],e}function Pr(n){let t,r=n[8],e,i,l,u,f=Tr(n),g=n[5],h=[];for(let p=0;p<g.length;p+=1)h[p]=zr(Sr(n,g,p));let o=n[5],a=[];for(let p=0;p<o.length;p+=1)a[p]=Dr(Mr(n,o,p));const c=p=>kt(a[p],1,1,()=>{a[p]=null});let m=n[5],_=[];for(let p=0;p<m.length;p+=1)_[p]=Br(kr(n,m,p));return{c(){t=R("g"),f.c(),e=R("g");for(let p=0;p<h.length;p+=1)h[p].c();i=Bn();for(let p=0;p<a.length;p+=1)a[p].c();l=Bn();for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){t=I(p,"g",{id:!0});var v=P(t);f.l(v),e=I(v,"g",{id:!0});var d=P(e);for(let E=0;E<h.length;E+=1)h[E].l(d);i=Bn();for(let E=0;E<a.length;E+=1)a[E].l(d);l=Bn();for(let E=0;E<_.length;E+=1)_[E].l(d);d.forEach(M),v.forEach(M),this.h()},h(){s(e,"id","artists"),s(t,"id","map")},m(p,v){tn(p,t,v),f.m(t,null),b(t,e);for(let d=0;d<h.length;d+=1)h[d].m(e,null);b(e,i);for(let d=0;d<a.length;d+=1)a[d].m(e,null);b(e,l);for(let d=0;d<_.length;d+=1)_[d].m(e,null);u=!0},p(p,v){if(v[0]&256&&Cr(r,r=p[8])?(f.d(1),f=Tr(p),f.c(),f.m(t,e)):f.p(p,v),v[0]&774244){g=p[5];let d;for(d=0;d<g.length;d+=1){const E=Sr(p,g,d);h[d]?h[d].p(E,v):(h[d]=zr(E),h[d].c(),h[d].m(e,i))}for(;d<h.length;d+=1)h[d].d(1);h.length=g.length}if(v[0]&7544868){o=p[5];let d;for(d=0;d<o.length;d+=1){const E=Mr(p,o,d);a[d]?(a[d].p(E,v),Un(a[d],1)):(a[d]=Dr(E),a[d].c(),Un(a[d],1),a[d].m(e,l))}for(Fr(),d=o.length;d<a.length;d+=1)c(d);Or()}if(v[0]&466978){m=p[5];let d;for(d=0;d<m.length;d+=1){const E=kr(p,m,d);_[d]?_[d].p(E,v):(_[d]=Br(E),_[d].c(),_[d].m(e,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=m.length}},i(p){if(!u){for(let v=0;v<o.length;v+=1)Un(a[v]);u=!0}},o(p){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)kt(a[v]);u=!1},d(p){p&&M(t),f.d(p),lt(h,p),lt(a,p),lt(_,p)}}}function Lr(n){let t,r;return{c(){t=R("path"),this.h()},l(e){t=I(e,"path",{d:!0,fill:!0,stroke:!0}),P(t).forEach(M),this.h()},h(){s(t,"d",r=n[7](n[60])),s(t,"fill","none"),s(t,"stroke","lightgray")},m(e,i){tn(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[60]))&&s(t,"d",r)},d(e){e&&M(t)}}}function Rr(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Ir(Nr(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Bn()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=Bn()},m(i,l){for(let u=0;u<e.length;u+=1)e[u].m(i,l);tn(i,t,l)},p(i,l){if(l[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const f=Nr(i,r,u);e[u]?e[u].p(f,l):(e[u]=Ir(f),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){lt(e,i),i&&M(t)}}}function Ir(n){let t,r,e,i;return{c(){t=R("path"),this.h()},l(l){t=I(l,"path",{id:!0,d:!0,stroke:!0,fill:!0}),P(t).forEach(M),this.h()},h(){s(t,"id",r=n[57].id),s(t,"d",e=n[7](n[57])),s(t,"stroke","none"),s(t,"fill",i=vr[n[4][n[59]]])},m(l,u){tn(l,t,u)},p(l,u){u[0]&8&&r!==(r=l[57].id)&&s(t,"id",r),u[0]&136&&e!==(e=l[7](l[57]))&&s(t,"d",e),u[0]&16&&i!==(i=vr[l[4][l[59]]])&&s(t,"fill",i)},d(l){l&&M(t)}}}function Tr(n){let t,r,e,i,l,u,f,g,h=n[10],o=[];for(let c=0;c<h.length;c+=1)o[c]=Lr(Ar(n,h,c));let a=n[3]&&Rr(n);return{c(){t=R("g"),r=R("path"),i=R("g");for(let c=0;c<o.length;c+=1)o[c].c();l=R("g"),a&&a.c(),u=R("g"),f=R("path"),this.h()},l(c){t=I(c,"g",{id:!0});var m=P(t);r=I(m,"path",{d:!0,fill:!0,stroke:!0}),P(r).forEach(M),m.forEach(M),i=I(c,"g",{id:!0});var _=P(i);for(let d=0;d<o.length;d+=1)o[d].l(_);_.forEach(M),l=I(c,"g",{id:!0});var p=P(l);a&&a.l(p),p.forEach(M),u=I(c,"g",{id:!0});var v=P(u);f=I(v,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(f).forEach(M),v.forEach(M),this.h()},h(){s(r,"d",e=n[7](n[11])),s(r,"fill",Ei),s(r,"stroke","none"),s(t,"id","fill"),s(i,"id","graticules"),s(l,"id","countries"),s(f,"d",g=n[7](n[11])),s(f,"fill","none"),s(f,"stroke","lightgray"),s(f,"stroke-width","2"),s(u,"id","outline")},m(c,m){tn(c,t,m),b(t,r),tn(c,i,m);for(let _=0;_<o.length;_+=1)o[_].m(i,null);tn(c,l,m),a&&a.m(l,null),tn(c,u,m),b(u,f)},p(c,m){if(m[0]&128&&e!==(e=c[7](c[11]))&&s(r,"d",e),m[0]&1152){h=c[10];let _;for(_=0;_<h.length;_+=1){const p=Ar(c,h,_);o[_]?o[_].p(p,m):(o[_]=Lr(p),o[_].c(),o[_].m(i,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=h.length}c[3]?a?a.p(c,m):(a=Rr(c),a.c(),a.m(l,null)):a&&(a.d(1),a=null),m[0]&128&&g!==(g=c[7](c[11]))&&s(f,"d",g)},d(c){c&&M(t),c&&M(i),lt(o,c),c&&M(l),a&&a.d(),c&&M(u)}}}function br(n){let t,r;function e(u,f){return f[0]&36&&(t=null),t==null&&(t=!!u[14](u[2][0],u[50][0])),t?ll:ol}let i=e(n,[-1,-1,-1]),l=i(n);return{c(){l.c(),r=Bn()},l(u){l.l(u),r=Bn()},m(u,f){l.m(u,f),tn(u,r,f)},p(u,f){i===(i=e(u,f))&&l?l.p(u,f):(l.d(1),l=i(u),l&&(l.c(),l.m(r.parentNode,r)))},d(u){l.d(u),u&&M(r)}}}function ol(n){let t,r,e,i,l,u,f,g,h;return{c(){t=R("g"),r=R("g"),e=R("g"),i=R("path"),f=R("path"),this.h()},l(o){t=I(o,"g",{transform:!0});var a=P(t);r=I(a,"g",{transform:!0});var c=P(r);e=I(c,"g",{transform:!0});var m=P(e);i=I(m,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(i).forEach(M),m.forEach(M),c.forEach(M),a.forEach(M),f=I(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(f).forEach(M),this.h()},h(){s(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),s(i,"fill","#cc0000"),s(i,"stroke","black"),s(i,"stroke-width","2"),s(e,"transform","translate("+(-nn*2-10)+", 0)"),s(r,"transform",l="rotate("+n[15]([n[16](n[2]),n[17](n[2])],[n[16](n[50]),n[17](n[50])])+")"),s(t,"transform",u="translate("+n[16](n[50])+", "+n[17](n[50])+")"),s(f,"d",g=n[12]([n[16](n[2]),n[17](n[2])],[n[16](n[50]),n[17](n[50])])),s(f,"stroke","#c00"),s(f,"fill","none"),s(f,"opacity","0.5"),s(f,"stroke-width",h=n[19](n[2],n[50]))},m(o,a){tn(o,t,a),b(t,r),b(r,e),b(e,i),tn(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[2]),o[17](o[2])],[o[16](o[50]),o[17](o[50])])+")")&&s(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[50])+", "+o[17](o[50])+")")&&s(t,"transform",u),a[0]&36&&g!==(g=o[12]([o[16](o[2]),o[17](o[2])],[o[16](o[50]),o[17](o[50])]))&&s(f,"d",g),a[0]&36&&h!==(h=o[19](o[2],o[50]))&&s(f,"stroke-width",h)},d(o){o&&M(t),o&&M(f)}}}function ll(n){let t,r,e,i,l,u,f,g,h;return{c(){t=R("g"),r=R("g"),e=R("g"),i=R("path"),f=R("path"),this.h()},l(o){t=I(o,"g",{transform:!0});var a=P(t);r=I(a,"g",{transform:!0});var c=P(r);e=I(c,"g",{transform:!0});var m=P(e);i=I(m,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(i).forEach(M),m.forEach(M),c.forEach(M),a.forEach(M),f=I(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),P(f).forEach(M),this.h()},h(){s(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),s(i,"fill","#cc0000"),s(i,"stroke","black"),s(i,"stroke-width","2"),s(e,"transform","translate("+nn*2+", 0)"),s(r,"transform",l="rotate("+n[15]([n[16](n[50]),n[17](n[50])],[n[16](n[2]),n[17](n[2])])+")"),s(t,"transform",u="translate("+n[16](n[50])+", "+n[17](n[50])+")"),s(f,"d",g=n[12]([n[16](n[50]),n[17](n[50])],[n[16](n[2]),n[17](n[2])])),s(f,"stroke","#c00"),s(f,"fill","none"),s(f,"opacity","0.5"),s(f,"stroke-width",h=n[19](n[2],n[50]))},m(o,a){tn(o,t,a),b(t,r),b(r,e),b(e,i),tn(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[50]),o[17](o[50])],[o[16](o[2]),o[17](o[2])])+")")&&s(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[50])+", "+o[17](o[50])+")")&&s(t,"transform",u),a[0]&36&&g!==(g=o[12]([o[16](o[50]),o[17](o[50])],[o[16](o[2]),o[17](o[2])]))&&s(f,"d",g),a[0]&36&&h!==(h=o[19](o[2],o[50]))&&s(f,"stroke-width",h)},d(o){o&&M(t),o&&M(f)}}}function zr(n){let t,r,e,i,l,u,f,g,h,o=n[2][0]!==n[50][0]&&br(n);return{c(){t=R("g"),r=R("line"),f=R("circle"),o&&o.c(),this.h()},l(a){t=I(a,"g",{});var c=P(t);r=I(c,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),P(r).forEach(M),f=I(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),P(f).forEach(M),o&&o.l(c),c.forEach(M),this.h()},h(){s(r,"x2",e=Gn(n[6],n[50][1])),s(r,"y2",i=Cn(n[6],n[50][1])),s(r,"x1",l=n[16](n[50])),s(r,"y1",u=n[17](n[50])),s(r,"stroke","black"),s(f,"cx",g=Gn(n[6],n[50][1])),s(f,"cy",h=Cn(n[6],n[50][1])),s(f,"r","2"),s(f,"fill","black")},m(a,c){tn(a,t,c),b(t,r),b(t,f),o&&o.m(t,null)},p(a,c){c[0]&96&&e!==(e=Gn(a[6],a[50][1]))&&s(r,"x2",e),c[0]&96&&i!==(i=Cn(a[6],a[50][1]))&&s(r,"y2",i),c[0]&32&&l!==(l=a[16](a[50]))&&s(r,"x1",l),c[0]&32&&u!==(u=a[17](a[50]))&&s(r,"y1",u),c[0]&96&&g!==(g=Gn(a[6],a[50][1]))&&s(f,"cx",g),c[0]&96&&h!==(h=Cn(a[6],a[50][1]))&&s(f,"cy",h),a[2][0]!==a[50][0]?o?o.p(a,c):(o=br(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&M(t),o&&o.d()}}}function ul(n){let t,r,e,i;return{c(){t=R("image"),i=R("circle"),this.h()},l(l){t=I(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(M),i=I(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),P(i).forEach(M),this.h()},h(){s(t,"id",r=Z(n[50][0])+"-image-map"),s(t,"href",e=Mt+n[20](n[50][0])),Mn(t,"outline","none"),s(t,"height",nn*4),s(t,"width",nn*4),s(t,"x",-nn*2),s(t,"y",-nn*2),s(i,"cx","0"),s(i,"cy","0"),s(i,"r",nn*2),s(i,"stroke","black"),s(i,"fill","none")},m(l,u){tn(l,t,u),tn(l,i,u)},p(l,u){u[0]&32&&r!==(r=Z(l[50][0])+"-image-map")&&s(t,"id",r),u[0]&32&&e!==(e=Mt+l[20](l[50][0]))&&s(t,"href",e)},d(l){l&&M(t),l&&M(i)}}}function al(n){let t,r,e,i;return{c(){t=R("image"),i=R("circle"),this.h()},l(l){t=I(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),P(t).forEach(M),i=I(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),P(i).forEach(M),this.h()},h(){s(t,"id",r=Z(n[50][0])+"-image-map"),s(t,"href",e=Mt+n[20](n[50][0])),Mn(t,"outline","none"),s(t,"height",nn*4),s(t,"width",nn*4),s(t,"x",-nn*2),s(t,"y",-nn*2),s(i,"cx","0"),s(i,"cy","0"),s(i,"r",nn*2),s(i,"stroke","#c00"),s(i,"stroke-width","2"),s(i,"fill","none")},m(l,u){tn(l,t,u),tn(l,i,u)},p(l,u){u[0]&32&&r!==(r=Z(l[50][0])+"-image-map")&&s(t,"id",r),u[0]&32&&e!==(e=Mt+l[20](l[50][0]))&&s(t,"href",e)},d(l){l&&M(t),l&&M(i)}}}function Dr(n){let t,r,e,i,l,u,f;function g(p,v){return p[50][0]===p[2][0]?al:ul}let h=g(n),o=h(n);function a(...p){return n[28](n[50],...p)}function c(...p){return n[29](n[50],...p)}function m(...p){return n[30](n[50],...p)}function _(...p){return n[31](n[50],...p)}return{c(){t=R("g"),o.c(),this.h()},l(p){t=I(p,"g",{id:!0,transform:!0,style:!0});var v=P(t);o.l(v),v.forEach(M),this.h()},h(){s(t,"id",r=Z(n[50][0])+"-group-map"),s(t,"transform",e=n[13](n[16](n[50]),n[17](n[50]))),Mn(t,"outline","none")},m(p,v){tn(p,t,v),o.m(t,null),l=!0,u||(f=[nt(t,"focus",a),nt(t,"mouseover",c),nt(t,"blur",m),nt(t,"mouseout",_)],u=!0)},p(p,v){n=p,h===(h=g(n))&&o?o.p(n,v):(o.d(1),o=h(n),o&&(o.c(),o.m(t,null))),(!l||v[0]&32&&r!==(r=Z(n[50][0])+"-group-map"))&&s(t,"id",r),(!l||v[0]&32&&e!==(e=n[13](n[16](n[50]),n[17](n[50]))))&&s(t,"transform",e)},i(p){l||(mi(()=>{i||(i=Oe(t,qe,{},!0)),i.run(1)}),l=!0)},o(p){i||(i=Oe(t,qe,{},!1)),i.run(0),l=!1},d(p){p&&M(t),o.d(),p&&i&&i.end(),u=!1,vi(f)}}}function Br(n){let t,r,e,i,l,u,f,g,h,o=n[50][0]+"",a,c,m,_,p,v=n[50][1][0].country+"",d,E,y,N,S,z=n[18](n[50][1])+"",L,G,D,O,k;return{c(){t=R("g"),r=R("rect"),h=R("text"),a=_n(o),p=R("text"),d=_n(v),S=R("text"),L=_n(z),this.h()},l(A){t=I(A,"g",{transform:!0});var T=P(t);r=I(T,"rect",{id:!0,class:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0}),P(r).forEach(M),h=I(T,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var C=P(h);a=dn(C,o),C.forEach(M),p=I(T,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var w=P(p);d=dn(w,v),w.forEach(M),S=I(T,"text",{id:!0,class:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var F=P(S);L=dn(F,z),F.forEach(M),T.forEach(M),this.h()},h(){s(r,"id",e=Z(n[50][0])+"-rect-map"),s(r,"class",i=Z(n[50][0])+"-map-detail pointer-events-none"),s(r,"x",l=-(pt("#"+Z(n[50][0])+"-map-name",n[50][0])+qn*2)/2),s(r,"width",u=pt("#"+Z(n[50][0])+"-map-name",n[50][0])+qn*2),s(r,"y",f=n[17](n[50])<n[1]/2?(hn*2.5+Xn("#"+Z(n[50][0])+"-map-name",n[50][0]))/2:-2*(hn*4.75+Xn("#"+Z(n[50][0])+"-map-name",n[50][0]))/2),s(r,"height",g=3*Xn("#"+Z(n[50][0])+"-map-name",n[50][0])+qn-10),s(r,"fill","white"),s(r,"stroke","black"),s(r,"rx","15"),s(r,"opacity","0"),s(h,"id",c=Z(n[50][0])+"-map-name"),s(h,"class",m=Z(n[50][0])+"-map-detail pointer-events-none"),s(h,"opacity","0"),s(h,"x","0"),s(h,"y",_=n[17](n[50])<n[1]/2?hn*2.75:-hn*4.75),s(h,"text-anchor","middle"),s(p,"id",E=Z(n[50][0])+"-map-origin"),s(p,"class",y=Z(n[50][0])+"-map-detail pointer-events-none"),s(p,"opacity","0"),s(p,"x","0"),s(p,"y",N=n[17](n[50])<n[1]/2?hn*3.75:-hn*3.75),s(p,"text-anchor","middle"),s(S,"id",G=Z(n[50][0])+"-map-year"),s(S,"class",D=Z(n[50][0])+"-map-detail pointer-events-none"),s(S,"opacity","0"),s(S,"x","0"),s(S,"y",O=n[17](n[50])<n[1]/2?hn*4.75:-hn*2.75),s(S,"text-anchor","middle"),s(t,"transform",k=n[13](n[16](n[50]),n[17](n[50])))},m(A,T){tn(A,t,T),b(t,r),b(t,h),b(h,a),b(t,p),b(p,d),b(t,S),b(S,L)},p(A,T){T[0]&32&&e!==(e=Z(A[50][0])+"-rect-map")&&s(r,"id",e),T[0]&32&&i!==(i=Z(A[50][0])+"-map-detail pointer-events-none")&&s(r,"class",i),T[0]&32&&l!==(l=-(pt("#"+Z(A[50][0])+"-map-name",A[50][0])+qn*2)/2)&&s(r,"x",l),T[0]&32&&u!==(u=pt("#"+Z(A[50][0])+"-map-name",A[50][0])+qn*2)&&s(r,"width",u),T[0]&34&&f!==(f=A[17](A[50])<A[1]/2?(hn*2.5+Xn("#"+Z(A[50][0])+"-map-name",A[50][0]))/2:-2*(hn*4.75+Xn("#"+Z(A[50][0])+"-map-name",A[50][0]))/2)&&s(r,"y",f),T[0]&32&&g!==(g=3*Xn("#"+Z(A[50][0])+"-map-name",A[50][0])+qn-10)&&s(r,"height",g),T[0]&32&&o!==(o=A[50][0]+"")&&Ct(a,o),T[0]&32&&c!==(c=Z(A[50][0])+"-map-name")&&s(h,"id",c),T[0]&32&&m!==(m=Z(A[50][0])+"-map-detail pointer-events-none")&&s(h,"class",m),T[0]&34&&_!==(_=A[17](A[50])<A[1]/2?hn*2.75:-hn*4.75)&&s(h,"y",_),T[0]&32&&v!==(v=A[50][1][0].country+"")&&Ct(d,v),T[0]&32&&E!==(E=Z(A[50][0])+"-map-origin")&&s(p,"id",E),T[0]&32&&y!==(y=Z(A[50][0])+"-map-detail pointer-events-none")&&s(p,"class",y),T[0]&34&&N!==(N=A[17](A[50])<A[1]/2?hn*3.75:-hn*3.75)&&s(p,"y",N),T[0]&32&&z!==(z=A[18](A[50][1])+"")&&Ct(L,z),T[0]&32&&G!==(G=Z(A[50][0])+"-map-year")&&s(S,"id",G),T[0]&32&&D!==(D=Z(A[50][0])+"-map-detail pointer-events-none")&&s(S,"class",D),T[0]&34&&O!==(O=A[17](A[50])<A[1]/2?hn*4.75:-hn*2.75)&&s(S,"y",O),T[0]&32&&k!==(k=A[13](A[16](A[50]),A[17](A[50])))&&s(t,"transform",k)},d(A){A&&M(t)}}}function fl(n){let t,r,e,i,l,u,f,g,h,o,a,c,m,_,p,v,d,E,y,N,S,z,L,G,D,O,k,A,T,C,w,F,V,J,X,pn,en,un,rn,an,fn,Pn,Kn,wn,Ln,B,Y,on,$,ln,sn,cn,kn,Rn,U=n[7]&&Pr(n);return{c(){t=Ce("div"),r=R("svg"),e=R("defs"),i=R("style"),l=_n(`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),U&&U.c(),u=R("svg"),f=R("defs"),g=R("style"),h=_n(`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),o=R("g"),a=R("path"),c=R("polygon"),m=R("path"),v=gi(),d=Ce("div"),E=R("svg"),y=R("g"),N=R("rect"),S=R("g"),z=R("g"),L=R("g"),G=R("g"),D=R("path"),O=R("line"),k=R("circle"),A=R("text"),T=_n("A"),C=R("circle"),w=R("text"),F=_n("B"),V=R("text"),J=_n("A influenced B"),X=R("g"),pn=R("g"),en=R("g"),un=R("g"),rn=R("path"),an=R("line"),fn=R("circle"),Pn=R("text"),Kn=_n("A"),wn=R("circle"),Ln=R("text"),B=_n("B"),Y=R("text"),on=_n("A influenced B"),$=R("g"),ln=R("text"),sn=_n("Line thickness encodes birth year gap"),this.h()},l(Q){t=Fe(Q,"DIV",{id:!0,class:!0,style:!0});var q=P(t);r=I(q,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var In=P(r);e=I(In,"defs",{});var ct=P(e);i=I(ct,"style",{});var ve=P(i);l=dn(ve,`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),ve.forEach(M),ct.forEach(M),U&&U.l(In),u=I(In,"svg",{id:!0,xmlns:!0,viewBox:!0});var Gt=P(u);f=I(Gt,"defs",{});var ye=P(f);g=I(ye,"style",{});var we=P(g);h=dn(we,`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),we.forEach(M),ye.forEach(M),o=I(Gt,"g",{transform:!0});var ht=P(o);a=I(ht,"path",{d:!0}),P(a).forEach(M),c=I(ht,"polygon",{class:!0,points:!0}),P(c).forEach(M),m=I(ht,"path",{class:!0,d:!0}),P(m).forEach(M),ht.forEach(M),Gt.forEach(M),In.forEach(M),v=_i(q),d=Fe(q,"DIV",{class:!0,style:!0});var Ee=P(d);E=I(Ee,"svg",{id:!0,class:!0,style:!0,xmlns:!0,viewBox:!0,preserveAspectRatio:!0});var ke=P(E);y=I(ke,"g",{transform:!0});var xn=P(y);N=I(xn,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,rx:!0}),P(N).forEach(M),S=I(xn,"g",{transform:!0});var bn=P(S);z=I(bn,"g",{transform:!0});var Me=P(z);L=I(Me,"g",{transform:!0});var Se=P(L);G=I(Se,"g",{transform:!0});var Ne=P(G);D=I(Ne,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(D).forEach(M),Ne.forEach(M),Se.forEach(M),Me.forEach(M),O=I(bn,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(O).forEach(M),k=I(bn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(k).forEach(M),A=I(bn,"text",{x:!0,y:!0});var Ae=P(A);T=dn(Ae,"A"),Ae.forEach(M),C=I(bn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(C).forEach(M),w=I(bn,"text",{x:!0,y:!0});var Pe=P(w);F=dn(Pe,"B"),Pe.forEach(M),V=I(bn,"text",{x:!0,y:!0});var Le=P(V);J=dn(Le,"A influenced B"),Le.forEach(M),bn.forEach(M),X=I(xn,"g",{transform:!0});var zn=P(X);pn=I(zn,"g",{transform:!0});var Re=P(pn);en=I(Re,"g",{transform:!0});var Ie=P(en);un=I(Ie,"g",{transform:!0});var Te=P(un);rn=I(Te,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(rn).forEach(M),Te.forEach(M),Ie.forEach(M),Re.forEach(M),an=I(zn,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(an).forEach(M),fn=I(zn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(fn).forEach(M),Pn=I(zn,"text",{x:!0,y:!0});var be=P(Pn);Kn=dn(be,"A"),be.forEach(M),wn=I(zn,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(wn).forEach(M),Ln=I(zn,"text",{x:!0,y:!0});var ze=P(Ln);B=dn(ze,"B"),ze.forEach(M),Y=I(zn,"text",{x:!0,y:!0});var De=P(Y);on=dn(De,"A influenced B"),De.forEach(M),zn.forEach(M),$=I(xn,"g",{transform:!0});var Be=P($);ln=I(Be,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0,stroke:!0,opacity:!0});var Ge=P(ln);sn=dn(Ge,"Line thickness encodes birth year gap"),Ge.forEach(M),Be.forEach(M),xn.forEach(M),ke.forEach(M),Ee.forEach(M),q.forEach(M),this.h()},h(){s(a,"d","M4.24,28.34l4.24-11.31L4.24,5.71,0,17.02l4.24,11.31Zm0-2.85l-2.8-7.47H7.04s-2.8,7.47-2.8,7.47Z"),s(c,"class","cls-1"),s(c,"points","4.24 8.29 7.04 15.76 1.44 15.76 4.24 8.29"),s(m,"class","cls-2"),s(m,"d","M1.83,.24h1.63l1.28,1.85h.01V.24h1.61V4.58h-1.62l-1.28-1.85h-.01v1.85H1.83V.24Z"),s(o,"transform",n[9]),s(u,"id","compass"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"viewBox",_="0 0 "+n[0]+" "+n[1]),s(r,"class","inline-block absolute top-0 left-0"),s(r,"viewBox",p="0, 0, "+n[0]+", "+n[1]),s(r,"preserveAspectRatio","xMidYMid meet"),s(N,"x","2"),s(N,"y","2"),s(N,"width",qt-4),s(N,"height",Zt-4),s(N,"fill","white"),s(N,"stroke","black"),s(N,"rx","15"),s(D,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),s(D,"fill","#cc0000"),s(D,"stroke","black"),s(D,"stroke-width","2"),s(G,"transform","translate("+(-nn*2+5)+", 0)"),s(L,"transform","rotate(0)"),s(z,"transform","translate(115, 20)"),s(O,"x1","20"),s(O,"y1","20"),s(O,"x2","115"),s(O,"y2","20"),s(O,"stroke","#c00"),s(O,"stroke-width","5"),s(O,"opacity","0.5"),s(k,"cx","20"),s(k,"cy","20"),s(k,"r",nn),s(k,"fill","white"),s(k,"stroke","#c00"),s(A,"x","15"),s(A,"y","25"),s(C,"cx","115"),s(C,"cy","20"),s(C,"r",nn),s(C,"fill","white"),s(C,"stroke","black"),s(w,"x","110"),s(w,"y","25"),s(V,"x","15"),s(V,"y","50"),s(S,"transform","translate(0, 20)"),s(rn,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),s(rn,"fill","#cc0000"),s(rn,"stroke","black"),s(rn,"stroke-width","2"),s(un,"transform","translate("+(nn*2-15)+", 0)"),s(en,"transform","rotate(0)"),s(pn,"transform","translate(20, 20)"),s(an,"x1","20"),s(an,"y1","20"),s(an,"x2","115"),s(an,"y2","20"),s(an,"stroke","#c00"),s(an,"stroke-width","5"),s(an,"opacity","0.5"),s(fn,"cx","20"),s(fn,"cy","20"),s(fn,"r",nn),s(fn,"fill","white"),s(fn,"stroke","black"),s(Pn,"x","15"),s(Pn,"y","25"),s(wn,"cx","115"),s(wn,"cy","20"),s(wn,"r",nn),s(wn,"fill","white"),s(wn,"stroke","#c00"),s(Ln,"x","110"),s(Ln,"y","25"),s(Y,"x","15"),s(Y,"y","50"),s(X,"transform","translate(140, 20)"),s(ln,"font-size","smaller"),s(ln,"text-anchor","middle"),s(ln,"x","140"),s(ln,"y","0"),s(ln,"stroke","#c00"),s(ln,"opacity","0.5"),s($,"transform","translate(0, 18)"),s(y,"transform","scale("+Ht+")"),s(E,"id","legend"),s(E,"class","inline-block absolute top-0 left-0"),Mn(E,"padding-top","12px"),s(E,"xmlns","http://www.w3.org/2000/svg"),s(E,"viewBox","0 0 "+qt+" "+Zt),s(E,"preserveAspectRatio","xMidYMid meet"),s(d,"class","absolute left-0 bottom-0"),Mn(d,"width",qt*Ht+"px"),Mn(d,"height",Zt*Ht+"px"),s(t,"id","container"),s(t,"class","inline-block relative align-top overflow-hidden"),Mn(t,"width",n[0]+"px"),Mn(t,"height",n[1]+"px")},m(Q,q){tn(Q,t,q),b(t,r),b(r,e),b(e,i),b(i,l),U&&U.m(r,null),b(r,u),b(u,f),b(f,g),b(g,h),b(u,o),b(o,a),b(o,c),b(o,m),b(t,v),b(t,d),b(d,E),b(E,y),b(y,N),b(y,S),b(S,z),b(z,L),b(L,G),b(G,D),b(S,O),b(S,k),b(S,A),b(A,T),b(S,C),b(S,w),b(w,F),b(S,V),b(V,J),b(y,X),b(X,pn),b(pn,en),b(en,un),b(un,rn),b(X,an),b(X,fn),b(X,Pn),b(Pn,Kn),b(X,wn),b(X,Ln),b(Ln,B),b(X,Y),b(Y,on),b(y,$),b($,ln),b(ln,sn),cn=!0,kn||(Rn=nt(r,"click",n[23]),kn=!0)},p(Q,q){Q[7]?U?(U.p(Q,q),q[0]&128&&Un(U,1)):(U=Pr(Q),U.c(),Un(U,1),U.m(r,u)):U&&(Fr(),kt(U,1,1,()=>{U=null}),Or()),(!cn||q[0]&512)&&s(o,"transform",Q[9]),(!cn||q[0]&3&&_!==(_="0 0 "+Q[0]+" "+Q[1]))&&s(u,"viewBox",_),(!cn||q[0]&3&&p!==(p="0, 0, "+Q[0]+", "+Q[1]))&&s(r,"viewBox",p),(!cn||q[0]&1)&&Mn(t,"width",Q[0]+"px"),(!cn||q[0]&2)&&Mn(t,"height",Q[1]+"px")},i(Q){cn||(Un(U),cn=!0)},o(Q){kt(U),cn=!1},d(Q){Q&&M(t),U&&U.d(),kn=!1,Rn()}}}const nn=15,hn=20,qn=20,Gr=1e3,qt=280,Zt=80,Ht=.8;function sl(n,t,r){let e,i,l;const u=di();let f=new Worker(""+new URL("../workers/sim-nodes.worker-6d6b735a.js",import.meta.url).href);const g=B=>{r(5,E=B.data.nodes),r(2,y=E.filter(Y=>Y[0]===y[0])[0])};f.onmessage=g;let{width:h}=t,{height:o}=t,a,c,m,_,p,v,d,E,y;const N=po(),S=N.lines(),z=N.outline();let L,G,D;const O=(B,Y)=>{if(B[0]===Y[0]&&B[1]===Y[1])return"";const on=Si(),$=Qo(on);return Y[0]-B[0],Y[1]-B[1],$.lineStart(),$.point(B[0],B[1]),$.point(Y[0],Y[1]),$.lineEnd(),on.toString()};let k;const A=(B,Y)=>`translate(${B}, ${Y})`,T=(B,Y)=>{const on=v.find($=>$[0]===Y);return on?!!on[1].find(ln=>ln.influenced===B):!1},C=(B,Y)=>Math.atan2(Y[1]-B[1],Y[0]-B[0])*180/Math.PI,w=(B,Y)=>{r(2,y=p.filter(q=>q[0]===B)[0]),Y.push(y);let on=180,$=180,ln=-180,sn=-180;L.center([0,0]),L.scale(D),L.angle(0);for(const q of Y)q.x=Gn(L,q[1]),q.y=Cn(L,q[1]),q[1][0].lon>ln&&(ln=q[1][0].lon),q[1][0].lat>sn&&(sn=q[1][0].lat),q[1][0].lon<on&&(on=q[1][0].lon),q[1][0].lat<$&&($=q[1][0].lat);const cn=[(ln+on)/2,(sn+$)/2],kn=[[sn,on],[$,ln]],Rn=L(kn[0]),U=L(kn[1]),Q=.6/Math.max(Math.abs(U[1]-Rn[1])/h,Math.abs(U[0]-Rn[0])/o);L.center(cn),L.translate([h/2,o/2]),L.scale(Q*D),Math.abs(U[0]-Rn[0])>Math.abs(U[1]-Rn[1])?(L.angle(90),r(27,i=-90)):r(27,i=0),r(8,e+=1);for(const q of Y)q.x=Gn(L,q[1]),q.y=Cn(L,q[1]);f.postMessage({nodes:Y,radius:nn}),f.postMessage({nodes:Y,radius:nn})},F=B=>B.hasOwnProperty("x")?B.x:Gn(L,B[1]),V=B=>B.hasOwnProperty("y")?B.y:Cn(L,B[1]),J=B=>`${B[0].year} - ${B[1].year>2021?"":B[1].year}`,X=(B,Y)=>{const on=B[1][0].year,$=Y[1][0].year;return k(Math.abs($-on))},pn=B=>_.filter(on=>on.artist===B)[0].thumbnail,en=B=>{Ze(B+"-map-detail").transition().duration(Gr).attr("opacity",1)},un=B=>{Ze(B+"-map-detail").transition().duration(Gr).attr("opacity",0)},rn=()=>{L.center([0,0]),L.scale(D),L.angle(0),r(27,i=0),r(5,E=[]),r(8,e+=1)},an=()=>{u("reset_influences",{})},fn=(B,Y,on,$,ln)=>{r(3,a=nl(B,B.objects.countries)),c=el(B.objects.countries.geometries),r(6,L=il().fitSize([h,o+4],a)),r(7,G=Ao().projection(L)),D=L.scale(),r(4,m=new Array(a.features.length));for(let sn=0;sn<m.length;++sn)r(4,m[sn]=zi(c[sn],cn=>m[cn])+1|0,m);if(v=on,d=Y,$){p=Mi($,kn=>kn.artist);let sn=2e3,cn=0;for(const[kn,Rn]of d){const U=$.filter(Q=>Q.artist===kn)[0];for(const Q of Rn){const q=$.filter(ct=>ct.artist===Q.artist)[0],In=Math.abs(U.year-q.year);In>cn&&(cn=In),In<sn&&(sn=In)}}k=ui().domain([sn,cn]).range([2,nn*4])}else console.error("Unable to load Artist Locations!");_=ln},Pn=(B,Y)=>en("."+Z(B[0])),Kn=(B,Y)=>en("."+Z(B[0])),wn=(B,Y)=>un("."+Z(B[0])),Ln=(B,Y)=>un("."+Z(B[0]));return n.$$set=B=>{"width"in B&&r(0,h=B.width),"height"in B&&r(1,o=B.height)},n.$$.update=()=>{n.$$.dirty[0]&4,n.$$.dirty[0]&134217731&&r(9,l=i===0?`translate(${h-25}, ${o-60}) rotate(${i}) scale(2)`:`translate(${h-65}, ${o-5}) rotate(${i}) scale(2)`)},r(0,h=0),r(1,o=0),r(3,a=null),c=[],r(4,m=[]),p=[],v=[],d=[],r(5,E=[]),r(8,e=0),r(27,i=0),[h,o,y,a,m,E,L,G,e,l,S,z,O,A,T,C,F,V,J,X,pn,en,un,an,w,rn,fn,i,Pn,Kn,wn,Ln]}class vl extends hi{constructor(t){super(),pi(this,t,sl,fl,Cr,{width:0,height:1,DisplayInfluences:24,ResetInfluences:25,Initialize:26},null,[-1,-1,-1])}get DisplayInfluences(){return this.$$.ctx[24]}get ResetInfluences(){return this.$$.ctx[25]}get Initialize(){return this.$$.ctx[26]}}export{vl as M};
