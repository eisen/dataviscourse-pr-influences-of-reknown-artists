import{S as Pt,i as wt,s as Tt,k as Rt,O as mt,l as Ct,m as ut,P as yt,h as it,n as X,p as st,b as kt,F as Mt,A as xt,N as zt}from"./index-f38f7b54.js";import{b as St}from"./config-fd755020.js";import{C as qt}from"./helpers-06848ef0.js";import{o as At}from"./ordinal-ceb38b17.js";import{r as _t}from"./init-08c38208.js";import{g as vt}from"./group-d3aa616c.js";import{s as lt}from"./select-087c8348.js";const ft=Math.PI,dt=2*ft,nt=1e-6,Et=dt-nt;function gt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pt(){return new gt}gt.prototype=pt.prototype={constructor:gt,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,s,a){this._+="Q"+ +e+","+ +r+","+(this._x1=+s)+","+(this._y1=+a)},bezierCurveTo:function(e,r,s,a,h,g){this._+="C"+ +e+","+ +r+","+ +s+","+ +a+","+(this._x1=+h)+","+(this._y1=+g)},arcTo:function(e,r,s,a,h){e=+e,r=+r,s=+s,a=+a,h=+h;var g=this._x1,d=this._y1,i=s-e,u=a-r,n=g-e,m=d-r,o=n*n+m*m;if(h<0)throw new Error("negative radius: "+h);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(o>nt)if(!(Math.abs(m*i-u*n)>nt)||!h)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var c=s-g,v=a-d,M=i*i+u*u,P=c*c+v*v,x=Math.sqrt(M),I=Math.sqrt(o),R=h*Math.tan((ft-Math.acos((M+o-P)/(2*x*I)))/2),C=R/I,z=R/x;Math.abs(C-1)>nt&&(this._+="L"+(e+C*n)+","+(r+C*m)),this._+="A"+h+","+h+",0,0,"+ +(m*c>n*v)+","+(this._x1=e+z*i)+","+(this._y1=r+z*u)}},arc:function(e,r,s,a,h,g){e=+e,r=+r,s=+s,g=!!g;var d=s*Math.cos(a),i=s*Math.sin(a),u=e+d,n=r+i,m=1^g,o=g?a-h:h-a;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+u+","+n:(Math.abs(this._x1-u)>nt||Math.abs(this._y1-n)>nt)&&(this._+="L"+u+","+n),s&&(o<0&&(o=o%dt+dt),o>Et?this._+="A"+s+","+s+",0,1,"+m+","+(e-d)+","+(r-i)+"A"+s+","+s+",0,1,"+m+","+(this._x1=u)+","+(this._y1=n):o>nt&&(this._+="A"+s+","+s+",0,"+ +(o>=ft)+","+m+","+(this._x1=e+s*Math.cos(h))+","+(this._y1=r+s*Math.sin(h))))},rect:function(e,r,s,a){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +s+"v"+ +a+"h"+-s+"Z"},toString:function(){return this._}};function K(e){return function(){return e}}const bt=Math.abs,E=Math.atan2,et=Math.cos,Lt=Math.max,ct=Math.min,Y=Math.sin,at=Math.sqrt,j=1e-12,rt=Math.PI,ht=rt/2,Bt=2*rt;function Dt(e){return e>1?0:e<-1?rt:Math.acos(e)}function It(e){return e>=1?ht:e<=-1?-ht:Math.asin(e)}function jt(e){return e.innerRadius}function Gt(e){return e.outerRadius}function Nt(e){return e.startAngle}function Ft(e){return e.endAngle}function Ht(e){return e&&e.padAngle}function Ot(e,r,s,a,h,g,d,i){var u=s-e,n=a-r,m=d-h,o=i-g,c=o*u-m*n;if(!(c*c<j))return c=(m*(r-g)-o*(e-h))/c,[e+c*u,r+c*n]}function ot(e,r,s,a,h,g,d){var i=e-s,u=r-a,n=(d?g:-g)/at(i*i+u*u),m=n*u,o=-n*i,c=e+m,v=r+o,M=s+m,P=a+o,x=(c+M)/2,I=(v+P)/2,R=M-c,C=P-v,z=R*R+C*C,U=h-g,A=c*P-M*v,L=(C<0?-1:1)*at(Lt(0,U*U*z-A*A)),w=(A*C-R*L)/z,y=(-A*R-C*L)/z,f=(A*C+R*L)/z,b=(-A*R+C*L)/z,l=w-x,t=y-I,_=f-x,p=b-I;return l*l+t*t>_*_+p*p&&(w=f,y=b),{cx:w,cy:y,x01:-m,y01:-o,x11:w*(h/U-1),y11:y*(h/U-1)}}function Vt(){var e=jt,r=Gt,s=K(0),a=null,h=Nt,g=Ft,d=Ht,i=null;function u(){var n,m,o=+e.apply(this,arguments),c=+r.apply(this,arguments),v=h.apply(this,arguments)-ht,M=g.apply(this,arguments)-ht,P=bt(M-v),x=M>v;if(i||(i=n=pt()),c<o&&(m=c,c=o,o=m),!(c>j))i.moveTo(0,0);else if(P>Bt-j)i.moveTo(c*et(v),c*Y(v)),i.arc(0,0,c,v,M,!x),o>j&&(i.moveTo(o*et(M),o*Y(M)),i.arc(0,0,o,M,v,x));else{var I=v,R=M,C=v,z=M,U=P,A=P,L=d.apply(this,arguments)/2,w=L>j&&(a?+a.apply(this,arguments):at(o*o+c*c)),y=ct(bt(c-o)/2,+s.apply(this,arguments)),f=y,b=y,l,t;if(w>j){var _=It(w/o*Y(L)),p=It(w/c*Y(L));(U-=_*2)>j?(_*=x?1:-1,C+=_,z-=_):(U=0,C=z=(v+M)/2),(A-=p*2)>j?(p*=x?1:-1,I+=p,R-=p):(A=0,I=R=(v+M)/2)}var S=c*et(I),N=c*Y(I),Z=o*et(z),Q=o*Y(z);if(y>j){var $=c*et(R),q=c*Y(R),F=o*et(C),H=o*Y(C),k;if(P<rt&&(k=Ot(S,N,F,H,$,q,Z,Q))){var O=S-k[0],W=N-k[1],V=$-k[0],B=q-k[1],T=1/Y(Dt((O*V+W*B)/(at(O*O+W*W)*at(V*V+B*B)))/2),D=at(k[0]*k[0]+k[1]*k[1]);f=ct(y,(o-D)/(T-1)),b=ct(y,(c-D)/(T+1))}}A>j?b>j?(l=ot(F,H,S,N,c,b,x),t=ot($,q,Z,Q,c,b,x),i.moveTo(l.cx+l.x01,l.cy+l.y01),b<y?i.arc(l.cx,l.cy,b,E(l.y01,l.x01),E(t.y01,t.x01),!x):(i.arc(l.cx,l.cy,b,E(l.y01,l.x01),E(l.y11,l.x11),!x),i.arc(0,0,c,E(l.cy+l.y11,l.cx+l.x11),E(t.cy+t.y11,t.cx+t.x11),!x),i.arc(t.cx,t.cy,b,E(t.y11,t.x11),E(t.y01,t.x01),!x))):(i.moveTo(S,N),i.arc(0,0,c,I,R,!x)):i.moveTo(S,N),!(o>j)||!(U>j)?i.lineTo(Z,Q):f>j?(l=ot(Z,Q,$,q,o,-f,x),t=ot(S,N,F,H,o,-f,x),i.lineTo(l.cx+l.x01,l.cy+l.y01),f<y?i.arc(l.cx,l.cy,f,E(l.y01,l.x01),E(t.y01,t.x01),!x):(i.arc(l.cx,l.cy,f,E(l.y01,l.x01),E(l.y11,l.x11),!x),i.arc(0,0,o,E(l.cy+l.y11,l.cx+l.x11),E(t.cy+t.y11,t.cx+t.x11),x),i.arc(t.cx,t.cy,f,E(t.y11,t.x11),E(t.y01,t.x01),!x))):i.arc(0,0,o,z,C,x)}if(i.closePath(),n)return i=null,n+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,m=(+h.apply(this,arguments)+ +g.apply(this,arguments))/2-rt/2;return[et(m)*n,Y(m)*n]},u.innerRadius=function(n){return arguments.length?(e=typeof n=="function"?n:K(+n),u):e},u.outerRadius=function(n){return arguments.length?(r=typeof n=="function"?n:K(+n),u):r},u.cornerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:K(+n),u):s},u.padRadius=function(n){return arguments.length?(a=n==null?null:typeof n=="function"?n:K(+n),u):a},u.startAngle=function(n){return arguments.length?(h=typeof n=="function"?n:K(+n),u):h},u.endAngle=function(n){return arguments.length?(g=typeof n=="function"?n:K(+n),u):g},u.padAngle=function(n){return arguments.length?(d=typeof n=="function"?n:K(+n),u):d},u.context=function(n){return arguments.length?(i=n==null?null:n,u):i},u}function Ut(e){let r,s,a,h,g;return{c(){r=Rt("div"),s=mt("svg"),a=mt("g"),this.h()},l(d){r=Ct(d,"DIV",{id:!0,class:!0,style:!0});var i=ut(r);s=yt(i,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var u=ut(s);a=yt(u,"g",{id:!0,transform:!0}),ut(a).forEach(it),u.forEach(it),i.forEach(it),this.h()},h(){X(a,"id","chordViz"),X(a,"transform",h="translate("+e[0]/2+", "+e[2]*1.1+")"),X(s,"class","inline-block absolute top-0 left-0"),X(s,"viewBox",g="0, 0, "+e[0]+", "+e[1]),X(s,"preserveAspectRatio","xMidYMid meet"),X(r,"id","container"),X(r,"class","inline-block relative align-top overflow-hidden"),st(r,"width",e[0]+"px"),st(r,"height",e[1]+"px")},m(d,i){kt(d,r,i),Mt(r,s),Mt(s,a),e[6](a)},p(d,[i]){i&5&&h!==(h="translate("+d[0]/2+", "+d[2]*1.1+")")&&X(a,"transform",h),i&3&&g!==(g="0, 0, "+d[0]+", "+d[1])&&X(s,"viewBox",g),i&1&&st(r,"width",d[0]+"px"),i&2&&st(r,"height",d[1]+"px")},i:xt,o:xt,d(d){d&&it(r),e[6](null)}}}let Yt="Century",Zt="Artistic Mediums";function Qt(e,r,s){let a,h,g,d,i,u,{width:n}=r,{height:m}=r,o,c,v,M=["sculptor","painter","printmaker","draughtsman","photography","film","watercolourist","oilpainter","illustrator","muralist","architect","ink","ceramicist","calligrapher","engraving"],P=M.length,x=At().domain(M).range(_t(P)),I=[{cent:1e3,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1100,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1200,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1300,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1400,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)},{cent:1500,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1600,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1700,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1800,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1900,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)}],R=At().domain(_t(12)).range(qt);function C(A){var L,w=h*.9125,y=A.startAngle*180/Math.PI-90,f=A.endAngle*180/Math.PI-90,b=null;b||(b=L=pt()),b.moveTo(w*Math.cos(y*Math.PI/180),w*Math.sin(y*Math.PI/180)),b.arc(0,0,w,y*Math.PI/180,f*Math.PI/180);let l,t=f>0&&f<90||f<-90&&f>-180?.4:1.1;l=180-90-(90-(Math.abs(f-y)*t+y));let _=w*Math.sin(l*Math.PI/180),p=w*Math.cos(l*Math.PI/180),S=_/2+Math.abs(f-y)*.1*5,N=-1;f>-90&&f<90?N=Math.abs(f-y)*.1*10:N=-1*(Math.abs(f-y)*.1*10);let Z=p/2+N,Q,$=f>0&&f<90||f<-90&&f>-180?1.1:.4;Q=180-90-(90-(f-Math.abs(f-y)*$));let q=w*Math.sin(Q*Math.PI/180),F=w*Math.cos(Q*Math.PI/180),H=q/2+Math.abs(f-y)*.1*5,k=-1;f>-90&&f<90?k=Math.abs(f-y)*.1*10:k=-1*(Math.abs(f-y)*.1*10);let O=F/2+k,W=[];for(let V=0;V<M.length;V++)W.push(V*((a*2+.05*a)/M.length)-a*.9125);if(b.quadraticCurveTo(Z,S,A.half==0?d/2:-d/2,W[A.death]),b.quadraticCurveTo(O,H,w*Math.cos(y*Math.PI/180),w*Math.sin(y*Math.PI/180)),L)return b=null,L+""||null}const z=(A,L)=>{if(A&&L){v=vt(L,t=>t.artist),c=vt(A,t=>t.artist);for(let t=0;t<c.length;t++)I[Math.floor(Number(c[t][1][0].year)/100)-10].nums[0]++,I[Math.floor(Number(c[t][1][0].year)/100)-10].people.push(c[t][0]);for(let t=0;t<I.length;t++)for(let _=0;_<I[t].people.length;_++)for(let p=0;p<v.length;p++)if(I[t].people[_]==v[p][0]){for(let S=0;S<v[p][1].length;S++)I[t].meds[x(v[p][1][S].medium)]+=1;break}let w=0;for(let t=0;t<I.length;t++)for(let _=0;_<I[t].meds.length;_++)w+=I[t].meds[_];let y=Vt().innerRadius(h*.925).outerRadius(h).cornerRadius(3);lt(o).datum(function(t,_){let p=I.sort(function(T,D){let G=0,J=0;for(let tt=0;tt<T.nums.length;tt++)G+=T.nums[tt];for(let tt=0;tt<D.nums.length;tt++)J+=D.nums[tt];return G>J?1:J>G?-1:0}),S=[],N=I.length,Z=g*Math.PI/180,q=2*g*Math.PI/180/w,F=a/270*.02,H=-1,k=(Math.PI-Z)/2,O=(Math.PI-Z)/2,W=0,V=!1;p[0].meds[0]=1,p[1].meds[11]=1;let B=!1;for(let T=0;T<N;T++){H++,B=!0;for(let D=0;D<p[T].meds.length;D++)if(p[T].meds[D]>0){let G=p[T].meds[D];if(W+=q*G,W<g*Math.PI/180)S.push({index:H,startAngle:B&&T>0?F+k:k,endAngle:B&&T>0?F+q*G+k:q*G+k,value:29630,nums:p[T].meds[D],death:D,colorIndex:H,half:0,cent:p[T].cent,addLabel:!!B}),k+=B&&T>0?F+q*G:q*G;else{let J=2*Math.PI;S.push({index:H,startAngle:B&&T>0?J-F-q*G-O:J-q*G-O,endAngle:B&&T>0?J-F-O:J-O,value:29630,nums:p[T].meds[D],death:D,colorIndex:H,half:1,cent:p[T].cent,addLabel:!!(B||!V)}),V||(V=!0),O+=B&&T>0?F+q*G:q*G}B&&(B=!1)}}return S}),lt(o).append("g").attr("class","ribbons").selectAll("path").data(t=>t).enter().append("path").attr("d",C).style("fill",function(t){return R(t.colorIndex)}).style("stroke",(t,_)=>St(R(t.colorIndex)).darker()).style("opacity",.5);let f=lt(o).append("g").attr("class","groups").selectAll("g").data(t=>t).enter().append("g");f.append("path").style("fill",function(t,_){return R(t.index)}).style("stroke","white").attr("d",y),f.append("g").attr("class","groups").selectAll("g").data(t=>t).enter().append("g"),f.append("rect").data(M).attr("x",-1*d/2).attr("y",(t,_)=>_*((a*2+ +(.05*a))/M.length)-a*.9-.05*a).attr("rx",6).attr("ry",6).attr("width",d).attr("height",.1*a).attr("fill","#00005C").attr("opacity",1),f.append("text").data(M).attr("x",0).attr("y",(t,_)=>_*((a*2+ +(.05*a))/M.length)-a*.875).attr("fill","white").style("text-anchor","middle").style("font-size",i).text(t=>t.charAt(0).toUpperCase()+t.slice(1));let b=h*.9125;f.append("text").data(t=>t).attr("x",function(t,_){let p=t.half==0?b*Math.cos((t.endAngle*180/Math.PI-90)*Math.PI/180):b*Math.cos((t.startAngle*180/Math.PI-90)*Math.PI/180);return t.half==0?p+=65*(n/930):p-=65*(n/930),p}).attr("y",function(t,_){let p=t.half==0?b*Math.sin((t.endAngle*180/Math.PI-90)*Math.PI/180):b*Math.sin((t.startAngle*180/Math.PI-90)*Math.PI/180);return Math.abs(t.startAngle*180/Math.PI-90-(t.endAngle*180/Math.PI-90))<1.5*(2*g/w)&&(p-=15),p}).attr("fill","black").style("text-anchor","middle").style("font-size",i).text(t=>t.addLabel?t.cent:"");let l=lt(o).append("g").attr("class","groups");l.append("text").attr("x",0).attr("y",a/270*-270).style("text-anchor","middle").style("font-size",u>20?20:u).text("Distribution of Artists by "+Yt+" Over "+Zt),l.append("rect").attr("x",h*.17+125).attr("y",a/270*300-15).attr("width",d*.5).attr("height",.05*a).attr("fill","white").attr("stroke","black"),l.append("rect").attr("x",-h*.7+120).attr("y",a/270*300-15).attr("width",d*.5).attr("height",.05*a).attr("fill","white").attr("stroke","black"),l.append("text").attr("x",h*.17).attr("y",a/270*300-5).style("font-size",u-6>14?14:u-6).text("Select an Attribute:"),l.append("text").attr("x",-h*.7).attr("y",a/270*300-5).style("font-size",u-6>14?14:u-6).text("Select a Grouping:")}else console.error("Unable to load Artist Locations!")};function U(A){zt[A?"unshift":"push"](()=>{o=A,s(3,o)})}return e.$$set=A=>{"width"in A&&s(0,n=A.width),"height"in A&&s(1,m=A.height)},e.$$.update=()=>{e.$$.dirty&2&&s(2,a=m*.45>275?275:m*.45),e.$$.dirty&1&&s(5,h=n*.45>390?390:n*.45),e.$$.dirty&4&&(g=a/270*90-10),e.$$.dirty&32&&(d=h/370*120),e.$$.dirty&39&&(i=m<=n?a/270*15:h/370*15),e.$$.dirty&39&&(u=m<=n?a/170*20:h/270*20)},c=[],v=[],[n,m,a,o,z,h,U]}class ne extends Pt{constructor(r){super(),wt(this,r,Qt,Ut,Tt,{width:0,height:1,Initialize:4})}get Initialize(){return this.$$.ctx[4]}}export{ne as C};
