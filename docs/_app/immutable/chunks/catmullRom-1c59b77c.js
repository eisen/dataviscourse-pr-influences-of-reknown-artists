import{c as _n,i as F,d as Y,e as Z,f as mn}from"./config-89433de9.js";import{i as dn}from"./init-08c38208.js";import{e as H}from"./math-391f3f26.js";function j(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function yn(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function en(n){let t,r,i;n.length!==2?(t=j,r=(u,f)=>j(n(u),f),i=(u,f)=>n(u)-f):(t=n===j||n===yn?n:gn,r=n,i=n);function e(u,f,s=0,_=u.length){if(s<_){if(t(f,f)!==0)return _;do{const c=s+_>>>1;r(u[c],f)<0?s=c+1:_=c}while(s<_)}return s}function o(u,f,s=0,_=u.length){if(s<_){if(t(f,f)!==0)return _;do{const c=s+_>>>1;r(u[c],f)<=0?s=c+1:_=c}while(s<_)}return s}function a(u,f,s=0,_=u.length){const c=e(u,f,s,_-1);return c>s&&i(u[c-1],f)>-i(u[c],f)?c-1:c}return{left:e,center:a,right:o}}function gn(){return 0}function pn(n){return n===null?NaN:+n}const Mn=en(j),xn=Mn.right;en(pn).center;const wn=xn;var C=Math.sqrt(50),L=Math.sqrt(10),D=Math.sqrt(2);function kn(n,t,r){var i,e=-1,o,a,u;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((i=t<n)&&(o=n,n=t,t=o),(u=on(n,t,r))===0||!isFinite(u))return[];if(u>0){let f=Math.round(n/u),s=Math.round(t/u);for(f*u<n&&++f,s*u>t&&--s,a=new Array(o=s-f+1);++e<o;)a[e]=(f+e)*u}else{u=-u;let f=Math.round(n*u),s=Math.round(t*u);for(f/u<n&&++f,s/u>t&&--s,a=new Array(o=s-f+1);++e<o;)a[e]=(f+e)/u}return i&&a.reverse(),a}function on(n,t,r){var i=(t-n)/Math.max(0,r),e=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,e);return e>=0?(o>=C?10:o>=L?5:o>=D?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(o>=C?10:o>=L?5:o>=D?2:1)}function Nn(n,t,r){var i=Math.abs(t-n)/Math.max(0,r),e=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/e;return o>=C?e*=10:o>=L?e*=5:o>=D&&(e*=2),t<n?-e:e}function it(n,t){let r;if(t===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let e of n)(e=t(e,++i,n))!=null&&(r<e||r===void 0&&e>=e)&&(r=e)}return r}function vn(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,i=t.slice(),e;return function(o){for(e=0;e<r;++e)i[e]=n[e]*(1-o)+t[e]*o;return i}}function bn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function An(n,t){var r=t?t.length:0,i=n?Math.min(r,n.length):0,e=new Array(i),o=new Array(r),a;for(a=0;a<i;++a)e[a]=I(n[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(u){for(a=0;a<i;++a)o[a]=e[a](u);return o}}function Sn(n,t){var r=new Date;return n=+n,t=+t,function(i){return r.setTime(n*(1-i)+t*i),r}}function Pn(n,t){var r={},i={},e;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(e in t)e in n?r[e]=I(n[e],t[e]):i[e]=t[e];return function(o){for(e in r)i[e]=r[e](o);return i}}function I(n,t){var r=typeof t,i;return t==null||r==="boolean"?_n(t):(r==="number"?F:r==="string"?(i=Y(t))?(t=i,Z):mn:t instanceof Y?Z:t instanceof Date?Sn:bn(t)?vn:Array.isArray(t)?An:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pn:F)(n,t)}function Tn(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function zn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function E(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function v(n){return n=E(Math.abs(n)),n?n[1]:NaN}function jn(n,t){return function(r,i){for(var e=r.length,o=[],a=0,u=n[0],f=0;e>0&&u>0&&(f+u+1>i&&(u=Math.max(1,i-f)),o.push(r.substring(e-=u,e+u)),!((f+=u+1)>i));)u=n[a=(a+1)%n.length];return o.reverse().join(t)}}function En(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Rn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(n){if(!(t=Rn.exec(n)))throw new Error("invalid format: "+n);var t;return new B({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R.prototype=B.prototype;function B(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}B.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $n(n){n:for(var t=n.length,r=1,i=-1,e;r<t;++r)switch(n[r]){case".":i=e=r;break;case"0":i===0&&(i=r),e=r;break;default:if(!+n[r])break n;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(e+1):n}var an;function Fn(n,t){var r=E(n,t);if(!r)return n+"";var i=r[0],e=r[1],o=e-(an=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+E(n,Math.max(0,t+o-1))[0]}function J(n,t){var r=E(n,t);if(!r)return n+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}const K={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:zn,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>J(n*100,t),r:J,s:Fn,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Q(n){return n}var W=Array.prototype.map,nn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Cn(n){var t=n.grouping===void 0||n.thousands===void 0?Q:jn(W.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",e=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?Q:En(W.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"\u2212":n.minus+"",f=n.nan===void 0?"NaN":n.nan+"";function s(c){c=R(c);var h=c.fill,p=c.align,y=c.sign,b=c.symbol,w=c.zero,A=c.width,$=c.comma,M=c.precision,O=c.trim,m=c.type;m==="n"?($=!0,m="g"):K[m]||(M===void 0&&(M=12),O=!0,m="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var cn=b==="$"?r:b==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",ln=b==="$"?i:/[%p]/.test(m)?a:"",V=K[m],hn=/[defgprs%]/.test(m);M=M===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function X(l){var x=cn,d=ln,k,U,S;if(m==="c")d=V(l)+d,l="";else{l=+l;var P=l<0||1/l<0;if(l=isNaN(l)?f:V(Math.abs(l),M),O&&(l=$n(l)),P&&+l==0&&y!=="+"&&(P=!1),x=(P?y==="("?y:u:y==="-"||y==="("?"":y)+x,d=(m==="s"?nn[8+an/3]:"")+d+(P&&y==="("?")":""),hn){for(k=-1,U=l.length;++k<U;)if(S=l.charCodeAt(k),48>S||S>57){d=(S===46?e+l.slice(k+1):l.slice(k))+d,l=l.slice(0,k);break}}}$&&!w&&(l=t(l,1/0));var T=x.length+l.length+d.length,g=T<A?new Array(A-T+1).join(h):"";switch($&&w&&(l=t(g+l,g.length?A-d.length:1/0),g=""),p){case"<":l=x+l+d+g;break;case"=":l=x+g+l+d;break;case"^":l=g.slice(0,T=g.length>>1)+x+l+d+g.slice(T);break;default:l=g+x+l+d;break}return o(l)}return X.toString=function(){return c+""},X}function _(c,h){var p=s((c=R(c),c.type="f",c)),y=Math.max(-8,Math.min(8,Math.floor(v(h)/3)))*3,b=Math.pow(10,-y),w=nn[8+y/3];return function(A){return p(b*A)+w}}return{format:s,formatPrefix:_}}var z,un,sn;Ln({thousands:",",grouping:[3],currency:["$",""]});function Ln(n){return z=Cn(n),un=z.format,sn=z.formatPrefix,z}function Dn(n){return Math.max(0,-v(Math.abs(n)))}function qn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(v(t)/3)))*3-v(Math.abs(n)))}function In(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,v(t)-v(n))+1}function Bn(n){return function(){return n}}function Gn(n){return+n}var tn=[0,1];function N(n){return n}function q(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Bn(isNaN(t)?NaN:.5)}function On(n,t){var r;return n>t&&(r=n,n=t,t=r),function(i){return Math.max(n,Math.min(t,i))}}function Vn(n,t,r){var i=n[0],e=n[1],o=t[0],a=t[1];return e<i?(i=q(e,i),o=r(a,o)):(i=q(i,e),o=r(o,a)),function(u){return o(i(u))}}function Xn(n,t,r){var i=Math.min(n.length,t.length)-1,e=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<i;)e[a]=q(n[a],n[a+1]),o[a]=r(t[a],t[a+1]);return function(u){var f=wn(n,u,1,i)-1;return o[f](e[f](u))}}function Un(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Yn(){var n=tn,t=tn,r=I,i,e,o,a=N,u,f,s;function _(){var h=Math.min(n.length,t.length);return a!==N&&(a=On(n[0],n[h-1])),u=h>2?Xn:Vn,f=s=null,c}function c(h){return h==null||isNaN(h=+h)?o:(f||(f=u(n.map(i),t,r)))(i(a(h)))}return c.invert=function(h){return a(e((s||(s=u(t,n.map(i),F)))(h)))},c.domain=function(h){return arguments.length?(n=Array.from(h,Gn),_()):n.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),_()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),r=Tn,_()},c.clamp=function(h){return arguments.length?(a=h?!0:N,_()):a!==N},c.interpolate=function(h){return arguments.length?(r=h,_()):r},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,p){return i=h,e=p,_()}}function Zn(){return Yn()(N,N)}function Hn(n,t,r,i){var e=Nn(n,t,r),o;switch(i=R(i==null?",f":i),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(o=qn(e,a))&&(i.precision=o),sn(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=In(e,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Dn(e))&&(i.precision=o-(i.type==="%")*2);break}}return un(i)}function Jn(n){var t=n.domain;return n.ticks=function(r){var i=t();return kn(i[0],i[i.length-1],r==null?10:r)},n.tickFormat=function(r,i){var e=t();return Hn(e[0],e[e.length-1],r==null?10:r,i)},n.nice=function(r){r==null&&(r=10);var i=t(),e=0,o=i.length-1,a=i[e],u=i[o],f,s,_=10;for(u<a&&(s=a,a=u,u=s,s=e,e=o,o=s);_-- >0;){if(s=on(a,u,r),s===f)return i[e]=a,i[o]=u,t(i);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;f=s}return n},n}function Kn(){var n=Zn();return n.copy=function(){return Un(n,Kn())},dn.apply(n,arguments),Jn(n)}function rt(n){for(var t=n.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+n.slice(i*6,++i*6);return r}function rn(n,t,r){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-r),n._x2,n._y2)}function G(n,t){this._context=n,this._k=(1-t)/6}G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:rn(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function r(i){return new G(i,t)}return r.tension=function(i){return n(+i)},r})(0);function Qn(n,t,r){var i=n._x1,e=n._y1,o=n._x2,a=n._y2;if(n._l01_a>H){var u=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,f=3*n._l01_a*(n._l01_a+n._l12_a);i=(i*u-n._x0*n._l12_2a+n._x2*n._l01_2a)/f,e=(e*u-n._y0*n._l12_2a+n._y2*n._l01_2a)/f}if(n._l23_a>H){var s=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,_=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*s+n._x1*n._l23_2a-t*n._l12_2a)/_,a=(a*s+n._y1*n._l23_2a-r*n._l12_2a)/_}n._context.bezierCurveTo(i,e,o,a,n._x2,n._y2)}function fn(n,t){this._context=n,this._alpha=t}fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var r=this._x2-n,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Qn(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const et=function n(t){function r(i){return t?new fn(i,t):new G(i,0)}return r.alpha=function(i){return n(+i)},r}(.5);export{et as a,rt as c,Kn as l,it as m};
