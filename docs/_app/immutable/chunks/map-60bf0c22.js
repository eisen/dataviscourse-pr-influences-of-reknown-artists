import{S as Cr,i as Gr,s as er,k as br,P as D,q as Rt,l as Fr,m as z,Q as C,r as Lt,h as P,n as m,p as Sn,b as Q,F as X,f as zn,g as rr,t as at,d as ir,e as vn,H as qn,L as Jn,J as Yr,R as oe,M as Br,u as Or}from"./index-e2045d94.js";import{c as Xr,i as It,a as le,b as ue,d as qr,s as ft}from"./config-f23957d4.js";import{S as Zr,G as yn,a as wn,A as U,T as Qn,b as jn,s as Kn}from"./helpers-d31f3b08.js";import{f as ae}from"./index-7f078747.js";import{r as Ln,i as Hr}from"./init-08c38208.js";import{e as fe,g as Wr,a as Ur}from"./math-f900f350.js";function lt(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Vr(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function or(n){let t,r,e;n.length!==2?(t=lt,r=(f,h)=>lt(n(f),h),e=(f,h)=>n(f)-h):(t=n===lt||n===Vr?n:$r,r=n,e=n);function i(f,h,c=0,o=f.length){if(c<o){if(t(h,h)!==0)return o;do{const a=c+o>>>1;r(f[a],h)<0?c=a+1:o=a}while(c<o)}return c}function l(f,h,c=0,o=f.length){if(c<o){if(t(h,h)!==0)return o;do{const a=c+o>>>1;r(f[a],h)<=0?c=a+1:o=a}while(c<o)}return c}function u(f,h,c=0,o=f.length){const a=i(f,h,c,o-1);return a>c&&e(f[a-1],h)>-e(f[a],h)?a-1:a}return{left:i,center:u,right:l}}function $r(){return 0}function Jr(n){return n===null?NaN:+n}const Qr=or(lt),jr=Qr.right;or(Jr).center;const Kr=jr;class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const l=r[i],u=t+l,f=Math.abs(t)<Math.abs(l)?t-(u-l):l-(u-t);f&&(r[e++]=f),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,l,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,l=i-(u-e),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(i=l*2,e=u+i,i==e-u&&(u=e))}return u}}var Tt=Math.sqrt(50),zt=Math.sqrt(10),Dt=Math.sqrt(2);function xr(n,t,r){var e,i=-1,l,u,f;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(l=n,n=t,t=l),(f=lr(n,t,r))===0||!isFinite(f))return[];if(f>0){let h=Math.round(n/f),c=Math.round(t/f);for(h*f<n&&++h,c*f>t&&--c,u=new Array(l=c-h+1);++i<l;)u[i]=(h+i)*f}else{f=-f;let h=Math.round(n*f),c=Math.round(t*f);for(h/f<n&&++h,c/f>t&&--c,u=new Array(l=c-h+1);++i<l;)u[i]=(h+i)/f}return e&&u.reverse(),u}function lr(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),l=e/Math.pow(10,i);return i>=0?(l>=Tt?10:l>=zt?5:l>=Dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Tt?10:l>=zt?5:l>=Dt?2:1)}function ni(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),l=e/i;return l>=Tt?i*=10:l>=zt?i*=5:l>=Dt&&(i*=2),t<n?-i:i}function se(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ti(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*ei(n){for(const t of n)yield*t}function ur(n){return Array.from(ei(n))}function ri(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(l){for(i=0;i<r;++i)e[i]=n[i]*(1-l)+t[i]*l;return e}}function ii(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oi(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),l=new Array(r),u;for(u=0;u<e;++u)i[u]=Kt(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(f){for(u=0;u<e;++u)l[u]=i[u](f);return l}}function li(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function ui(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=Kt(n[i],t[i]):e[i]=t[i];return function(l){for(i in r)e[i]=r[i](l);return e}}function Kt(n,t){var r=typeof t,e;return t==null||r==="boolean"?Xr(t):(r==="number"?It:r==="string"?(e=le(t))?(t=e,ue):qr:t instanceof le?ue:t instanceof Date?li:ii(t)?ri:Array.isArray(t)?oi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ui:It)(n,t)}function ai(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function fi(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function st(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function Dn(n){return n=st(Math.abs(n)),n?n[1]:NaN}function si(n,t){return function(r,e){for(var i=r.length,l=[],u=0,f=n[0],h=0;i>0&&f>0&&(h+f+1>e&&(f=Math.max(1,e-h)),l.push(r.substring(i-=f,i+f)),!((h+=f+1)>e));)f=n[u=(u+1)%n.length];return l.reverse().join(t)}}function ci(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var hi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ct(n){if(!(t=hi.exec(n)))throw new Error("invalid format: "+n);var t;return new xt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ct.prototype=xt.prototype;function xt(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pi(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var ar;function gi(n,t){var r=st(n,t);if(!r)return n+"";var e=r[0],i=r[1],l=i-(ar=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return l===u?e:l>u?e+new Array(l-u+1).join("0"):l>0?e.slice(0,l)+"."+e.slice(l):"0."+new Array(1-l).join("0")+st(n,Math.max(0,t+l-1))[0]}function ce(n,t){var r=st(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const he={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:fi,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>ce(n*100,t),r:ce,s:gi,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function pe(n){return n}var ge=Array.prototype.map,_e=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function _i(n){var t=n.grouping===void 0||n.thousands===void 0?pe:si(ge.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?pe:ci(ge.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"\u2212":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function c(a){a=ct(a);var s=a.fill,g=a.align,p=a.sign,_=a.symbol,v=a.zero,d=a.width,w=a.comma,y=a.precision,E=a.trim,N=a.type;N==="n"?(w=!0,N="g"):he[N]||(y===void 0&&(y=12),E=!0,N="g"),(v||s==="0"&&g==="=")&&(v=!0,s="0",g="=");var R=_==="$"?r:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=_==="$"?e:/[%p]/.test(N)?u:"",k=he[N],L=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function b(S){var q=R,F=I,Y,M,T;if(N==="c")F=k(S)+F,S="";else{S=+S;var Z=S<0||1/S<0;if(S=isNaN(S)?h:k(Math.abs(S),y),E&&(S=pi(S)),Z&&+S==0&&p!=="+"&&(Z=!1),q=(Z?p==="("?p:f:p==="-"||p==="("?"":p)+q,F=(N==="s"?_e[8+ar/3]:"")+F+(Z&&p==="("?")":""),L){for(Y=-1,M=S.length;++Y<M;)if(T=S.charCodeAt(Y),48>T||T>57){F=(T===46?i+S.slice(Y+1):S.slice(Y))+F,S=S.slice(0,Y);break}}}w&&!v&&(S=t(S,1/0));var V=q.length+S.length+F.length,H=V<d?new Array(d-V+1).join(s):"";switch(w&&v&&(S=t(H+S,H.length?d-F.length:1/0),H=""),g){case"<":S=q+S+F+H;break;case"=":S=q+H+S+F;break;case"^":S=H.slice(0,V=H.length>>1)+q+S+F+H.slice(V);break;default:S=H+q+S+F;break}return l(S)}return b.toString=function(){return a+""},b}function o(a,s){var g=c((a=ct(a),a.type="f",a)),p=Math.max(-8,Math.min(8,Math.floor(Dn(s)/3)))*3,_=Math.pow(10,-p),v=_e[8+p/3];return function(d){return g(_*d)+v}}return{format:c,formatPrefix:o}}var xn,fr,sr;di({thousands:",",grouping:[3],currency:["$",""]});function di(n){return xn=_i(n),fr=xn.format,sr=xn.formatPrefix,xn}function mi(n){return Math.max(0,-Dn(Math.abs(n)))}function vi(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dn(t)/3)))*3-Dn(Math.abs(n)))}function yi(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Dn(t)-Dn(n))+1}var O=1e-6,wi=1e-12,B=Math.PI,on=B/2,de=B/4,un=B*2,gn=180/B,rn=B/180,W=Math.abs,Mi=Math.atan,Hn=Math.atan2,$=Math.cos,nt=Math.ceil,J=Math.sin,Si=Math.sign||function(n){return n>0?1:n<0?-1:0},Nn=Math.sqrt;function Ei(n){return n>1?0:n<-1?B:Math.acos(n)}function Wn(n){return n>1?on:n<-1?-on:Math.asin(n)}function ln(){}function ht(n,t){n&&ve.hasOwnProperty(n.type)&&ve[n.type](n,t)}var me={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)ht(r[e].geometry,t)}},ve={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Ct(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Ct(r[e],t,0)},Polygon:function(n,t){ye(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ye(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)ht(r[e],t)}};function Ct(n,t,r){var e=-1,i=n.length-r,l;for(t.lineStart();++e<i;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function ye(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Ct(n[r],t,1);t.polygonEnd()}function Rn(n,t){n&&me.hasOwnProperty(n.type)?me[n.type](n,t):ht(n,t)}function Gt(n){return[Hn(n[1],n[0]),Wn(n[2])]}function Cn(n){var t=n[0],r=n[1],e=$(r);return[e*$(t),e*J(t),J(r)]}function tt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function pt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Et(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function et(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Nn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Ft(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function Yt(n,t){return[W(n)>B?n+Math.round(-n/un)*un:n,t]}Yt.invert=Yt;function ki(n,t,r){return(n%=un)?t||r?Ft(Me(n),Se(t,r)):Me(n):t||r?Se(t,r):Yt}function we(n){return function(t,r){return t+=n,[t>B?t-un:t<-B?t+un:t,r]}}function Me(n){var t=we(n);return t.invert=we(-n),t}function Se(n,t){var r=$(n),e=J(n),i=$(t),l=J(t);function u(f,h){var c=$(h),o=$(f)*c,a=J(f)*c,s=J(h),g=s*r+o*e;return[Hn(a*i-g*l,o*r-s*e),Wn(g*i+a*l)]}return u.invert=function(f,h){var c=$(h),o=$(f)*c,a=J(f)*c,s=J(h),g=s*i-a*l;return[Hn(a*i+s*l,o*r+g*e),Wn(g*r-o*e)]},u}function Ni(n,t,r,e,i,l){if(!!r){var u=$(t),f=J(t),h=e*r;i==null?(i=t+e*un,l=t-h/2):(i=Ee(u,i),l=Ee(u,l),(e>0?i<l:i>l)&&(i+=e*un));for(var c,o=i;e>0?o>l:o<l;o-=h)c=Gt([u,-f*$(o),-f*J(o)]),n.point(c[0],c[1])}}function Ee(n,t){t=Cn(t),t[0]-=n,bt(t);var r=Ei(-t[1]);return((-t[2]<0?-r:r)+un-O)%un}function cr(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:ln,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function ut(n,t){return W(n[0]-t[0])<O&&W(n[1]-t[1])<O}function rt(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function hr(n,t,r,e,i){var l=[],u=[],f,h;if(n.forEach(function(p){if(!((_=p.length-1)<=0)){var _,v=p[0],d=p[_],w;if(ut(v,d)){if(!v[2]&&!d[2]){for(i.lineStart(),f=0;f<_;++f)i.point((v=p[f])[0],v[1]);i.lineEnd();return}d[0]+=2*O}l.push(w=new rt(v,p,null,!0)),u.push(w.o=new rt(v,null,w,!1)),l.push(w=new rt(d,p,null,!1)),u.push(w.o=new rt(d,null,w,!0))}}),!!l.length){for(u.sort(t),ke(l),ke(u),f=0,h=u.length;f<h;++f)u[f].e=r=!r;for(var c=l[0],o,a;;){for(var s=c,g=!0;s.v;)if((s=s.n)===c)return;o=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(g)for(f=0,h=o.length;f<h;++f)i.point((a=o[f])[0],a[1]);else e(s.x,s.n.x,1,i);s=s.n}else{if(g)for(o=s.p.z,f=o.length-1;f>=0;--f)i.point((a=o[f])[0],a[1]);else e(s.x,s.p.x,-1,i);s=s.p}s=s.o,o=s.z,g=!g}while(!s.v);i.lineEnd()}}}function ke(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function kt(n){return W(n[0])<=B?n[0]:Si(n[0])*((W(n[0])+B)%un-B)}function Pi(n,t){var r=kt(t),e=t[1],i=J(e),l=[J(r),-$(r),0],u=0,f=0,h=new En;i===1?e=on+O:i===-1&&(e=-on-O);for(var c=0,o=n.length;c<o;++c)if(!!(s=(a=n[c]).length))for(var a,s,g=a[s-1],p=kt(g),_=g[1]/2+de,v=J(_),d=$(_),w=0;w<s;++w,p=E,v=R,d=I,g=y){var y=a[w],E=kt(y),N=y[1]/2+de,R=J(N),I=$(N),k=E-p,L=k>=0?1:-1,b=L*k,S=b>B,q=v*R;if(h.add(Hn(q*L*J(b),d*I+q*$(b))),u+=S?k+L*un:k,S^p>=r^E>=r){var F=pt(Cn(g),Cn(y));bt(F);var Y=pt(l,F);bt(Y);var M=(S^k>=0?-1:1)*Wn(Y[2]);(e>M||e===M&&(F[0]||F[1]))&&(f+=S^k>=0?1:-1)}}return(u<-O||u<O&&h<-wi)^f&1}function pr(n,t,r,e){return function(i){var l=t(i),u=cr(),f=t(u),h=!1,c,o,a,s={point:g,lineStart:_,lineEnd:v,polygonStart:function(){s.point=d,s.lineStart=w,s.lineEnd=y,o=[],c=[]},polygonEnd:function(){s.point=g,s.lineStart=_,s.lineEnd=v,o=ur(o);var E=Pi(c,e);o.length?(h||(i.polygonStart(),h=!0),hr(o,Ri,E,r,i)):E&&(h||(i.polygonStart(),h=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=c=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(E,N){n(E,N)&&i.point(E,N)}function p(E,N){l.point(E,N)}function _(){s.point=p,l.lineStart()}function v(){s.point=g,l.lineEnd()}function d(E,N){a.push([E,N]),f.point(E,N)}function w(){f.lineStart(),a=[]}function y(){d(a[0][0],a[0][1]),f.lineEnd();var E=f.clean(),N=u.result(),R,I=N.length,k,L,b;if(a.pop(),c.push(a),a=null,!!I){if(E&1){if(L=N[0],(k=L.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),R=0;R<k;++R)i.point((b=L[R])[0],b[1]);i.lineEnd()}return}I>1&&E&2&&N.push(N.pop().concat(N.shift())),o.push(N.filter(Ai))}}return s}}function Ai(n){return n.length>1}function Ri(n,t){return((n=n.x)[0]<0?n[1]-on-O:on-n[1])-((t=t.x)[0]<0?t[1]-on-O:on-t[1])}const Ne=pr(function(){return!0},Li,Ti,[-B,-on]);function Li(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(l,u){var f=l>0?B:-B,h=W(l-t);W(h-B)<O?(n.point(t,r=(r+u)/2>0?on:-on),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(l,r),i=0):e!==f&&h>=B&&(W(t-e)<O&&(t-=e*O),W(l-f)<O&&(l-=f*O),r=Ii(t,r,l,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),i=0),n.point(t=l,r=u),e=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function Ii(n,t,r,e){var i,l,u=J(n-r);return W(u)>O?Mi((J(t)*(l=$(e))*J(r)-J(e)*(i=$(t))*J(n))/(i*l*u)):(t+e)/2}function Ti(n,t,r,e){var i;if(n==null)i=r*on,e.point(-B,i),e.point(0,i),e.point(B,i),e.point(B,0),e.point(B,-i),e.point(0,-i),e.point(-B,-i),e.point(-B,0),e.point(-B,i);else if(W(n[0]-t[0])>O){var l=n[0]<t[0]?B:-B;i=r*l/2,e.point(-l,i),e.point(0,i),e.point(l,i)}else e.point(t[0],t[1])}function zi(n){var t=$(n),r=6*rn,e=t>0,i=W(t)>O;function l(o,a,s,g){Ni(g,n,r,s,o,a)}function u(o,a){return $(o)*$(a)>t}function f(o){var a,s,g,p,_;return{lineStart:function(){p=g=!1,_=1},point:function(v,d){var w=[v,d],y,E=u(v,d),N=e?E?0:c(v,d):E?c(v+(v<0?B:-B),d):0;if(!a&&(p=g=E)&&o.lineStart(),E!==g&&(y=h(a,w),(!y||ut(a,y)||ut(w,y))&&(w[2]=1)),E!==g)_=0,E?(o.lineStart(),y=h(w,a),o.point(y[0],y[1])):(y=h(a,w),o.point(y[0],y[1],2),o.lineEnd()),a=y;else if(i&&a&&e^E){var R;!(N&s)&&(R=h(w,a,!0))&&(_=0,e?(o.lineStart(),o.point(R[0][0],R[0][1]),o.point(R[1][0],R[1][1]),o.lineEnd()):(o.point(R[1][0],R[1][1]),o.lineEnd(),o.lineStart(),o.point(R[0][0],R[0][1],3)))}E&&(!a||!ut(a,w))&&o.point(w[0],w[1]),a=w,g=E,s=N},lineEnd:function(){g&&o.lineEnd(),a=null},clean:function(){return _|(p&&g)<<1}}}function h(o,a,s){var g=Cn(o),p=Cn(a),_=[1,0,0],v=pt(g,p),d=tt(v,v),w=v[0],y=d-w*w;if(!y)return!s&&o;var E=t*d/y,N=-t*w/y,R=pt(_,v),I=et(_,E),k=et(v,N);Et(I,k);var L=R,b=tt(I,L),S=tt(L,L),q=b*b-S*(tt(I,I)-1);if(!(q<0)){var F=Nn(q),Y=et(L,(-b-F)/S);if(Et(Y,I),Y=Gt(Y),!s)return Y;var M=o[0],T=a[0],Z=o[1],V=a[1],H;T<M&&(H=M,M=T,T=H);var Mn=T-M,an=W(Mn-B)<O,fn=an||Mn<O;if(!an&&V<Z&&(H=Z,Z=V,V=H),fn?an?Z+V>0^Y[1]<(W(Y[0]-M)<O?Z:V):Z<=Y[1]&&Y[1]<=V:Mn>B^(M<=Y[0]&&Y[0]<=T)){var en=et(L,(-b+F)/S);return Et(en,I),[Y,Gt(en)]}}}function c(o,a){var s=e?n:B-n,g=0;return o<-s?g|=1:o>s&&(g|=2),a<-s?g|=4:a>s&&(g|=8),g}return pr(u,f,l,e?[0,-n]:[-B,n-B])}function Di(n,t,r,e,i,l){var u=n[0],f=n[1],h=t[0],c=t[1],o=0,a=1,s=h-u,g=c-f,p;if(p=r-u,!(!s&&p>0)){if(p/=s,s<0){if(p<o)return;p<a&&(a=p)}else if(s>0){if(p>a)return;p>o&&(o=p)}if(p=i-u,!(!s&&p<0)){if(p/=s,s<0){if(p>a)return;p>o&&(o=p)}else if(s>0){if(p<o)return;p<a&&(a=p)}if(p=e-f,!(!g&&p>0)){if(p/=g,g<0){if(p<o)return;p<a&&(a=p)}else if(g>0){if(p>a)return;p>o&&(o=p)}if(p=l-f,!(!g&&p<0)){if(p/=g,g<0){if(p>a)return;p>o&&(o=p)}else if(g>0){if(p<o)return;p<a&&(a=p)}return o>0&&(n[0]=u+o*s,n[1]=f+o*g),a<1&&(t[0]=u+a*s,t[1]=f+a*g),!0}}}}}var Fn=1e9,it=-Fn;function Ci(n,t,r,e){function i(c,o){return n<=c&&c<=r&&t<=o&&o<=e}function l(c,o,a,s){var g=0,p=0;if(c==null||(g=u(c,a))!==(p=u(o,a))||h(c,o)<0^a>0)do s.point(g===0||g===3?n:r,g>1?e:t);while((g=(g+a+4)%4)!==p);else s.point(o[0],o[1])}function u(c,o){return W(c[0]-n)<O?o>0?0:3:W(c[0]-r)<O?o>0?2:1:W(c[1]-t)<O?o>0?1:0:o>0?3:2}function f(c,o){return h(c.x,o.x)}function h(c,o){var a=u(c,1),s=u(o,1);return a!==s?a-s:a===0?o[1]-c[1]:a===1?c[0]-o[0]:a===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,a=cr(),s,g,p,_,v,d,w,y,E,N,R,I={point:k,lineStart:q,lineEnd:F,polygonStart:b,polygonEnd:S};function k(M,T){i(M,T)&&o.point(M,T)}function L(){for(var M=0,T=0,Z=g.length;T<Z;++T)for(var V=g[T],H=1,Mn=V.length,an=V[0],fn,en,Pn=an[0],_n=an[1];H<Mn;++H)fn=Pn,en=_n,an=V[H],Pn=an[0],_n=an[1],en<=e?_n>e&&(Pn-fn)*(e-en)>(_n-en)*(n-fn)&&++M:_n<=e&&(Pn-fn)*(e-en)<(_n-en)*(n-fn)&&--M;return M}function b(){o=a,s=[],g=[],R=!0}function S(){var M=L(),T=R&&M,Z=(s=ur(s)).length;(T||Z)&&(c.polygonStart(),T&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),Z&&hr(s,f,M,l,c),c.polygonEnd()),o=c,s=g=p=null}function q(){I.point=Y,g&&g.push(p=[]),N=!0,E=!1,w=y=NaN}function F(){s&&(Y(_,v),d&&E&&a.rejoin(),s.push(a.result())),I.point=k,E&&o.lineEnd()}function Y(M,T){var Z=i(M,T);if(g&&p.push([M,T]),N)_=M,v=T,d=Z,N=!1,Z&&(o.lineStart(),o.point(M,T));else if(Z&&E)o.point(M,T);else{var V=[w=Math.max(it,Math.min(Fn,w)),y=Math.max(it,Math.min(Fn,y))],H=[M=Math.max(it,Math.min(Fn,M)),T=Math.max(it,Math.min(Fn,T))];Di(V,H,n,t,r,e)?(E||(o.lineStart(),o.point(V[0],V[1])),o.point(H[0],H[1]),Z||o.lineEnd(),R=!1):Z&&(o.lineStart(),o.point(M,T),R=!1)}w=M,y=T,E=Z}return I}}function Pe(n,t,r){var e=Ln(n,t-O,r).concat(t);return function(i){return e.map(function(l){return[i,l]})}}function Ae(n,t,r){var e=Ln(n,t-O,r).concat(t);return function(i){return e.map(function(l){return[l,i]})}}function Gi(){var n,t,r,e,i,l,u,f,h=10,c=h,o=90,a=360,s,g,p,_,v=2.5;function d(){return{type:"MultiLineString",coordinates:w()}}function w(){return Ln(nt(e/o)*o,r,o).map(p).concat(Ln(nt(f/a)*a,u,a).map(_)).concat(Ln(nt(t/h)*h,n,h).filter(function(y){return W(y%o)>O}).map(s)).concat(Ln(nt(l/c)*c,i,c).filter(function(y){return W(y%a)>O}).map(g))}return d.lines=function(){return w().map(function(y){return{type:"LineString",coordinates:y}})},d.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(_(u).slice(1),p(r).reverse().slice(1),_(f).reverse().slice(1))]}},d.extent=function(y){return arguments.length?d.extentMajor(y).extentMinor(y):d.extentMinor()},d.extentMajor=function(y){return arguments.length?(e=+y[0][0],r=+y[1][0],f=+y[0][1],u=+y[1][1],e>r&&(y=e,e=r,r=y),f>u&&(y=f,f=u,u=y),d.precision(v)):[[e,f],[r,u]]},d.extentMinor=function(y){return arguments.length?(t=+y[0][0],n=+y[1][0],l=+y[0][1],i=+y[1][1],t>n&&(y=t,t=n,n=y),l>i&&(y=l,l=i,i=y),d.precision(v)):[[t,l],[n,i]]},d.step=function(y){return arguments.length?d.stepMajor(y).stepMinor(y):d.stepMinor()},d.stepMajor=function(y){return arguments.length?(o=+y[0],a=+y[1],d):[o,a]},d.stepMinor=function(y){return arguments.length?(h=+y[0],c=+y[1],d):[h,c]},d.precision=function(y){return arguments.length?(v=+y,s=Pe(l,i,90),g=Ae(t,n,v),p=Pe(f,u,90),_=Ae(e,r,v),d):v},d.extentMajor([[-180,-90+O],[180,90-O]]).extentMinor([[-180,-80-O],[180,80+O]])}const Bt=n=>n;var Nt=new En,Ot=new En,gr,_r,Xt,qt,mn={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){mn.lineStart=bi,mn.lineEnd=Yi},polygonEnd:function(){mn.lineStart=mn.lineEnd=mn.point=ln,Nt.add(W(Ot)),Ot=new En},result:function(){var n=Nt/2;return Nt=new En,n}};function bi(){mn.point=Fi}function Fi(n,t){mn.point=dr,gr=Xt=n,_r=qt=t}function dr(n,t){Ot.add(qt*n-Xt*t),Xt=n,qt=t}function Yi(){dr(gr,_r)}const Re=mn;var Gn=1/0,gt=Gn,Un=-Gn,_t=Un,Bi={point:Oi,lineStart:ln,lineEnd:ln,polygonStart:ln,polygonEnd:ln,result:function(){var n=[[Gn,gt],[Un,_t]];return Un=_t=-(gt=Gn=1/0),n}};function Oi(n,t){n<Gn&&(Gn=n),n>Un&&(Un=n),t<gt&&(gt=t),t>_t&&(_t=t)}const dt=Bi;var Zt=0,Ht=0,Yn=0,mt=0,vt=0,In=0,Wt=0,Ut=0,Bn=0,mr,vr,cn,hn,sn={point:kn,lineStart:Le,lineEnd:Ie,polygonStart:function(){sn.lineStart=Zi,sn.lineEnd=Hi},polygonEnd:function(){sn.point=kn,sn.lineStart=Le,sn.lineEnd=Ie},result:function(){var n=Bn?[Wt/Bn,Ut/Bn]:In?[mt/In,vt/In]:Yn?[Zt/Yn,Ht/Yn]:[NaN,NaN];return Zt=Ht=Yn=mt=vt=In=Wt=Ut=Bn=0,n}};function kn(n,t){Zt+=n,Ht+=t,++Yn}function Le(){sn.point=Xi}function Xi(n,t){sn.point=qi,kn(cn=n,hn=t)}function qi(n,t){var r=n-cn,e=t-hn,i=Nn(r*r+e*e);mt+=i*(cn+n)/2,vt+=i*(hn+t)/2,In+=i,kn(cn=n,hn=t)}function Ie(){sn.point=kn}function Zi(){sn.point=Wi}function Hi(){yr(mr,vr)}function Wi(n,t){sn.point=yr,kn(mr=cn=n,vr=hn=t)}function yr(n,t){var r=n-cn,e=t-hn,i=Nn(r*r+e*e);mt+=i*(cn+n)/2,vt+=i*(hn+t)/2,In+=i,i=hn*n-cn*t,Wt+=i*(cn+n),Ut+=i*(hn+t),Bn+=i*3,kn(cn=n,hn=t)}const Te=sn;function wr(n){this._context=n}wr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,un);break}}},result:ln};var Vt=new En,Pt,Mr,Sr,On,Xn,yt={point:ln,lineStart:function(){yt.point=Ui},lineEnd:function(){Pt&&Er(Mr,Sr),yt.point=ln},polygonStart:function(){Pt=!0},polygonEnd:function(){Pt=null},result:function(){var n=+Vt;return Vt=new En,n}};function Ui(n,t){yt.point=Er,Mr=On=n,Sr=Xn=t}function Er(n,t){On-=n,Xn-=t,Vt.add(Nn(On*On+Xn*Xn)),On=n,Xn=t}const ze=yt;function kr(){this._string=[]}kr.prototype={_radius:4.5,_circle:De(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=De(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function De(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Vi(n,t){var r=4.5,e,i;function l(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Rn(u,e(i))),i.result()}return l.area=function(u){return Rn(u,e(Re)),Re.result()},l.measure=function(u){return Rn(u,e(ze)),ze.result()},l.bounds=function(u){return Rn(u,e(dt)),dt.result()},l.centroid=function(u){return Rn(u,e(Te)),Te.result()},l.projection=function(u){return arguments.length?(e=u==null?(n=null,Bt):(n=u).stream,l):n},l.context=function(u){return arguments.length?(i=u==null?(t=null,new kr):new wr(t=u),typeof r!="function"&&i.pointRadius(r),l):t},l.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),l):r},l.projection(n).context(t)}function ne(n){return function(t){var r=new $t;for(var e in n)r[e]=n[e];return r.stream=t,r}}function $t(){}$t.prototype={constructor:$t,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function te(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),Rn(r,n.stream(dt)),t(dt.result()),e!=null&&n.clipExtent(e),n}function Nr(n,t,r){return te(n,function(e){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),f=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,h=+t[0][1]+(l-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([f,h])},r)}function $i(n,t,r){return Nr(n,[[0,0],t],r)}function Ji(n,t,r){return te(n,function(e){var i=+t,l=i/(e[1][0]-e[0][0]),u=(i-l*(e[1][0]+e[0][0]))/2,f=-l*e[0][1];n.scale(150*l).translate([u,f])},r)}function Qi(n,t,r){return te(n,function(e){var i=+t,l=i/(e[1][1]-e[0][1]),u=-l*e[0][0],f=(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,f])},r)}var Ce=16,ji=$(30*rn);function Ge(n,t){return+t?xi(n,t):Ki(n)}function Ki(n){return ne({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function xi(n,t){function r(e,i,l,u,f,h,c,o,a,s,g,p,_,v){var d=c-e,w=o-i,y=d*d+w*w;if(y>4*t&&_--){var E=u+s,N=f+g,R=h+p,I=Nn(E*E+N*N+R*R),k=Wn(R/=I),L=W(W(R)-1)<O||W(l-a)<O?(l+a)/2:Hn(N,E),b=n(L,k),S=b[0],q=b[1],F=S-e,Y=q-i,M=w*F-d*Y;(M*M/y>t||W((d*F+w*Y)/y-.5)>.3||u*s+f*g+h*p<ji)&&(r(e,i,l,u,f,h,S,q,L,E/=I,N/=I,R,_,v),v.point(S,q),r(S,q,L,E,N,R,c,o,a,s,g,p,_,v))}}return function(e){var i,l,u,f,h,c,o,a,s,g,p,_,v={point:d,lineStart:w,lineEnd:E,polygonStart:function(){e.polygonStart(),v.lineStart=N},polygonEnd:function(){e.polygonEnd(),v.lineStart=w}};function d(k,L){k=n(k,L),e.point(k[0],k[1])}function w(){a=NaN,v.point=y,e.lineStart()}function y(k,L){var b=Cn([k,L]),S=n(k,L);r(a,s,o,g,p,_,a=S[0],s=S[1],o=k,g=b[0],p=b[1],_=b[2],Ce,e),e.point(a,s)}function E(){v.point=d,e.lineEnd()}function N(){w(),v.point=R,v.lineEnd=I}function R(k,L){y(i=k,L),l=a,u=s,f=g,h=p,c=_,v.point=y}function I(){r(a,s,o,g,p,_,l,u,i,f,h,c,Ce,e),v.lineEnd=E,E()}return v}}var no=ne({point:function(n,t){this.stream.point(n*rn,t*rn)}});function to(n){return ne({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function eo(n,t,r,e,i){function l(u,f){return u*=e,f*=i,[t+n*u,r-n*f]}return l.invert=function(u,f){return[(u-t)/n*e,(r-f)/n*i]},l}function be(n,t,r,e,i,l){if(!l)return eo(n,t,r,e,i);var u=$(l),f=J(l),h=u*n,c=f*n,o=u/n,a=f/n,s=(f*r-u*t)/n,g=(f*t+u*r)/n;function p(_,v){return _*=e,v*=i,[h*_-c*v+t,r-c*_-h*v]}return p.invert=function(_,v){return[e*(o*_-a*v+s),i*(g-a*_-o*v)]},p}function ro(n){return io(function(){return n})()}function io(n){var t,r=150,e=480,i=250,l=0,u=0,f=0,h=0,c=0,o,a=0,s=1,g=1,p=null,_=Ne,v=null,d,w,y,E=Bt,N=.5,R,I,k,L,b;function S(M){return k(M[0]*rn,M[1]*rn)}function q(M){return M=k.invert(M[0],M[1]),M&&[M[0]*gn,M[1]*gn]}S.stream=function(M){return L&&b===M?L:L=no(to(o)(_(R(E(b=M)))))},S.preclip=function(M){return arguments.length?(_=M,p=void 0,Y()):_},S.postclip=function(M){return arguments.length?(E=M,v=d=w=y=null,Y()):E},S.clipAngle=function(M){return arguments.length?(_=+M?zi(p=M*rn):(p=null,Ne),Y()):p*gn},S.clipExtent=function(M){return arguments.length?(E=M==null?(v=d=w=y=null,Bt):Ci(v=+M[0][0],d=+M[0][1],w=+M[1][0],y=+M[1][1]),Y()):v==null?null:[[v,d],[w,y]]},S.scale=function(M){return arguments.length?(r=+M,F()):r},S.translate=function(M){return arguments.length?(e=+M[0],i=+M[1],F()):[e,i]},S.center=function(M){return arguments.length?(l=M[0]%360*rn,u=M[1]%360*rn,F()):[l*gn,u*gn]},S.rotate=function(M){return arguments.length?(f=M[0]%360*rn,h=M[1]%360*rn,c=M.length>2?M[2]%360*rn:0,F()):[f*gn,h*gn,c*gn]},S.angle=function(M){return arguments.length?(a=M%360*rn,F()):a*gn},S.reflectX=function(M){return arguments.length?(s=M?-1:1,F()):s<0},S.reflectY=function(M){return arguments.length?(g=M?-1:1,F()):g<0},S.precision=function(M){return arguments.length?(R=Ge(I,N=M*M),Y()):Nn(N)},S.fitExtent=function(M,T){return Nr(S,M,T)},S.fitSize=function(M,T){return $i(S,M,T)},S.fitWidth=function(M,T){return Ji(S,M,T)},S.fitHeight=function(M,T){return Qi(S,M,T)};function F(){var M=be(r,0,0,s,g,a).apply(null,t(l,u)),T=be(r,e-M[0],i-M[1],s,g,a);return o=ki(f,h,c),I=Ft(t,T),k=Ft(o,I),R=Ge(I,N),Y()}function Y(){return L=b=null,S}return function(){return t=n.apply(this,arguments),S.invert=t.invert&&q,F()}}function oo(n){return function(){return n}}function lo(n){return+n}var Fe=[0,1];function Tn(n){return n}function Jt(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:oo(isNaN(t)?NaN:.5)}function uo(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function ao(n,t,r){var e=n[0],i=n[1],l=t[0],u=t[1];return i<e?(e=Jt(i,e),l=r(u,l)):(e=Jt(e,i),l=r(l,u)),function(f){return l(e(f))}}function fo(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),l=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=Jt(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(f){var h=Kr(n,f,1,e)-1;return l[h](i[h](f))}}function so(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function co(){var n=Fe,t=Fe,r=Kt,e,i,l,u=Tn,f,h,c;function o(){var s=Math.min(n.length,t.length);return u!==Tn&&(u=uo(n[0],n[s-1])),f=s>2?fo:ao,h=c=null,a}function a(s){return s==null||isNaN(s=+s)?l:(h||(h=f(n.map(e),t,r)))(e(u(s)))}return a.invert=function(s){return u(i((c||(c=f(t,n.map(e),It)))(s)))},a.domain=function(s){return arguments.length?(n=Array.from(s,lo),o()):n.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),o()):t.slice()},a.rangeRound=function(s){return t=Array.from(s),r=ai,o()},a.clamp=function(s){return arguments.length?(u=s?!0:Tn,o()):u!==Tn},a.interpolate=function(s){return arguments.length?(r=s,o()):r},a.unknown=function(s){return arguments.length?(l=s,a):l},function(s,g){return e=s,i=g,o()}}function ho(){return co()(Tn,Tn)}function po(n,t,r,e){var i=ni(n,t,r),l;switch(e=ct(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(l=vi(i,u))&&(e.precision=l),sr(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(l=yi(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=l-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(l=mi(i))&&(e.precision=l-(e.type==="%")*2);break}}return fr(e)}function go(n){var t=n.domain;return n.ticks=function(r){var e=t();return xr(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return po(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,l=e.length-1,u=e[i],f=e[l],h,c,o=10;for(f<u&&(c=u,u=f,f=c,c=i,i=l,l=c);o-- >0;){if(c=lr(u,f,r),c===h)return e[i]=u,e[l]=f,t(e);if(c>0)u=Math.floor(u/c)*c,f=Math.ceil(f/c)*c;else if(c<0)u=Math.ceil(u*c)/c,f=Math.floor(f*c)/c;else break;h=c}return n},n}function Qt(){var n=ho();return n.copy=function(){return so(n,Qt())},Hr.apply(n,arguments),go(n)}function _o(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const Ye=_o("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function Be(n,t,r){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-r),n._x2,n._y2)}function ee(n,t){this._context=n,this._k=(1-t)/6}ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Be(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Be(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function r(e){return new ee(e,t)}return r.tension=function(e){return n(+e)},r})(0);function mo(n,t,r){var e=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>fe){var f=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,h=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*f-n._x0*n._l12_2a+n._x2*n._l01_2a)/h,i=(i*f-n._y0*n._l12_2a+n._y2*n._l01_2a)/h}if(n._l23_a>fe){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,o=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*c+n._x1*n._l23_2a-t*n._l12_2a)/o,u=(u*c+n._y1*n._l23_2a-r*n._l12_2a)/o}n._context.bezierCurveTo(e,i,l,u,n._x2,n._y2)}function Pr(n,t){this._context=n,this._alpha=t}Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var r=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:mo(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vo=function n(t){function r(e){return t?new Pr(e,t):new ee(e,0)}return r.alpha=function(e){return n(+e)},r}(.5);function yo(n){return n}function wo(n){if(n==null)return yo;var t,r,e=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(f,h){h||(t=r=0);var c=2,o=f.length,a=new Array(o);for(a[0]=(t+=f[0])*e+l,a[1]=(r+=f[1])*i+u;c<o;)a[c]=f[c],++c;return a}}function Mo(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function So(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Oe(n,r)})}:Oe(n,t)}function Oe(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,l=Eo(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:l}:e==null?{type:"Feature",id:r,properties:i,geometry:l}:{type:"Feature",id:r,bbox:e,properties:i,geometry:l}}function Eo(n,t){var r=wo(n.transform),e=n.arcs;function i(o,a){a.length&&a.pop();for(var s=e[o<0?~o:o],g=0,p=s.length;g<p;++g)a.push(r(s[g],g));o<0&&Mo(a,p)}function l(o){return r(o)}function u(o){for(var a=[],s=0,g=o.length;s<g;++s)i(o[s],a);return a.length<2&&a.push(a[0]),a}function f(o){for(var a=u(o);a.length<4;)a.push(a[0]);return a}function h(o){return o.map(f)}function c(o){var a=o.type,s;switch(a){case"GeometryCollection":return{type:a,geometries:o.geometries.map(c)};case"Point":s=l(o.coordinates);break;case"MultiPoint":s=o.coordinates.map(l);break;case"LineString":s=u(o.arcs);break;case"MultiLineString":s=o.arcs.map(u);break;case"Polygon":s=h(o.arcs);break;case"MultiPolygon":s=o.arcs.map(h);break;default:return null}return{type:a,coordinates:s}}return c(t)}function Xe(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function ko(n){var t={},r=n.map(function(){return[]});function e(_,v){_.forEach(function(d){d<0&&(d=~d);var w=t[d];w?w.push(v):t[d]=[v]})}function i(_,v){_.forEach(function(d){e(d,v)})}function l(_,v){_.type==="GeometryCollection"?_.geometries.forEach(function(d){l(d,v)}):_.type in u&&u[_.type](_.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(_,v){_.forEach(function(d){i(d,v)})}};n.forEach(l);for(var f in t)for(var h=t[f],c=h.length,o=0;o<c;++o)for(var a=o+1;a<c;++a){var s=h[o],g=h[a],p;(p=r[s])[f=Xe(p,g)]!==g&&p.splice(f,0,g),(p=r[g])[f=Xe(p,s)]!==s&&p.splice(f,0,s)}return r}var wt=Math.abs,bn=Math.cos,pn=Math.sin,Zn=1e-6,Mt=Math.PI,jt=Mt/2;function No(n){return n?n/Math.sin(n):1}function re(n){return n>1?0:n<-1?Mt:Math.acos(n)}function Ar(n){return n>0?Math.sqrt(n):0}function Rr(n,t){var r=bn(t),e=No(re(r*bn(n/=2)));return[2*r*pn(n)*e,pn(t)*e]}Rr.invert=function(n,t){if(!(n*n+4*t*t>Mt*Mt+Zn)){var r=n,e=t,i=25;do{var l=pn(r),u=pn(r/2),f=bn(r/2),h=pn(e),c=bn(e),o=pn(2*e),a=h*h,s=c*c,g=u*u,p=1-s*f*f,_=p?re(c*f)*Ar(v=1/p):v=0,v,d=2*_*c*u-n,w=_*h-t,y=v*(s*g+_*c*f*a),E=v*(.5*l*o-_*2*h*u),N=v*.25*(o*u-_*h*s*l),R=v*(a*f+_*g*c),I=E*N-R*y;if(!I)break;var k=(w*E-d*R)/I,L=(d*N-w*y)/I;r-=k,e-=L}while((wt(k)>Zn||wt(L)>Zn)&&--i>0);return[r,e]}};function Lr(n,t){var r=Rr(n,t);return[(r[0]+n/jt)/2,(r[1]+t)/2]}Lr.invert=function(n,t){var r=n,e=t,i=25;do{var l=bn(e),u=pn(e),f=pn(2*e),h=u*u,c=l*l,o=pn(r),a=bn(r/2),s=pn(r/2),g=s*s,p=1-c*a*a,_=p?re(l*a)*Ar(v=1/p):v=0,v,d=.5*(2*_*l*s+r/jt)-n,w=.5*(_*u+e)-t,y=.5*v*(c*g+_*l*a*h)+.5/jt,E=v*(o*f/4-_*u*s),N=.125*v*(f*s-_*u*c*o),R=.5*v*(h*a+_*g*l)+.5,I=E*N-R*y,k=(w*E-d*R)/I,L=(d*N-w*y)/I;r-=k,e-=L}while((wt(k)>Zn||wt(L)>Zn)&&--i>0);return[r,e]};function Po(){return ro(Lr).scale(158.837)}function qe(n,t,r){const e=n.slice();return e[48]=t[r],e}function Ze(n,t,r){const e=n.slice();return e[48]=t[r],e}function He(n,t,r){const e=n.slice();return e[48]=t[r],e}function We(n,t,r){const e=n.slice();return e[55]=t[r],e[57]=r,e}function Ue(n,t,r){const e=n.slice();return e[58]=t[r],e}function Ve(n){let t,r=n[8],e,i,l,u,f=je(n),h=n[5],c=[];for(let _=0;_<h.length;_+=1)c[_]=xe(He(n,h,_));let o=n[5],a=[];for(let _=0;_<o.length;_+=1)a[_]=nr(Ze(n,o,_));const s=_=>at(a[_],1,1,()=>{a[_]=null});let g=n[5],p=[];for(let _=0;_<g.length;_+=1)p[_]=tr(qe(n,g,_));return{c(){t=D("g"),f.c(),e=D("g");for(let _=0;_<c.length;_+=1)c[_].c();i=vn();for(let _=0;_<a.length;_+=1)a[_].c();l=vn();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){t=C(_,"g",{id:!0});var v=z(t);f.l(v),e=C(v,"g",{id:!0});var d=z(e);for(let w=0;w<c.length;w+=1)c[w].l(d);i=vn();for(let w=0;w<a.length;w+=1)a[w].l(d);l=vn();for(let w=0;w<p.length;w+=1)p[w].l(d);d.forEach(P),v.forEach(P),this.h()},h(){m(e,"id","artists"),m(t,"id","map")},m(_,v){Q(_,t,v),f.m(t,null),X(t,e);for(let d=0;d<c.length;d+=1)c[d].m(e,null);X(e,i);for(let d=0;d<a.length;d+=1)a[d].m(e,null);X(e,l);for(let d=0;d<p.length;d+=1)p[d].m(e,null);u=!0},p(_,v){if(v[0]&256&&er(r,r=_[8])?(f.d(1),f=je(_),f.c(),f.m(t,e)):f.p(_,v),v[0]&512100){h=_[5];let d;for(d=0;d<h.length;d+=1){const w=He(_,h,d);c[d]?c[d].p(w,v):(c[d]=xe(w),c[d].c(),c[d].m(e,i))}for(;d<c.length;d+=1)c[d].d(1);c.length=h.length}if(v[0]&3874852){o=_[5];let d;for(d=0;d<o.length;d+=1){const w=Ze(_,o,d);a[d]?(a[d].p(w,v),zn(a[d],1)):(a[d]=nr(w),a[d].c(),zn(a[d],1),a[d].m(e,l))}for(rr(),d=o.length;d<a.length;d+=1)s(d);ir()}if(v[0]&204832){g=_[5];let d;for(d=0;d<g.length;d+=1){const w=qe(_,g,d);p[d]?p[d].p(w,v):(p[d]=tr(w),p[d].c(),p[d].m(e,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=g.length}},i(_){if(!u){for(let v=0;v<o.length;v+=1)zn(a[v]);u=!0}},o(_){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)at(a[v]);u=!1},d(_){_&&P(t),f.d(_),qn(c,_),qn(a,_),qn(p,_)}}}function $e(n){let t,r;return{c(){t=D("path"),this.h()},l(e){t=C(e,"path",{d:!0,fill:!0,stroke:!0}),z(t).forEach(P),this.h()},h(){m(t,"d",r=n[7](n[58])),m(t,"fill","none"),m(t,"stroke","lightgray")},m(e,i){Q(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[58]))&&m(t,"d",r)},d(e){e&&P(t)}}}function Je(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Qe(We(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=vn()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=vn()},m(i,l){for(let u=0;u<e.length;u+=1)e[u].m(i,l);Q(i,t,l)},p(i,l){if(l[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const f=We(i,r,u);e[u]?e[u].p(f,l):(e[u]=Qe(f),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){qn(e,i),i&&P(t)}}}function Qe(n){let t,r,e,i;return{c(){t=D("path"),this.h()},l(l){t=C(l,"path",{id:!0,d:!0,stroke:!0,fill:!0}),z(t).forEach(P),this.h()},h(){m(t,"id",r=n[55].id),m(t,"d",e=n[7](n[55])),m(t,"stroke","none"),m(t,"fill",i=Ye[n[4][n[57]]])},m(l,u){Q(l,t,u)},p(l,u){u[0]&8&&r!==(r=l[55].id)&&m(t,"id",r),u[0]&136&&e!==(e=l[7](l[55]))&&m(t,"d",e),u[0]&16&&i!==(i=Ye[l[4][l[57]]])&&m(t,"fill",i)},d(l){l&&P(t)}}}function je(n){let t,r,e,i,l,u,f,h,c=n[10],o=[];for(let s=0;s<c.length;s+=1)o[s]=$e(Ue(n,c,s));let a=n[3]&&Je(n);return{c(){t=D("g"),r=D("path"),i=D("g");for(let s=0;s<o.length;s+=1)o[s].c();l=D("g"),a&&a.c(),u=D("g"),f=D("path"),this.h()},l(s){t=C(s,"g",{id:!0});var g=z(t);r=C(g,"path",{d:!0,fill:!0,stroke:!0}),z(r).forEach(P),g.forEach(P),i=C(s,"g",{id:!0});var p=z(i);for(let d=0;d<o.length;d+=1)o[d].l(p);p.forEach(P),l=C(s,"g",{id:!0});var _=z(l);a&&a.l(_),_.forEach(P),u=C(s,"g",{id:!0});var v=z(u);f=C(v,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),z(f).forEach(P),v.forEach(P),this.h()},h(){m(r,"d",e=n[7](n[11])),m(r,"fill",Zr),m(r,"stroke","none"),m(t,"id","fill"),m(i,"id","graticules"),m(l,"id","countries"),m(f,"d",h=n[7](n[11])),m(f,"fill","none"),m(f,"stroke","lightgray"),m(f,"stroke-width","2"),m(u,"id","outline")},m(s,g){Q(s,t,g),X(t,r),Q(s,i,g);for(let p=0;p<o.length;p+=1)o[p].m(i,null);Q(s,l,g),a&&a.m(l,null),Q(s,u,g),X(u,f)},p(s,g){if(g[0]&128&&e!==(e=s[7](s[11]))&&m(r,"d",e),g[0]&1152){c=s[10];let p;for(p=0;p<c.length;p+=1){const _=Ue(s,c,p);o[p]?o[p].p(_,g):(o[p]=$e(_),o[p].c(),o[p].m(i,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=c.length}s[3]?a?a.p(s,g):(a=Je(s),a.c(),a.m(l,null)):a&&(a.d(1),a=null),g[0]&128&&h!==(h=s[7](s[11]))&&m(f,"d",h)},d(s){s&&P(t),s&&P(i),qn(o,s),s&&P(l),a&&a.d(),s&&P(u)}}}function Ke(n){let t,r;function e(u,f){return f[0]&36&&(t=null),t==null&&(t=!!u[14](u[2][0],u[48][0])),t?Ro:Ao}let i=e(n,[-1,-1]),l=i(n);return{c(){l.c(),r=vn()},l(u){l.l(u),r=vn()},m(u,f){l.m(u,f),Q(u,r,f)},p(u,f){i===(i=e(u,f))&&l?l.p(u,f):(l.d(1),l=i(u),l&&(l.c(),l.m(r.parentNode,r)))},d(u){l.d(u),u&&P(r)}}}function Ao(n){let t,r,e,i,l,u,f,h,c;return{c(){t=D("g"),r=D("g"),e=D("g"),i=D("path"),f=D("path"),this.h()},l(o){t=C(o,"g",{transform:!0});var a=z(t);r=C(a,"g",{transform:!0});var s=z(r);e=C(s,"g",{transform:!0});var g=z(e);i=C(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),z(i).forEach(P),g.forEach(P),s.forEach(P),a.forEach(P),f=C(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),z(f).forEach(P),this.h()},h(){m(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),m(i,"fill","#cc0000"),m(i,"stroke","black"),m(i,"stroke-width","2"),m(e,"transform","translate("+(-tn*2-10)+", 0)"),m(r,"transform",l="rotate("+n[15]([n[16](n[2]),n[17](n[2])],[n[16](n[48]),n[17](n[48])])+")"),m(t,"transform",u="translate("+n[16](n[48])+", "+n[17](n[48])+")"),m(f,"d",h=n[12]([n[16](n[2]),n[17](n[2])],[n[16](n[48]),n[17](n[48])])),m(f,"stroke","#c00"),m(f,"fill","none"),m(f,"opacity","0.5"),m(f,"stroke-width",c=n[18](n[2],n[48]))},m(o,a){Q(o,t,a),X(t,r),X(r,e),X(e,i),Q(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[2]),o[17](o[2])],[o[16](o[48]),o[17](o[48])])+")")&&m(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[48])+", "+o[17](o[48])+")")&&m(t,"transform",u),a[0]&36&&h!==(h=o[12]([o[16](o[2]),o[17](o[2])],[o[16](o[48]),o[17](o[48])]))&&m(f,"d",h),a[0]&36&&c!==(c=o[18](o[2],o[48]))&&m(f,"stroke-width",c)},d(o){o&&P(t),o&&P(f)}}}function Ro(n){let t,r,e,i,l,u,f,h,c;return{c(){t=D("g"),r=D("g"),e=D("g"),i=D("path"),f=D("path"),this.h()},l(o){t=C(o,"g",{transform:!0});var a=z(t);r=C(a,"g",{transform:!0});var s=z(r);e=C(s,"g",{transform:!0});var g=z(e);i=C(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),z(i).forEach(P),g.forEach(P),s.forEach(P),a.forEach(P),f=C(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),z(f).forEach(P),this.h()},h(){m(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),m(i,"fill","#cc0000"),m(i,"stroke","black"),m(i,"stroke-width","2"),m(e,"transform","translate("+tn*2+", 0)"),m(r,"transform",l="rotate("+n[15]([n[16](n[48]),n[17](n[48])],[n[16](n[2]),n[17](n[2])])+")"),m(t,"transform",u="translate("+n[16](n[48])+", "+n[17](n[48])+")"),m(f,"d",h=n[12]([n[16](n[48]),n[17](n[48])],[n[16](n[2]),n[17](n[2])])),m(f,"stroke","#c00"),m(f,"fill","none"),m(f,"opacity","0.5"),m(f,"stroke-width",c=n[18](n[2],n[48]))},m(o,a){Q(o,t,a),X(t,r),X(r,e),X(e,i),Q(o,f,a)},p(o,a){a[0]&36&&l!==(l="rotate("+o[15]([o[16](o[48]),o[17](o[48])],[o[16](o[2]),o[17](o[2])])+")")&&m(r,"transform",l),a[0]&32&&u!==(u="translate("+o[16](o[48])+", "+o[17](o[48])+")")&&m(t,"transform",u),a[0]&36&&h!==(h=o[12]([o[16](o[48]),o[17](o[48])],[o[16](o[2]),o[17](o[2])]))&&m(f,"d",h),a[0]&36&&c!==(c=o[18](o[2],o[48]))&&m(f,"stroke-width",c)},d(o){o&&P(t),o&&P(f)}}}function xe(n){let t,r,e,i,l,u,f,h,c,o=n[2][0]!==n[48][0]&&Ke(n);return{c(){t=D("g"),r=D("line"),f=D("circle"),o&&o.c(),this.h()},l(a){t=C(a,"g",{});var s=z(t);r=C(s,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),z(r).forEach(P),f=C(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),z(f).forEach(P),o&&o.l(s),s.forEach(P),this.h()},h(){m(r,"x2",e=yn(n[6],n[48][1])),m(r,"y2",i=wn(n[6],n[48][1])),m(r,"x1",l=n[16](n[48])),m(r,"y1",u=n[17](n[48])),m(r,"stroke","black"),m(f,"cx",h=yn(n[6],n[48][1])),m(f,"cy",c=wn(n[6],n[48][1])),m(f,"r","2"),m(f,"fill","black")},m(a,s){Q(a,t,s),X(t,r),X(t,f),o&&o.m(t,null)},p(a,s){s[0]&96&&e!==(e=yn(a[6],a[48][1]))&&m(r,"x2",e),s[0]&96&&i!==(i=wn(a[6],a[48][1]))&&m(r,"y2",i),s[0]&32&&l!==(l=a[16](a[48]))&&m(r,"x1",l),s[0]&32&&u!==(u=a[17](a[48]))&&m(r,"y1",u),s[0]&96&&h!==(h=yn(a[6],a[48][1]))&&m(f,"cx",h),s[0]&96&&c!==(c=wn(a[6],a[48][1]))&&m(f,"cy",c),a[2][0]!==a[48][0]?o?o.p(a,s):(o=Ke(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&P(t),o&&o.d()}}}function Lo(n){let t,r,e,i;return{c(){t=D("image"),i=D("circle"),this.h()},l(l){t=C(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),z(t).forEach(P),i=C(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),z(i).forEach(P),this.h()},h(){m(t,"id",r=U(n[48][0])+"-image-map"),m(t,"href",e=ft+n[19](n[48][0])),Sn(t,"outline","none"),m(t,"height",tn*4),m(t,"width",tn*4),m(t,"x",-tn*2),m(t,"y",-tn*2),m(i,"cx","0"),m(i,"cy","0"),m(i,"r",tn*2),m(i,"stroke","black"),m(i,"fill","none")},m(l,u){Q(l,t,u),Q(l,i,u)},p(l,u){u[0]&32&&r!==(r=U(l[48][0])+"-image-map")&&m(t,"id",r),u[0]&32&&e!==(e=ft+l[19](l[48][0]))&&m(t,"href",e)},d(l){l&&P(t),l&&P(i)}}}function Io(n){let t,r,e,i;return{c(){t=D("image"),i=D("circle"),this.h()},l(l){t=C(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),z(t).forEach(P),i=C(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),z(i).forEach(P),this.h()},h(){m(t,"id",r=U(n[48][0])+"-image-map"),m(t,"href",e=ft+n[19](n[48][0])),Sn(t,"outline","none"),m(t,"height",tn*4),m(t,"width",tn*4),m(t,"x",-tn*2),m(t,"y",-tn*2),m(i,"cx","0"),m(i,"cy","0"),m(i,"r",tn*2),m(i,"stroke","#c00"),m(i,"stroke-width","2"),m(i,"fill","none")},m(l,u){Q(l,t,u),Q(l,i,u)},p(l,u){u[0]&32&&r!==(r=U(l[48][0])+"-image-map")&&m(t,"id",r),u[0]&32&&e!==(e=ft+l[19](l[48][0]))&&m(t,"href",e)},d(l){l&&P(t),l&&P(i)}}}function nr(n){let t,r,e,i,l,u,f;function h(_,v){return _[48][0]===_[2][0]?Io:Lo}let c=h(n),o=c(n);function a(..._){return n[25](n[48],..._)}function s(..._){return n[26](n[48],..._)}function g(..._){return n[27](n[48],..._)}function p(..._){return n[28](n[48],..._)}return{c(){t=D("g"),o.c(),this.h()},l(_){t=C(_,"g",{id:!0,transform:!0,style:!0});var v=z(t);o.l(v),v.forEach(P),this.h()},h(){m(t,"id",r=U(n[48][0])+"-group-map"),m(t,"transform",e=n[13](n[16](n[48]),n[17](n[48]))),Sn(t,"outline","none")},m(_,v){Q(_,t,v),o.m(t,null),l=!0,u||(f=[Jn(t,"focus",a),Jn(t,"mouseover",s),Jn(t,"blur",g),Jn(t,"mouseout",p)],u=!0)},p(_,v){n=_,c===(c=h(n))&&o?o.p(n,v):(o.d(1),o=c(n),o&&(o.c(),o.m(t,null))),(!l||v[0]&32&&r!==(r=U(n[48][0])+"-group-map"))&&m(t,"id",r),(!l||v[0]&32&&e!==(e=n[13](n[16](n[48]),n[17](n[48]))))&&m(t,"transform",e)},i(_){l||(Yr(()=>{i||(i=oe(t,ae,{},!0)),i.run(1)}),l=!0)},o(_){i||(i=oe(t,ae,{},!1)),i.run(0),l=!1},d(_){_&&P(t),o.d(),_&&i&&i.end(),u=!1,Br(f)}}}function tr(n){let t,r,e,i,l,u,f,h,c=n[48][0]+"",o,a,s;return{c(){t=D("g"),r=D("rect"),h=D("text"),o=Rt(c),this.h()},l(g){t=C(g,"g",{transform:!0});var p=z(t);r=C(p,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),z(r).forEach(P),h=C(p,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var _=z(h);o=Lt(_,c),_.forEach(P),p.forEach(P),this.h()},h(){m(r,"id",e=U(n[48][0])+"-rect-map"),m(r,"x",i=-(Qn("#"+U(n[48][0])+"-text-map",n[48][0])+An)/2),m(r,"width",l=Qn("#"+U(n[48][0])+"-text-map",n[48][0])+An),m(r,"y",u=(At*2.5+jn("#"+U(n[48][0])+"-text-map",n[48][0]))/2),m(r,"height",f=jn("#"+U(n[48][0])+"-text-map",n[48][0])+An-10),m(r,"fill","white"),m(r,"stroke","black"),m(r,"rx","15"),m(r,"opacity","0"),m(r,"class","pointer-events-none"),m(h,"id",a=U(n[48][0])+"-text-map"),m(h,"opacity","0"),m(h,"x","0"),m(h,"y",At*2.75),m(h,"text-anchor","middle"),m(t,"transform",s=n[13](n[16](n[48]),n[17](n[48])))},m(g,p){Q(g,t,p),X(t,r),X(t,h),X(h,o)},p(g,p){p[0]&32&&e!==(e=U(g[48][0])+"-rect-map")&&m(r,"id",e),p[0]&32&&i!==(i=-(Qn("#"+U(g[48][0])+"-text-map",g[48][0])+An)/2)&&m(r,"x",i),p[0]&32&&l!==(l=Qn("#"+U(g[48][0])+"-text-map",g[48][0])+An)&&m(r,"width",l),p[0]&32&&u!==(u=(At*2.5+jn("#"+U(g[48][0])+"-text-map",g[48][0]))/2)&&m(r,"y",u),p[0]&32&&f!==(f=jn("#"+U(g[48][0])+"-text-map",g[48][0])+An-10)&&m(r,"height",f),p[0]&32&&c!==(c=g[48][0]+"")&&Or(o,c),p[0]&32&&a!==(a=U(g[48][0])+"-text-map")&&m(h,"id",a),p[0]&32&&s!==(s=g[13](g[16](g[48]),g[17](g[48])))&&m(t,"transform",s)},d(g){g&&P(t)}}}function To(n){let t,r,e,i,l,u,f,h,c,o,a,s,g,p,_,v,d=n[7]&&Ve(n);return{c(){t=br("div"),r=D("svg"),e=D("defs"),i=D("style"),l=Rt(`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),d&&d.c(),u=D("svg"),f=D("defs"),h=D("style"),c=Rt(`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),o=D("g"),a=D("path"),s=D("polygon"),g=D("path"),this.h()},l(w){t=Fr(w,"DIV",{id:!0,class:!0,style:!0});var y=z(t);r=C(y,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var E=z(r);e=C(E,"defs",{});var N=z(e);i=C(N,"style",{});var R=z(i);l=Lt(R,`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),R.forEach(P),N.forEach(P),d&&d.l(E),u=C(E,"svg",{id:!0,xmlns:!0,viewBox:!0});var I=z(u);f=C(I,"defs",{});var k=z(f);h=C(k,"style",{});var L=z(h);c=Lt(L,`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),L.forEach(P),k.forEach(P),o=C(I,"g",{transform:!0});var b=z(o);a=C(b,"path",{d:!0}),z(a).forEach(P),s=C(b,"polygon",{class:!0,points:!0}),z(s).forEach(P),g=C(b,"path",{class:!0,d:!0}),z(g).forEach(P),b.forEach(P),I.forEach(P),E.forEach(P),y.forEach(P),this.h()},h(){m(a,"d","M4.24,28.34l4.24-11.31L4.24,5.71,0,17.02l4.24,11.31Zm0-2.85l-2.8-7.47H7.04s-2.8,7.47-2.8,7.47Z"),m(s,"class","cls-1"),m(s,"points","4.24 8.29 7.04 15.76 1.44 15.76 4.24 8.29"),m(g,"class","cls-2"),m(g,"d","M1.83,.24h1.63l1.28,1.85h.01V.24h1.61V4.58h-1.62l-1.28-1.85h-.01v1.85H1.83V.24Z"),m(o,"transform",n[9]),m(u,"id","Layer_1"),m(u,"xmlns","http://www.w3.org/2000/svg"),m(u,"viewBox",p="0 0 "+n[0]+" "+n[1]),m(r,"class","inline-block absolute top-0 left-0"),m(r,"viewBox",_="0, 0, "+n[0]+", "+n[1]),m(r,"preserveAspectRatio","xMidYMid meet"),m(t,"id","container"),m(t,"class","inline-block relative align-top overflow-hidden"),Sn(t,"width",n[0]+"px"),Sn(t,"height",n[1]+"px")},m(w,y){Q(w,t,y),X(t,r),X(r,e),X(e,i),X(i,l),d&&d.m(r,null),X(r,u),X(u,f),X(f,h),X(h,c),X(u,o),X(o,a),X(o,s),X(o,g),v=!0},p(w,y){w[7]?d?(d.p(w,y),y[0]&128&&zn(d,1)):(d=Ve(w),d.c(),zn(d,1),d.m(r,u)):d&&(rr(),at(d,1,1,()=>{d=null}),ir()),(!v||y[0]&512)&&m(o,"transform",w[9]),(!v||y[0]&3&&p!==(p="0 0 "+w[0]+" "+w[1]))&&m(u,"viewBox",p),(!v||y[0]&3&&_!==(_="0, 0, "+w[0]+", "+w[1]))&&m(r,"viewBox",_),(!v||y[0]&1)&&Sn(t,"width",w[0]+"px"),(!v||y[0]&2)&&Sn(t,"height",w[1]+"px")},i(w){v||(zn(d),v=!0)},o(w){at(d),v=!1},d(w){w&&P(t),d&&d.d()}}}const tn=15,At=20,An=20,ot=1e3;function zo(n,t,r){let e,i,l,u=new Worker(""+new URL("../workers/sim-nodes.worker-6d6b735a.js",import.meta.url).href);const f=A=>{r(5,d=A.data.nodes),r(2,w=d.filter(G=>G[0]===w[0])[0])};u.onmessage=f;let{width:h}=t,{height:c}=t,o,a,s,g,p,_,v,d,w,y,E;const N=Gi(),R=N.lines(),I=N.outline();let k,L,b;const S=(A,G)=>{if(A[0]===G[0]&&A[1]===G[1])return"";const x=Ur(),j=vo(x);return G[0]-A[0],G[1]-A[1],j.lineStart(),j.point(A[0],A[1]),j.point(G[0],G[1]),j.lineEnd(),x.toString()};let q;const F=(A,G)=>`translate(${A}, ${G})`,Y=A=>{_=p.filter(([,G])=>G.length>1?G[0].year<=A&&G[1].year>A:G[0].year<=A);for(const G of _)G.x=yn(k,G[1]),G.y=wn(k,G[1])},M=(A,G)=>{const x=v.find(j=>j[0]===G);return x?!!x[1].find(dn=>dn.influenced===A):!1},T=(A,G)=>Math.atan2(G[1]-A[1],G[0]-A[0])*180/Math.PI,Z=(A,G)=>{r(2,w=p.filter(K=>K[0]===A)[0]),G.push(w);let x=180,j=180,dn=-180,nn=-180;k.scale(b),k.angle(0);for(const K of G)K.x=yn(k,K[1]),K.y=wn(k,K[1]),K[1][0].lon>dn&&(dn=K[1][0].lon),K[1][0].lat>nn&&(nn=K[1][0].lat),K[1][0].lon<x&&(x=K[1][0].lon),K[1][0].lat<j&&(j=K[1][0].lat);const St=[(dn+x)/2,(nn+j)/2],ie=[[nn,x],[j,dn]],Vn=k(ie[0]),$n=k(ie[1]),Dr=.6/Math.max(Math.abs($n[1]-Vn[1])/h,Math.abs($n[0]-Vn[0])/c);k.center(St),k.translate([h/2,c/2]),k.scale(Dr*b),Math.abs($n[0]-Vn[0])>Math.abs($n[1]-Vn[1])?(k.angle(90),r(24,i=-90)):r(24,i=0),r(8,e+=1);for(const K of G)K.x=yn(k,K[1]),K.y=wn(k,K[1]);u.postMessage({nodes:G,radius:tn}),u.postMessage({nodes:G,radius:tn})},V=A=>A.hasOwnProperty("x")?A.x:yn(k,A[1]),H=A=>A.hasOwnProperty("y")?A.y:wn(k,A[1]),Mn=(A,G)=>{const x=A[1][0].year,j=G[1][0].year;return q(Math.abs(j-x))},an=A=>g.filter(x=>x.artist===A)[0].thumbnail,fn=A=>{Kn(A+"-text-map").transition().duration(ot).attr("opacity",1),Kn(A+"-rect-map").transition().duration(ot).attr("opacity",1)},en=A=>{Kn(A+"-text-map").transition().duration(ot).attr("opacity",0),Kn(A+"-rect-map").transition().duration(ot).attr("opacity",0)},Pn=(A,G,x,j,dn)=>{r(3,o=So(A,A.objects.countries)),a=ko(A.objects.countries.geometries),r(6,k=Po().fitSize([h,c+4],o)),r(7,L=Vi().projection(k)),b=k.scale(),r(4,s=new Array(o.features.length));for(let nn=0;nn<s.length;++nn)r(4,s[nn]=se(a[nn],St=>s[St])+1|0,s);v=x,j?(y=ti(j,nn=>nn.year),E=se(j,nn=>nn.year),p=Wr(j,nn=>nn.artist),Y(y),q=Qt().domain([0,E-y]).range([2,tn]),Qt().domain([y,E]).range([0,h])):console.error("Unable to load Artist Locations!"),g=dn},_n=(A,G)=>fn("#"+U(A[0])),Ir=(A,G)=>fn("#"+U(A[0])),Tr=(A,G)=>en("#"+U(A[0])),zr=(A,G)=>en("#"+U(A[0]));return n.$$set=A=>{"width"in A&&r(0,h=A.width),"height"in A&&r(1,c=A.height)},n.$$.update=()=>{n.$$.dirty[0]&4,n.$$.dirty[0]&16777219&&r(9,l=i===0?`translate(${h-25}, ${c-60}) rotate(${i}) scale(2)`:`translate(${h-65}, ${c-5}) rotate(${i}) scale(2)`)},r(0,h=0),r(1,c=0),r(3,o=null),a=null,r(4,s=[]),p=[],_=[],v=[],r(5,d=[]),y=0,E=2100,r(8,e=0),r(24,i=0),[h,c,w,o,s,d,k,L,e,l,R,I,S,F,M,T,V,H,Mn,an,fn,en,Z,Pn,i,_n,Ir,Tr,zr]}class Bo extends Cr{constructor(t){super(),Gr(this,t,zo,To,er,{width:0,height:1,DisplayInfluences:22,Initialize:23},null,[-1,-1])}get DisplayInfluences(){return this.$$.ctx[22]}get Initialize(){return this.$$.ctx[23]}}export{Bo as M};
