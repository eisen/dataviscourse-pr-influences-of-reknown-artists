import{S as ve,i as Ie,s as be,k as we,P as ue,l as Pe,m as se,Q as he,h as ne,n as J,p as re,b as Re,F as de,A as ce,O as Te}from"./index-8d2061e5.js";import{r as Ce}from"./config-f23957d4.js";import{C as ke,s as le}from"./helpers-d31f3b08.js";import{o as fe}from"./ordinal-ceb38b17.js";import{r as ge}from"./init-08c38208.js";import{p as pe,c as te,s as Y,h as me,a as xe,e as q,t as ze,b as ae,m as oe,d as ye,f as j,i as Me,j as Se,k as je,g as Ae}from"./math-f900f350.js";function Z(r){return function(){return r}}function Be(r){return r.innerRadius}function De(r){return r.outerRadius}function Ee(r){return r.startAngle}function _e(r){return r.endAngle}function qe(r){return r&&r.padAngle}function Ge(r,d,y,l,c,v,g,n){var o=y-r,t=l-d,T=g-c,u=n-v,s=u*o-T*t;if(!(s*s<q))return s=(T*(d-v)-u*(r-c))/s,[r+s*o,d+s*t]}function ie(r,d,y,l,c,v,g){var n=r-y,o=d-l,t=(g?v:-v)/ae(n*n+o*o),T=t*o,u=-t*n,s=r+T,b=d+u,A=y+T,P=l+u,x=(s+A)/2,R=(b+P)/2,k=A-s,B=P-b,G=k*k+B*B,U=c-v,p=s*P-A*b,D=(B<0?-1:1)*ae(je(0,U*U*G-p*p)),I=(p*B-k*D)/G,f=(-p*k-B*D)/G,i=(p*B+k*D)/G,M=(-p*k+B*D)/G,a=I-x,e=f-R,m=i-x,h=M-R;return a*a+e*e>m*m+h*h&&(I=i,f=M),{cx:I,cy:f,x01:-T,y01:-u,x11:I*(c/U-1),y11:f*(c/U-1)}}function Le(){var r=Be,d=De,y=Z(0),l=null,c=Ee,v=_e,g=qe,n=null;function o(){var t,T,u=+r.apply(this,arguments),s=+d.apply(this,arguments),b=c.apply(this,arguments)-me,A=v.apply(this,arguments)-me,P=ye(A-b),x=A>b;if(n||(n=t=xe()),s<u&&(T=s,s=u,u=T),!(s>q))n.moveTo(0,0);else if(P>ze-q)n.moveTo(s*te(b),s*Y(b)),n.arc(0,0,s,b,A,!x),u>q&&(n.moveTo(u*te(A),u*Y(A)),n.arc(0,0,u,A,b,x));else{var R=b,k=A,B=b,G=A,U=P,p=P,D=g.apply(this,arguments)/2,I=D>q&&(l?+l.apply(this,arguments):ae(u*u+s*s)),f=oe(ye(s-u)/2,+y.apply(this,arguments)),i=f,M=f,a,e;if(I>q){var m=Me(I/u*Y(D)),h=Me(I/s*Y(D));(U-=m*2)>q?(m*=x?1:-1,B+=m,G-=m):(U=0,B=G=(b+A)/2),(p-=h*2)>q?(h*=x?1:-1,R+=h,k-=h):(p=0,R=k=(b+A)/2)}var z=s*te(R),F=s*Y(R),Q=u*te(G),W=u*Y(G);if(f>q){var $=s*te(k),S=s*Y(k),H=u*te(B),N=u*Y(B),C;if(P<pe&&(C=Ge(z,F,H,N,$,S,Q,W))){var O=z-C[0],X=F-C[1],V=$-C[0],E=S-C[1],w=1/Y(Se((O*V+X*E)/(ae(O*O+X*X)*ae(V*V+E*E)))/2),_=ae(C[0]*C[0]+C[1]*C[1]);i=oe(f,(u-_)/(w-1)),M=oe(f,(s-_)/(w+1))}}p>q?M>q?(a=ie(H,N,z,F,s,M,x),e=ie($,S,Q,W,s,M,x),n.moveTo(a.cx+a.x01,a.cy+a.y01),M<f?n.arc(a.cx,a.cy,M,j(a.y01,a.x01),j(e.y01,e.x01),!x):(n.arc(a.cx,a.cy,M,j(a.y01,a.x01),j(a.y11,a.x11),!x),n.arc(0,0,s,j(a.cy+a.y11,a.cx+a.x11),j(e.cy+e.y11,e.cx+e.x11),!x),n.arc(e.cx,e.cy,M,j(e.y11,e.x11),j(e.y01,e.x01),!x))):(n.moveTo(z,F),n.arc(0,0,s,R,k,!x)):n.moveTo(z,F),!(u>q)||!(U>q)?n.lineTo(Q,W):i>q?(a=ie(Q,W,$,S,u,-i,x),e=ie(z,F,H,N,u,-i,x),n.lineTo(a.cx+a.x01,a.cy+a.y01),i<f?n.arc(a.cx,a.cy,i,j(a.y01,a.x01),j(e.y01,e.x01),!x):(n.arc(a.cx,a.cy,i,j(a.y01,a.x01),j(a.y11,a.x11),!x),n.arc(0,0,u,j(a.cy+a.y11,a.cx+a.x11),j(e.cy+e.y11,e.cx+e.x11),x),n.arc(e.cx,e.cy,i,j(e.y11,e.x11),j(e.y01,e.x01),!x))):n.arc(0,0,u,G,B,x)}if(n.closePath(),t)return n=null,t+""||null}return o.centroid=function(){var t=(+r.apply(this,arguments)+ +d.apply(this,arguments))/2,T=(+c.apply(this,arguments)+ +v.apply(this,arguments))/2-pe/2;return[te(T)*t,Y(T)*t]},o.innerRadius=function(t){return arguments.length?(r=typeof t=="function"?t:Z(+t),o):r},o.outerRadius=function(t){return arguments.length?(d=typeof t=="function"?t:Z(+t),o):d},o.cornerRadius=function(t){return arguments.length?(y=typeof t=="function"?t:Z(+t),o):y},o.padRadius=function(t){return arguments.length?(l=t==null?null:typeof t=="function"?t:Z(+t),o):l},o.startAngle=function(t){return arguments.length?(c=typeof t=="function"?t:Z(+t),o):c},o.endAngle=function(t){return arguments.length?(v=typeof t=="function"?t:Z(+t),o):v},o.padAngle=function(t){return arguments.length?(g=typeof t=="function"?t:Z(+t),o):g},o.context=function(t){return arguments.length?(n=t==null?null:t,o):n},o}function Fe(r){let d,y,l,c,v;return{c(){d=we("div"),y=ue("svg"),l=ue("g"),this.h()},l(g){d=Pe(g,"DIV",{id:!0,class:!0,style:!0});var n=se(d);y=he(n,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var o=se(y);l=he(o,"g",{id:!0,transform:!0}),se(l).forEach(ne),o.forEach(ne),n.forEach(ne),this.h()},h(){J(l,"id","chordViz"),J(l,"transform",c="translate("+r[0]/2+", "+r[2]*1.1+")"),J(y,"class","inline-block absolute top-0 left-0"),J(y,"viewBox",v="0, 0, "+r[0]+", "+r[1]),J(y,"preserveAspectRatio","xMidYMid meet"),J(d,"id","container"),J(d,"class","inline-block relative align-top overflow-hidden"),re(d,"width",r[0]+"px"),re(d,"height",r[1]+"px")},m(g,n){Re(g,d,n),de(d,y),de(y,l),r[6](l)},p(g,[n]){n&5&&c!==(c="translate("+g[0]/2+", "+g[2]*1.1+")")&&J(l,"transform",c),n&3&&v!==(v="0, 0, "+g[0]+", "+g[1])&&J(y,"viewBox",v),n&1&&re(d,"width",g[0]+"px"),n&2&&re(d,"height",g[1]+"px")},i:ce,o:ce,d(g){g&&ne(d),r[6](null)}}}let He="Century",Ne="Artistic Mediums";function Oe(r,d,y){let l,c,v,g,n,o,{width:t}=d,{height:T}=d,u,s,b,A=["sculptor","painter","printmaker","draughtsman","photography","film","watercolourist","oilpainter","illustrator","muralist","architect","ink","ceramicist","calligrapher","engraving"],P=A.length,x=fe().domain(A).range(ge(P)),R=[{cent:1e3,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1100,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1200,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1300,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1400,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)},{cent:1500,people:[],nums:[1],death:[0],meds:new Array(P).fill(0)},{cent:1600,people:[],nums:[1],death:[1],meds:new Array(P).fill(0)},{cent:1700,people:[],nums:[1],death:[2],meds:new Array(P).fill(0)},{cent:1800,people:[],nums:[1],death:[3],meds:new Array(P).fill(0)},{cent:1900,people:[],nums:[1],death:[4],meds:new Array(P).fill(0)}],k=fe().domain(ge(12)).range(ke);function B(p){var D,I=c*.9125,f=p.startAngle*180/Math.PI-90,i=p.endAngle*180/Math.PI-90,M=null;M||(M=D=xe()),M.moveTo(I*Math.cos(f*Math.PI/180),I*Math.sin(f*Math.PI/180)),M.arc(0,0,I,f*Math.PI/180,i*Math.PI/180);let a,e=i>0&&i<90||i<-90&&i>-180?.4:1.1;a=180-90-(90-(Math.abs(i-f)*e+f));let m=I*Math.sin(a*Math.PI/180),h=I*Math.cos(a*Math.PI/180),z=m/2+Math.abs(i-f)*.1*5,F=-1;i>-90&&i<90?F=Math.abs(i-f)*.1*10:F=-1*(Math.abs(i-f)*.1*10);let Q=h/2+F,W,$=i>0&&i<90||i<-90&&i>-180?1.1:.4;W=180-90-(90-(i-Math.abs(i-f)*$));let S=I*Math.sin(W*Math.PI/180),H=I*Math.cos(W*Math.PI/180),N=S/2+Math.abs(i-f)*.1*5,C=-1;i>-90&&i<90?C=Math.abs(i-f)*.1*10:C=-1*(Math.abs(i-f)*.1*10);let O=H/2+C,X=[];for(let V=0;V<A.length;V++)X.push(V*((l*2+.05*l)/A.length)-l*.9125);if(M.quadraticCurveTo(Q,z,p.half==0?g/2:-g/2,X[p.death]),M.quadraticCurveTo(O,N,I*Math.cos(f*Math.PI/180),I*Math.sin(f*Math.PI/180)),D)return M=null,D+""||null}const G=(p,D)=>{if(p&&D){b=Ae(D,e=>e.artist),s=Ae(p,e=>e.artist);for(let e=0;e<s.length;e++)R[Math.floor(Number(s[e][1][0].year)/100)-10].nums[0]++,R[Math.floor(Number(s[e][1][0].year)/100)-10].people.push(s[e][0]);for(let e=0;e<R.length;e++)for(let m=0;m<R[e].people.length;m++)for(let h=0;h<b.length;h++)if(R[e].people[m]==b[h][0]){for(let z=0;z<b[h][1].length;z++)R[e].meds[x(b[h][1][z].medium)]+=1;break}let I=0;for(let e=0;e<R.length;e++)for(let m=0;m<R[e].meds.length;m++)I+=R[e].meds[m];let f=Le().innerRadius(c*.925).outerRadius(c).cornerRadius(3);le(u).datum(function(e,m){let h=R.sort(function(w,_){let L=0,K=0;for(let ee=0;ee<w.nums.length;ee++)L+=w.nums[ee];for(let ee=0;ee<_.nums.length;ee++)K+=_.nums[ee];return L>K?1:K>L?-1:0}),z=[],F=R.length,Q=v*Math.PI/180,S=2*v*Math.PI/180/I,H=l/270*.02,N=-1,C=(Math.PI-Q)/2,O=(Math.PI-Q)/2,X=0,V=!1;h[0].meds[0]=1,h[1].meds[11]=1;let E=!1;for(let w=0;w<F;w++){N++,E=!0;for(let _=0;_<h[w].meds.length;_++)if(h[w].meds[_]>0){let L=h[w].meds[_];if(X+=S*L,X<v*Math.PI/180)z.push({index:N,startAngle:E&&w>0?H+C:C,endAngle:E&&w>0?H+S*L+C:S*L+C,value:29630,nums:h[w].meds[_],death:_,colorIndex:N,half:0,cent:h[w].cent,addLabel:!!E}),C+=E&&w>0?H+S*L:S*L;else{let K=2*Math.PI;z.push({index:N,startAngle:E&&w>0?K-H-S*L-O:K-S*L-O,endAngle:E&&w>0?K-H-O:K-O,value:29630,nums:h[w].meds[_],death:_,colorIndex:N,half:1,cent:h[w].cent,addLabel:!!(E||!V)}),V||(V=!0),O+=E&&w>0?H+S*L:S*L}E&&(E=!1)}}return z}),le(u).append("g").attr("class","ribbons").selectAll("path").data(e=>e).enter().append("path").attr("d",B).style("fill",function(e){return k(e.colorIndex)}).style("stroke",(e,m)=>Ce(k(e.colorIndex)).darker()).style("opacity",.5);let i=le(u).append("g").attr("class","groups").selectAll("g").data(e=>e).enter().append("g");i.append("path").style("fill",function(e,m){return k(e.index)}).style("stroke","white").attr("d",f),i.append("g").attr("class","groups").selectAll("g").data(e=>e).enter().append("g"),i.append("rect").data(A).attr("x",-1*g/2).attr("y",(e,m)=>m*((l*2+ +(.05*l))/A.length)-l*.9-.05*l).attr("rx",6).attr("ry",6).attr("width",g).attr("height",.1*l).attr("fill","#00005C").attr("opacity",1),i.append("text").data(A).attr("x",0).attr("y",(e,m)=>m*((l*2+ +(.05*l))/A.length)-l*.875).attr("fill","white").style("text-anchor","middle").style("font-size",n).text(e=>e.charAt(0).toUpperCase()+e.slice(1));let M=c*.9125;i.append("text").data(e=>e).attr("x",function(e,m){let h=e.half==0?M*Math.cos((e.endAngle*180/Math.PI-90)*Math.PI/180):M*Math.cos((e.startAngle*180/Math.PI-90)*Math.PI/180);return e.half==0?h+=65*(t/930):h-=65*(t/930),h}).attr("y",function(e,m){let h=e.half==0?M*Math.sin((e.endAngle*180/Math.PI-90)*Math.PI/180):M*Math.sin((e.startAngle*180/Math.PI-90)*Math.PI/180);return Math.abs(e.startAngle*180/Math.PI-90-(e.endAngle*180/Math.PI-90))<1.5*(2*v/I)&&(h-=15),h}).attr("fill","black").style("text-anchor","middle").style("font-size",n).text(e=>e.addLabel?e.cent:"");let a=le(u).append("g").attr("class","groups");a.append("text").attr("x",0).attr("y",l/270*-270).style("text-anchor","middle").style("font-size",o>20?20:o).text("Distribution of Artists by "+He+" Over "+Ne),a.append("rect").attr("x",c*.17+125).attr("y",l/270*300-15).attr("width",g*.5).attr("height",.05*l).attr("fill","white").attr("stroke","black"),a.append("rect").attr("x",-c*.7+120).attr("y",l/270*300-15).attr("width",g*.5).attr("height",.05*l).attr("fill","white").attr("stroke","black"),a.append("text").attr("x",c*.17).attr("y",l/270*300-5).style("font-size",o-6>14?14:o-6).text("Select an Attribute:"),a.append("text").attr("x",-c*.7).attr("y",l/270*300-5).style("font-size",o-6>14?14:o-6).text("Select a Grouping:")}else console.error("Unable to load Artist Locations!")};function U(p){Te[p?"unshift":"push"](()=>{u=p,y(3,u)})}return r.$$set=p=>{"width"in p&&y(0,t=p.width),"height"in p&&y(1,T=p.height)},r.$$.update=()=>{r.$$.dirty&2&&y(2,l=T*.45>275?275:T*.45),r.$$.dirty&1&&y(5,c=t*.45>390?390:t*.45),r.$$.dirty&4&&(v=l/270*90-10),r.$$.dirty&32&&(g=c/370*120),r.$$.dirty&39&&(n=T<=t?l/270*15:c/370*15),r.$$.dirty&39&&(o=T<=t?l/170*20:c/270*20)},s=[],b=[],[t,T,l,u,G,c,U]}class Je extends ve{constructor(d){super(),Ie(this,d,Oe,Fe,be,{width:0,height:1,Initialize:4})}get Initialize(){return this.$$.ctx[4]}}export{Je as C};
