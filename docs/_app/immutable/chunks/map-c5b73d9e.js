import{S as zr,i as Dr,s as nr,k as Gr,O as G,q as Rt,l as Cr,m as D,P as C,r as Lt,h as A,n as _,p as Mn,b as K,F as X,f as Tn,g as tr,t as ut,d as er,e as zn,H as at,K as $n,u as Fr,J as Or,Q as oe,L as Yr}from"./index-fa249ad2.js";import{c as br,i as It,d as le,e as ue,f as Br,s as ft}from"./config-fd755020.js";import{G as vn,a as yn,A as U,T as Jn,b as Kn}from"./helpers-06848ef0.js";import{f as ae}from"./index-91213610.js";import{r as Rn,i as Xr}from"./init-08c38208.js";import{s as Qn}from"./select-087c8348.js";import{e as fe,g as qr,a as Zr}from"./math-f900f350.js";function ot(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Hr(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function rr(n){let t,r,e;n.length!==2?(t=ot,r=(s,p)=>ot(n(s),p),e=(s,p)=>n(s)-p):(t=n===ot||n===Hr?n:Wr,r=n,e=n);function i(s,p,c=0,o=s.length){if(c<o){if(t(p,p)!==0)return o;do{const f=c+o>>>1;r(s[f],p)<0?c=f+1:o=f}while(c<o)}return c}function l(s,p,c=0,o=s.length){if(c<o){if(t(p,p)!==0)return o;do{const f=c+o>>>1;r(s[f],p)<=0?c=f+1:o=f}while(c<o)}return c}function u(s,p,c=0,o=s.length){const f=i(s,p,c,o-1);return f>c&&e(s[f-1],p)>-e(s[f],p)?f-1:f}return{left:i,center:u,right:l}}function Wr(){return 0}function Ur(n){return n===null?NaN:+n}const Vr=rr(ot),$r=Vr.right;rr(Ur).center;const Jr=$r;class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const l=r[i],u=t+l,s=Math.abs(t)<Math.abs(l)?t-(u-l):l-(u-t);s&&(r[e++]=s),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,l,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,l=i-(u-e),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(i=l*2,e=u+i,i==e-u&&(u=e))}return u}}var Tt=Math.sqrt(50),zt=Math.sqrt(10),Dt=Math.sqrt(2);function Kr(n,t,r){var e,i=-1,l,u,s;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(l=n,n=t,t=l),(s=ir(n,t,r))===0||!isFinite(s))return[];if(s>0){let p=Math.round(n/s),c=Math.round(t/s);for(p*s<n&&++p,c*s>t&&--c,u=new Array(l=c-p+1);++i<l;)u[i]=(p+i)*s}else{s=-s;let p=Math.round(n*s),c=Math.round(t*s);for(p/s<n&&++p,c/s>t&&--c,u=new Array(l=c-p+1);++i<l;)u[i]=(p+i)/s}return e&&u.reverse(),u}function ir(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),l=e/Math.pow(10,i);return i>=0?(l>=Tt?10:l>=zt?5:l>=Dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=Tt?10:l>=zt?5:l>=Dt?2:1)}function Qr(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),l=e/i;return l>=Tt?i*=10:l>=zt?i*=5:l>=Dt&&(i*=2),t<n?-i:i}function se(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function jr(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*xr(n){for(const t of n)yield*t}function or(n){return Array.from(xr(n))}function ni(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(l){for(i=0;i<r;++i)e[i]=n[i]*(1-l)+t[i]*l;return e}}function ti(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ei(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),l=new Array(r),u;for(u=0;u<e;++u)i[u]=jt(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(s){for(u=0;u<e;++u)l[u]=i[u](s);return l}}function ri(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function ii(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=jt(n[i],t[i]):e[i]=t[i];return function(l){for(i in r)e[i]=r[i](l);return e}}function jt(n,t){var r=typeof t,e;return t==null||r==="boolean"?br(t):(r==="number"?It:r==="string"?(e=le(t))?(t=e,ue):Br:t instanceof le?ue:t instanceof Date?ri:ti(t)?ni:Array.isArray(t)?ei:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ii:It)(n,t)}function oi(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function li(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function st(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function Dn(n){return n=st(Math.abs(n)),n?n[1]:NaN}function ui(n,t){return function(r,e){for(var i=r.length,l=[],u=0,s=n[0],p=0;i>0&&s>0&&(p+s+1>e&&(s=Math.max(1,e-p)),l.push(r.substring(i-=s,i+s)),!((p+=s+1)>e));)s=n[u=(u+1)%n.length];return l.reverse().join(t)}}function ai(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var fi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ct(n){if(!(t=fi.exec(n)))throw new Error("invalid format: "+n);var t;return new xt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ct.prototype=xt.prototype;function xt(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function si(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var lr;function ci(n,t){var r=st(n,t);if(!r)return n+"";var e=r[0],i=r[1],l=i-(lr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return l===u?e:l>u?e+new Array(l-u+1).join("0"):l>0?e.slice(0,l)+"."+e.slice(l):"0."+new Array(1-l).join("0")+st(n,Math.max(0,t+l-1))[0]}function ce(n,t){var r=st(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const he={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:li,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>ce(n*100,t),r:ce,s:ci,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function pe(n){return n}var ge=Array.prototype.map,_e=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function hi(n){var t=n.grouping===void 0||n.thousands===void 0?pe:ui(ge.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?pe:ai(ge.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"\u2212":n.minus+"",p=n.nan===void 0?"NaN":n.nan+"";function c(f){f=ct(f);var a=f.fill,g=f.align,h=f.sign,d=f.symbol,v=f.zero,y=f.width,M=f.comma,m=f.precision,E=f.trim,P=f.type;P==="n"?(M=!0,P="g"):he[P]||(m===void 0&&(m=12),E=!0,P="g"),(v||a==="0"&&g==="=")&&(v=!0,a="0",g="=");var I=d==="$"?r:d==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=d==="$"?e:/[%p]/.test(P)?u:"",N=he[P],k=/[defgprs%]/.test(P);m=m===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function L(S){var q=I,O=T,Y,w,z;if(P==="c")O=N(S)+O,S="";else{S=+S;var Z=S<0||1/S<0;if(S=isNaN(S)?p:N(Math.abs(S),m),E&&(S=si(S)),Z&&+S==0&&h!=="+"&&(Z=!1),q=(Z?h==="("?h:s:h==="-"||h==="("?"":h)+q,O=(P==="s"?_e[8+lr/3]:"")+O+(Z&&h==="("?")":""),k){for(Y=-1,w=S.length;++Y<w;)if(z=S.charCodeAt(Y),48>z||z>57){O=(z===46?i+S.slice(Y+1):S.slice(Y))+O,S=S.slice(0,Y);break}}}M&&!v&&(S=t(S,1/0));var V=q.length+S.length+O.length,H=V<y?new Array(y-V+1).join(a):"";switch(M&&v&&(S=t(H+S,H.length?y-O.length:1/0),H=""),g){case"<":S=q+S+O+H;break;case"=":S=q+H+S+O;break;case"^":S=H.slice(0,V=H.length>>1)+q+S+O+H.slice(V);break;default:S=H+q+S+O;break}return l(S)}return L.toString=function(){return f+""},L}function o(f,a){var g=c((f=ct(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Dn(a)/3)))*3,d=Math.pow(10,-h),v=_e[8+h/3];return function(y){return g(d*y)+v}}return{format:c,formatPrefix:o}}var jn,ur,ar;pi({thousands:",",grouping:[3],currency:["$",""]});function pi(n){return jn=hi(n),ur=jn.format,ar=jn.formatPrefix,jn}function gi(n){return Math.max(0,-Dn(Math.abs(n)))}function _i(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dn(t)/3)))*3-Dn(Math.abs(n)))}function di(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Dn(t)-Dn(n))+1}var B=1e-6,mi=1e-12,b=Math.PI,on=b/2,de=b/4,un=b*2,gn=180/b,rn=b/180,W=Math.abs,vi=Math.atan,Zn=Math.atan2,$=Math.cos,xn=Math.ceil,J=Math.sin,yi=Math.sign||function(n){return n>0?1:n<0?-1:0},kn=Math.sqrt;function wi(n){return n>1?0:n<-1?b:Math.acos(n)}function Hn(n){return n>1?on:n<-1?-on:Math.asin(n)}function ln(){}function ht(n,t){n&&ve.hasOwnProperty(n.type)&&ve[n.type](n,t)}var me={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)ht(r[e].geometry,t)}},ve={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Gt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Gt(r[e],t,0)},Polygon:function(n,t){ye(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ye(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)ht(r[e],t)}};function Gt(n,t,r){var e=-1,i=n.length-r,l;for(t.lineStart();++e<i;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function ye(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Gt(n[r],t,1);t.polygonEnd()}function An(n,t){n&&me.hasOwnProperty(n.type)?me[n.type](n,t):ht(n,t)}function Ct(n){return[Zn(n[1],n[0]),Hn(n[2])]}function Gn(n){var t=n[0],r=n[1],e=$(r);return[e*$(t),e*J(t),J(r)]}function nt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function pt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function St(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function tt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ft(n){var t=kn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Ot(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function Yt(n,t){return[W(n)>b?n+Math.round(-n/un)*un:n,t]}Yt.invert=Yt;function Mi(n,t,r){return(n%=un)?t||r?Ot(Me(n),Ee(t,r)):Me(n):t||r?Ee(t,r):Yt}function we(n){return function(t,r){return t+=n,[t>b?t-un:t<-b?t+un:t,r]}}function Me(n){var t=we(n);return t.invert=we(-n),t}function Ee(n,t){var r=$(n),e=J(n),i=$(t),l=J(t);function u(s,p){var c=$(p),o=$(s)*c,f=J(s)*c,a=J(p),g=a*r+o*e;return[Zn(f*i-g*l,o*r-a*e),Hn(g*i+f*l)]}return u.invert=function(s,p){var c=$(p),o=$(s)*c,f=J(s)*c,a=J(p),g=a*i-f*l;return[Zn(f*i+a*l,o*r+g*e),Hn(g*r-o*e)]},u}function Ei(n,t,r,e,i,l){if(!!r){var u=$(t),s=J(t),p=e*r;i==null?(i=t+e*un,l=t-p/2):(i=Se(u,i),l=Se(u,l),(e>0?i<l:i>l)&&(i+=e*un));for(var c,o=i;e>0?o>l:o<l;o-=p)c=Ct([u,-s*$(o),-s*J(o)]),n.point(c[0],c[1])}}function Se(n,t){t=Gn(t),t[0]-=n,Ft(t);var r=wi(-t[1]);return((-t[2]<0?-r:r)+un-B)%un}function fr(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:ln,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function lt(n,t){return W(n[0]-t[0])<B&&W(n[1]-t[1])<B}function et(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function sr(n,t,r,e,i){var l=[],u=[],s,p;if(n.forEach(function(h){if(!((d=h.length-1)<=0)){var d,v=h[0],y=h[d],M;if(lt(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),s=0;s<d;++s)i.point((v=h[s])[0],v[1]);i.lineEnd();return}y[0]+=2*B}l.push(M=new et(v,h,null,!0)),u.push(M.o=new et(v,null,M,!1)),l.push(M=new et(y,h,null,!1)),u.push(M.o=new et(y,null,M,!0))}}),!!l.length){for(u.sort(t),ke(l),ke(u),s=0,p=u.length;s<p;++s)u[s].e=r=!r;for(var c=l[0],o,f;;){for(var a=c,g=!0;a.v;)if((a=a.n)===c)return;o=a.z,i.lineStart();do{if(a.v=a.o.v=!0,a.e){if(g)for(s=0,p=o.length;s<p;++s)i.point((f=o[s])[0],f[1]);else e(a.x,a.n.x,1,i);a=a.n}else{if(g)for(o=a.p.z,s=o.length-1;s>=0;--s)i.point((f=o[s])[0],f[1]);else e(a.x,a.p.x,-1,i);a=a.p}a=a.o,o=a.z,g=!g}while(!a.v);i.lineEnd()}}}function ke(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function kt(n){return W(n[0])<=b?n[0]:yi(n[0])*((W(n[0])+b)%un-b)}function Si(n,t){var r=kt(t),e=t[1],i=J(e),l=[J(r),-$(r),0],u=0,s=0,p=new En;i===1?e=on+B:i===-1&&(e=-on-B);for(var c=0,o=n.length;c<o;++c)if(!!(a=(f=n[c]).length))for(var f,a,g=f[a-1],h=kt(g),d=g[1]/2+de,v=J(d),y=$(d),M=0;M<a;++M,h=E,v=I,y=T,g=m){var m=f[M],E=kt(m),P=m[1]/2+de,I=J(P),T=$(P),N=E-h,k=N>=0?1:-1,L=k*N,S=L>b,q=v*I;if(p.add(Zn(q*k*J(L),y*T+q*$(L))),u+=S?N+k*un:N,S^h>=r^E>=r){var O=pt(Gn(g),Gn(m));Ft(O);var Y=pt(l,O);Ft(Y);var w=(S^N>=0?-1:1)*Hn(Y[2]);(e>w||e===w&&(O[0]||O[1]))&&(s+=S^N>=0?1:-1)}}return(u<-B||u<B&&p<-mi)^s&1}function cr(n,t,r,e){return function(i){var l=t(i),u=fr(),s=t(u),p=!1,c,o,f,a={point:g,lineStart:d,lineEnd:v,polygonStart:function(){a.point=y,a.lineStart=M,a.lineEnd=m,o=[],c=[]},polygonEnd:function(){a.point=g,a.lineStart=d,a.lineEnd=v,o=or(o);var E=Si(c,e);o.length?(p||(i.polygonStart(),p=!0),sr(o,Ni,E,r,i)):E&&(p||(i.polygonStart(),p=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),o=c=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(E,P){n(E,P)&&i.point(E,P)}function h(E,P){l.point(E,P)}function d(){a.point=h,l.lineStart()}function v(){a.point=g,l.lineEnd()}function y(E,P){f.push([E,P]),s.point(E,P)}function M(){s.lineStart(),f=[]}function m(){y(f[0][0],f[0][1]),s.lineEnd();var E=s.clean(),P=u.result(),I,T=P.length,N,k,L;if(f.pop(),c.push(f),f=null,!!T){if(E&1){if(k=P[0],(N=k.length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),I=0;I<N;++I)i.point((L=k[I])[0],L[1]);i.lineEnd()}return}T>1&&E&2&&P.push(P.pop().concat(P.shift())),o.push(P.filter(ki))}}return a}}function ki(n){return n.length>1}function Ni(n,t){return((n=n.x)[0]<0?n[1]-on-B:on-n[1])-((t=t.x)[0]<0?t[1]-on-B:on-t[1])}const Ne=cr(function(){return!0},Pi,Ri,[-b,-on]);function Pi(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(l,u){var s=l>0?b:-b,p=W(l-t);W(p-b)<B?(n.point(t,r=(r+u)/2>0?on:-on),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(s,r),n.point(l,r),i=0):e!==s&&p>=b&&(W(t-e)<B&&(t-=e*B),W(l-s)<B&&(l-=s*B),r=Ai(t,r,l,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(s,r),i=0),n.point(t=l,r=u),e=s},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function Ai(n,t,r,e){var i,l,u=J(n-r);return W(u)>B?vi((J(t)*(l=$(e))*J(r)-J(e)*(i=$(t))*J(n))/(i*l*u)):(t+e)/2}function Ri(n,t,r,e){var i;if(n==null)i=r*on,e.point(-b,i),e.point(0,i),e.point(b,i),e.point(b,0),e.point(b,-i),e.point(0,-i),e.point(-b,-i),e.point(-b,0),e.point(-b,i);else if(W(n[0]-t[0])>B){var l=n[0]<t[0]?b:-b;i=r*l/2,e.point(-l,i),e.point(0,i),e.point(l,i)}else e.point(t[0],t[1])}function Li(n){var t=$(n),r=6*rn,e=t>0,i=W(t)>B;function l(o,f,a,g){Ei(g,n,r,a,o,f)}function u(o,f){return $(o)*$(f)>t}function s(o){var f,a,g,h,d;return{lineStart:function(){h=g=!1,d=1},point:function(v,y){var M=[v,y],m,E=u(v,y),P=e?E?0:c(v,y):E?c(v+(v<0?b:-b),y):0;if(!f&&(h=g=E)&&o.lineStart(),E!==g&&(m=p(f,M),(!m||lt(f,m)||lt(M,m))&&(M[2]=1)),E!==g)d=0,E?(o.lineStart(),m=p(M,f),o.point(m[0],m[1])):(m=p(f,M),o.point(m[0],m[1],2),o.lineEnd()),f=m;else if(i&&f&&e^E){var I;!(P&a)&&(I=p(M,f,!0))&&(d=0,e?(o.lineStart(),o.point(I[0][0],I[0][1]),o.point(I[1][0],I[1][1]),o.lineEnd()):(o.point(I[1][0],I[1][1]),o.lineEnd(),o.lineStart(),o.point(I[0][0],I[0][1],3)))}E&&(!f||!lt(f,M))&&o.point(M[0],M[1]),f=M,g=E,a=P},lineEnd:function(){g&&o.lineEnd(),f=null},clean:function(){return d|(h&&g)<<1}}}function p(o,f,a){var g=Gn(o),h=Gn(f),d=[1,0,0],v=pt(g,h),y=nt(v,v),M=v[0],m=y-M*M;if(!m)return!a&&o;var E=t*y/m,P=-t*M/m,I=pt(d,v),T=tt(d,E),N=tt(v,P);St(T,N);var k=I,L=nt(T,k),S=nt(k,k),q=L*L-S*(nt(T,T)-1);if(!(q<0)){var O=kn(q),Y=tt(k,(-L-O)/S);if(St(Y,T),Y=Ct(Y),!a)return Y;var w=o[0],z=f[0],Z=o[1],V=f[1],H;z<w&&(H=w,w=z,z=H);var wn=z-w,an=W(wn-b)<B,fn=an||wn<B;if(!an&&V<Z&&(H=Z,Z=V,V=H),fn?an?Z+V>0^Y[1]<(W(Y[0]-w)<B?Z:V):Z<=Y[1]&&Y[1]<=V:wn>b^(w<=Y[0]&&Y[0]<=z)){var en=tt(k,(-L+O)/S);return St(en,T),[Y,Ct(en)]}}}function c(o,f){var a=e?n:b-n,g=0;return o<-a?g|=1:o>a&&(g|=2),f<-a?g|=4:f>a&&(g|=8),g}return cr(u,s,l,e?[0,-n]:[-b,n-b])}function Ii(n,t,r,e,i,l){var u=n[0],s=n[1],p=t[0],c=t[1],o=0,f=1,a=p-u,g=c-s,h;if(h=r-u,!(!a&&h>0)){if(h/=a,a<0){if(h<o)return;h<f&&(f=h)}else if(a>0){if(h>f)return;h>o&&(o=h)}if(h=i-u,!(!a&&h<0)){if(h/=a,a<0){if(h>f)return;h>o&&(o=h)}else if(a>0){if(h<o)return;h<f&&(f=h)}if(h=e-s,!(!g&&h>0)){if(h/=g,g<0){if(h<o)return;h<f&&(f=h)}else if(g>0){if(h>f)return;h>o&&(o=h)}if(h=l-s,!(!g&&h<0)){if(h/=g,g<0){if(h>f)return;h>o&&(o=h)}else if(g>0){if(h<o)return;h<f&&(f=h)}return o>0&&(n[0]=u+o*a,n[1]=s+o*g),f<1&&(t[0]=u+f*a,t[1]=s+f*g),!0}}}}}var On=1e9,rt=-On;function Ti(n,t,r,e){function i(c,o){return n<=c&&c<=r&&t<=o&&o<=e}function l(c,o,f,a){var g=0,h=0;if(c==null||(g=u(c,f))!==(h=u(o,f))||p(c,o)<0^f>0)do a.point(g===0||g===3?n:r,g>1?e:t);while((g=(g+f+4)%4)!==h);else a.point(o[0],o[1])}function u(c,o){return W(c[0]-n)<B?o>0?0:3:W(c[0]-r)<B?o>0?2:1:W(c[1]-t)<B?o>0?1:0:o>0?3:2}function s(c,o){return p(c.x,o.x)}function p(c,o){var f=u(c,1),a=u(o,1);return f!==a?f-a:f===0?o[1]-c[1]:f===1?c[0]-o[0]:f===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,f=fr(),a,g,h,d,v,y,M,m,E,P,I,T={point:N,lineStart:q,lineEnd:O,polygonStart:L,polygonEnd:S};function N(w,z){i(w,z)&&o.point(w,z)}function k(){for(var w=0,z=0,Z=g.length;z<Z;++z)for(var V=g[z],H=1,wn=V.length,an=V[0],fn,en,Nn=an[0],_n=an[1];H<wn;++H)fn=Nn,en=_n,an=V[H],Nn=an[0],_n=an[1],en<=e?_n>e&&(Nn-fn)*(e-en)>(_n-en)*(n-fn)&&++w:_n<=e&&(Nn-fn)*(e-en)<(_n-en)*(n-fn)&&--w;return w}function L(){o=f,a=[],g=[],I=!0}function S(){var w=k(),z=I&&w,Z=(a=or(a)).length;(z||Z)&&(c.polygonStart(),z&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),Z&&sr(a,s,w,l,c),c.polygonEnd()),o=c,a=g=h=null}function q(){T.point=Y,g&&g.push(h=[]),P=!0,E=!1,M=m=NaN}function O(){a&&(Y(d,v),y&&E&&f.rejoin(),a.push(f.result())),T.point=N,E&&o.lineEnd()}function Y(w,z){var Z=i(w,z);if(g&&h.push([w,z]),P)d=w,v=z,y=Z,P=!1,Z&&(o.lineStart(),o.point(w,z));else if(Z&&E)o.point(w,z);else{var V=[M=Math.max(rt,Math.min(On,M)),m=Math.max(rt,Math.min(On,m))],H=[w=Math.max(rt,Math.min(On,w)),z=Math.max(rt,Math.min(On,z))];Ii(V,H,n,t,r,e)?(E||(o.lineStart(),o.point(V[0],V[1])),o.point(H[0],H[1]),Z||o.lineEnd(),I=!1):Z&&(o.lineStart(),o.point(w,z),I=!1)}M=w,m=z,E=Z}return T}}function Pe(n,t,r){var e=Rn(n,t-B,r).concat(t);return function(i){return e.map(function(l){return[i,l]})}}function Ae(n,t,r){var e=Rn(n,t-B,r).concat(t);return function(i){return e.map(function(l){return[l,i]})}}function zi(){var n,t,r,e,i,l,u,s,p=10,c=p,o=90,f=360,a,g,h,d,v=2.5;function y(){return{type:"MultiLineString",coordinates:M()}}function M(){return Rn(xn(e/o)*o,r,o).map(h).concat(Rn(xn(s/f)*f,u,f).map(d)).concat(Rn(xn(t/p)*p,n,p).filter(function(m){return W(m%o)>B}).map(a)).concat(Rn(xn(l/c)*c,i,c).filter(function(m){return W(m%f)>B}).map(g))}return y.lines=function(){return M().map(function(m){return{type:"LineString",coordinates:m}})},y.outline=function(){return{type:"Polygon",coordinates:[h(e).concat(d(u).slice(1),h(r).reverse().slice(1),d(s).reverse().slice(1))]}},y.extent=function(m){return arguments.length?y.extentMajor(m).extentMinor(m):y.extentMinor()},y.extentMajor=function(m){return arguments.length?(e=+m[0][0],r=+m[1][0],s=+m[0][1],u=+m[1][1],e>r&&(m=e,e=r,r=m),s>u&&(m=s,s=u,u=m),y.precision(v)):[[e,s],[r,u]]},y.extentMinor=function(m){return arguments.length?(t=+m[0][0],n=+m[1][0],l=+m[0][1],i=+m[1][1],t>n&&(m=t,t=n,n=m),l>i&&(m=l,l=i,i=m),y.precision(v)):[[t,l],[n,i]]},y.step=function(m){return arguments.length?y.stepMajor(m).stepMinor(m):y.stepMinor()},y.stepMajor=function(m){return arguments.length?(o=+m[0],f=+m[1],y):[o,f]},y.stepMinor=function(m){return arguments.length?(p=+m[0],c=+m[1],y):[p,c]},y.precision=function(m){return arguments.length?(v=+m,a=Pe(l,i,90),g=Ae(t,n,v),h=Pe(s,u,90),d=Ae(e,r,v),y):v},y.extentMajor([[-180,-90+B],[180,90-B]]).extentMinor([[-180,-80-B],[180,80+B]])}const bt=n=>n;var Nt=new En,Bt=new En,hr,pr,Xt,qt,mn={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){mn.lineStart=Di,mn.lineEnd=Ci},polygonEnd:function(){mn.lineStart=mn.lineEnd=mn.point=ln,Nt.add(W(Bt)),Bt=new En},result:function(){var n=Nt/2;return Nt=new En,n}};function Di(){mn.point=Gi}function Gi(n,t){mn.point=gr,hr=Xt=n,pr=qt=t}function gr(n,t){Bt.add(qt*n-Xt*t),Xt=n,qt=t}function Ci(){gr(hr,pr)}const Re=mn;var Cn=1/0,gt=Cn,Wn=-Cn,_t=Wn,Fi={point:Oi,lineStart:ln,lineEnd:ln,polygonStart:ln,polygonEnd:ln,result:function(){var n=[[Cn,gt],[Wn,_t]];return Wn=_t=-(gt=Cn=1/0),n}};function Oi(n,t){n<Cn&&(Cn=n),n>Wn&&(Wn=n),t<gt&&(gt=t),t>_t&&(_t=t)}const dt=Fi;var Zt=0,Ht=0,Yn=0,mt=0,vt=0,Ln=0,Wt=0,Ut=0,bn=0,_r,dr,cn,hn,sn={point:Sn,lineStart:Le,lineEnd:Ie,polygonStart:function(){sn.lineStart=Bi,sn.lineEnd=Xi},polygonEnd:function(){sn.point=Sn,sn.lineStart=Le,sn.lineEnd=Ie},result:function(){var n=bn?[Wt/bn,Ut/bn]:Ln?[mt/Ln,vt/Ln]:Yn?[Zt/Yn,Ht/Yn]:[NaN,NaN];return Zt=Ht=Yn=mt=vt=Ln=Wt=Ut=bn=0,n}};function Sn(n,t){Zt+=n,Ht+=t,++Yn}function Le(){sn.point=Yi}function Yi(n,t){sn.point=bi,Sn(cn=n,hn=t)}function bi(n,t){var r=n-cn,e=t-hn,i=kn(r*r+e*e);mt+=i*(cn+n)/2,vt+=i*(hn+t)/2,Ln+=i,Sn(cn=n,hn=t)}function Ie(){sn.point=Sn}function Bi(){sn.point=qi}function Xi(){mr(_r,dr)}function qi(n,t){sn.point=mr,Sn(_r=cn=n,dr=hn=t)}function mr(n,t){var r=n-cn,e=t-hn,i=kn(r*r+e*e);mt+=i*(cn+n)/2,vt+=i*(hn+t)/2,Ln+=i,i=hn*n-cn*t,Wt+=i*(cn+n),Ut+=i*(hn+t),bn+=i*3,Sn(cn=n,hn=t)}const Te=sn;function vr(n){this._context=n}vr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,un);break}}},result:ln};var Vt=new En,Pt,yr,wr,Bn,Xn,yt={point:ln,lineStart:function(){yt.point=Zi},lineEnd:function(){Pt&&Mr(yr,wr),yt.point=ln},polygonStart:function(){Pt=!0},polygonEnd:function(){Pt=null},result:function(){var n=+Vt;return Vt=new En,n}};function Zi(n,t){yt.point=Mr,yr=Bn=n,wr=Xn=t}function Mr(n,t){Bn-=n,Xn-=t,Vt.add(kn(Bn*Bn+Xn*Xn)),Bn=n,Xn=t}const ze=yt;function Er(){this._string=[]}Er.prototype={_radius:4.5,_circle:De(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=De(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function De(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Hi(n,t){var r=4.5,e,i;function l(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),An(u,e(i))),i.result()}return l.area=function(u){return An(u,e(Re)),Re.result()},l.measure=function(u){return An(u,e(ze)),ze.result()},l.bounds=function(u){return An(u,e(dt)),dt.result()},l.centroid=function(u){return An(u,e(Te)),Te.result()},l.projection=function(u){return arguments.length?(e=u==null?(n=null,bt):(n=u).stream,l):n},l.context=function(u){return arguments.length?(i=u==null?(t=null,new Er):new vr(t=u),typeof r!="function"&&i.pointRadius(r),l):t},l.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),l):r},l.projection(n).context(t)}function ne(n){return function(t){var r=new $t;for(var e in n)r[e]=n[e];return r.stream=t,r}}function $t(){}$t.prototype={constructor:$t,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function te(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),An(r,n.stream(dt)),t(dt.result()),e!=null&&n.clipExtent(e),n}function Sr(n,t,r){return te(n,function(e){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),s=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,p=+t[0][1]+(l-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([s,p])},r)}function Wi(n,t,r){return Sr(n,[[0,0],t],r)}function Ui(n,t,r){return te(n,function(e){var i=+t,l=i/(e[1][0]-e[0][0]),u=(i-l*(e[1][0]+e[0][0]))/2,s=-l*e[0][1];n.scale(150*l).translate([u,s])},r)}function Vi(n,t,r){return te(n,function(e){var i=+t,l=i/(e[1][1]-e[0][1]),u=-l*e[0][0],s=(i-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([u,s])},r)}var Ge=16,$i=$(30*rn);function Ce(n,t){return+t?Ki(n,t):Ji(n)}function Ji(n){return ne({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Ki(n,t){function r(e,i,l,u,s,p,c,o,f,a,g,h,d,v){var y=c-e,M=o-i,m=y*y+M*M;if(m>4*t&&d--){var E=u+a,P=s+g,I=p+h,T=kn(E*E+P*P+I*I),N=Hn(I/=T),k=W(W(I)-1)<B||W(l-f)<B?(l+f)/2:Zn(P,E),L=n(k,N),S=L[0],q=L[1],O=S-e,Y=q-i,w=M*O-y*Y;(w*w/m>t||W((y*O+M*Y)/m-.5)>.3||u*a+s*g+p*h<$i)&&(r(e,i,l,u,s,p,S,q,k,E/=T,P/=T,I,d,v),v.point(S,q),r(S,q,k,E,P,I,c,o,f,a,g,h,d,v))}}return function(e){var i,l,u,s,p,c,o,f,a,g,h,d,v={point:y,lineStart:M,lineEnd:E,polygonStart:function(){e.polygonStart(),v.lineStart=P},polygonEnd:function(){e.polygonEnd(),v.lineStart=M}};function y(N,k){N=n(N,k),e.point(N[0],N[1])}function M(){f=NaN,v.point=m,e.lineStart()}function m(N,k){var L=Gn([N,k]),S=n(N,k);r(f,a,o,g,h,d,f=S[0],a=S[1],o=N,g=L[0],h=L[1],d=L[2],Ge,e),e.point(f,a)}function E(){v.point=y,e.lineEnd()}function P(){M(),v.point=I,v.lineEnd=T}function I(N,k){m(i=N,k),l=f,u=a,s=g,p=h,c=d,v.point=m}function T(){r(f,a,o,g,h,d,l,u,i,s,p,c,Ge,e),v.lineEnd=E,E()}return v}}var Qi=ne({point:function(n,t){this.stream.point(n*rn,t*rn)}});function ji(n){return ne({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function xi(n,t,r,e,i){function l(u,s){return u*=e,s*=i,[t+n*u,r-n*s]}return l.invert=function(u,s){return[(u-t)/n*e,(r-s)/n*i]},l}function Fe(n,t,r,e,i,l){if(!l)return xi(n,t,r,e,i);var u=$(l),s=J(l),p=u*n,c=s*n,o=u/n,f=s/n,a=(s*r-u*t)/n,g=(s*t+u*r)/n;function h(d,v){return d*=e,v*=i,[p*d-c*v+t,r-c*d-p*v]}return h.invert=function(d,v){return[e*(o*d-f*v+a),i*(g-f*d-o*v)]},h}function no(n){return to(function(){return n})()}function to(n){var t,r=150,e=480,i=250,l=0,u=0,s=0,p=0,c=0,o,f=0,a=1,g=1,h=null,d=Ne,v=null,y,M,m,E=bt,P=.5,I,T,N,k,L;function S(w){return N(w[0]*rn,w[1]*rn)}function q(w){return w=N.invert(w[0],w[1]),w&&[w[0]*gn,w[1]*gn]}S.stream=function(w){return k&&L===w?k:k=Qi(ji(o)(d(I(E(L=w)))))},S.preclip=function(w){return arguments.length?(d=w,h=void 0,Y()):d},S.postclip=function(w){return arguments.length?(E=w,v=y=M=m=null,Y()):E},S.clipAngle=function(w){return arguments.length?(d=+w?Li(h=w*rn):(h=null,Ne),Y()):h*gn},S.clipExtent=function(w){return arguments.length?(E=w==null?(v=y=M=m=null,bt):Ti(v=+w[0][0],y=+w[0][1],M=+w[1][0],m=+w[1][1]),Y()):v==null?null:[[v,y],[M,m]]},S.scale=function(w){return arguments.length?(r=+w,O()):r},S.translate=function(w){return arguments.length?(e=+w[0],i=+w[1],O()):[e,i]},S.center=function(w){return arguments.length?(l=w[0]%360*rn,u=w[1]%360*rn,O()):[l*gn,u*gn]},S.rotate=function(w){return arguments.length?(s=w[0]%360*rn,p=w[1]%360*rn,c=w.length>2?w[2]%360*rn:0,O()):[s*gn,p*gn,c*gn]},S.angle=function(w){return arguments.length?(f=w%360*rn,O()):f*gn},S.reflectX=function(w){return arguments.length?(a=w?-1:1,O()):a<0},S.reflectY=function(w){return arguments.length?(g=w?-1:1,O()):g<0},S.precision=function(w){return arguments.length?(I=Ce(T,P=w*w),Y()):kn(P)},S.fitExtent=function(w,z){return Sr(S,w,z)},S.fitSize=function(w,z){return Wi(S,w,z)},S.fitWidth=function(w,z){return Ui(S,w,z)},S.fitHeight=function(w,z){return Vi(S,w,z)};function O(){var w=Fe(r,0,0,a,g,f).apply(null,t(l,u)),z=Fe(r,e-w[0],i-w[1],a,g,f);return o=Mi(s,p,c),T=Ot(t,z),N=Ot(o,T),I=Ce(T,P),Y()}function Y(){return k=L=null,S}return function(){return t=n.apply(this,arguments),S.invert=t.invert&&q,O()}}function eo(n){return function(){return n}}function ro(n){return+n}var Oe=[0,1];function In(n){return n}function Jt(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:eo(isNaN(t)?NaN:.5)}function io(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function oo(n,t,r){var e=n[0],i=n[1],l=t[0],u=t[1];return i<e?(e=Jt(i,e),l=r(u,l)):(e=Jt(e,i),l=r(l,u)),function(s){return l(e(s))}}function lo(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),l=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=Jt(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(s){var p=Jr(n,s,1,e)-1;return l[p](i[p](s))}}function uo(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ao(){var n=Oe,t=Oe,r=jt,e,i,l,u=In,s,p,c;function o(){var a=Math.min(n.length,t.length);return u!==In&&(u=io(n[0],n[a-1])),s=a>2?lo:oo,p=c=null,f}function f(a){return a==null||isNaN(a=+a)?l:(p||(p=s(n.map(e),t,r)))(e(u(a)))}return f.invert=function(a){return u(i((c||(c=s(t,n.map(e),It)))(a)))},f.domain=function(a){return arguments.length?(n=Array.from(a,ro),o()):n.slice()},f.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},f.rangeRound=function(a){return t=Array.from(a),r=oi,o()},f.clamp=function(a){return arguments.length?(u=a?!0:In,o()):u!==In},f.interpolate=function(a){return arguments.length?(r=a,o()):r},f.unknown=function(a){return arguments.length?(l=a,f):l},function(a,g){return e=a,i=g,o()}}function fo(){return ao()(In,In)}function so(n,t,r,e){var i=Qr(n,t,r),l;switch(e=ct(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(l=_i(i,u))&&(e.precision=l),ar(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(l=di(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=l-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(l=gi(i))&&(e.precision=l-(e.type==="%")*2);break}}return ur(e)}function co(n){var t=n.domain;return n.ticks=function(r){var e=t();return Kr(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return so(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,l=e.length-1,u=e[i],s=e[l],p,c,o=10;for(s<u&&(c=u,u=s,s=c,c=i,i=l,l=c);o-- >0;){if(c=ir(u,s,r),c===p)return e[i]=u,e[l]=s,t(e);if(c>0)u=Math.floor(u/c)*c,s=Math.ceil(s/c)*c;else if(c<0)u=Math.ceil(u*c)/c,s=Math.floor(s*c)/c;else break;p=c}return n},n}function Kt(){var n=fo();return n.copy=function(){return uo(n,Kt())},Xr.apply(n,arguments),co(n)}function ho(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const Ye=ho("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function be(n,t,r){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-r),n._x2,n._y2)}function ee(n,t){this._context=n,this._k=(1-t)/6}ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:be(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:be(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function r(e){return new ee(e,t)}return r.tension=function(e){return n(+e)},r})(0);function po(n,t,r){var e=n._x1,i=n._y1,l=n._x2,u=n._y2;if(n._l01_a>fe){var s=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,p=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*s-n._x0*n._l12_2a+n._x2*n._l01_2a)/p,i=(i*s-n._y0*n._l12_2a+n._y2*n._l01_2a)/p}if(n._l23_a>fe){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,o=3*n._l23_a*(n._l23_a+n._l12_a);l=(l*c+n._x1*n._l23_2a-t*n._l12_2a)/o,u=(u*c+n._y1*n._l23_2a-r*n._l12_2a)/o}n._context.bezierCurveTo(e,i,l,u,n._x2,n._y2)}function kr(n,t){this._context=n,this._alpha=t}kr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var r=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:po(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const go=function n(t){function r(e){return t?new kr(e,t):new ee(e,0)}return r.alpha=function(e){return n(+e)},r}(.5);function _o(n){return n}function mo(n){if(n==null)return _o;var t,r,e=n.scale[0],i=n.scale[1],l=n.translate[0],u=n.translate[1];return function(s,p){p||(t=r=0);var c=2,o=s.length,f=new Array(o);for(f[0]=(t+=s[0])*e+l,f[1]=(r+=s[1])*i+u;c<o;)f[c]=s[c],++c;return f}}function vo(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function yo(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Be(n,r)})}:Be(n,t)}function Be(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,l=wo(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:l}:e==null?{type:"Feature",id:r,properties:i,geometry:l}:{type:"Feature",id:r,bbox:e,properties:i,geometry:l}}function wo(n,t){var r=mo(n.transform),e=n.arcs;function i(o,f){f.length&&f.pop();for(var a=e[o<0?~o:o],g=0,h=a.length;g<h;++g)f.push(r(a[g],g));o<0&&vo(f,h)}function l(o){return r(o)}function u(o){for(var f=[],a=0,g=o.length;a<g;++a)i(o[a],f);return f.length<2&&f.push(f[0]),f}function s(o){for(var f=u(o);f.length<4;)f.push(f[0]);return f}function p(o){return o.map(s)}function c(o){var f=o.type,a;switch(f){case"GeometryCollection":return{type:f,geometries:o.geometries.map(c)};case"Point":a=l(o.coordinates);break;case"MultiPoint":a=o.coordinates.map(l);break;case"LineString":a=u(o.arcs);break;case"MultiLineString":a=o.arcs.map(u);break;case"Polygon":a=p(o.arcs);break;case"MultiPolygon":a=o.arcs.map(p);break;default:return null}return{type:f,coordinates:a}}return c(t)}function Xe(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function Mo(n){var t={},r=n.map(function(){return[]});function e(d,v){d.forEach(function(y){y<0&&(y=~y);var M=t[y];M?M.push(v):t[y]=[v]})}function i(d,v){d.forEach(function(y){e(y,v)})}function l(d,v){d.type==="GeometryCollection"?d.geometries.forEach(function(y){l(y,v)}):d.type in u&&u[d.type](d.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(d,v){d.forEach(function(y){i(y,v)})}};n.forEach(l);for(var s in t)for(var p=t[s],c=p.length,o=0;o<c;++o)for(var f=o+1;f<c;++f){var a=p[o],g=p[f],h;(h=r[a])[s=Xe(h,g)]!==g&&h.splice(s,0,g),(h=r[g])[s=Xe(h,a)]!==a&&h.splice(s,0,a)}return r}var wt=Math.abs,Fn=Math.cos,pn=Math.sin,qn=1e-6,Mt=Math.PI,Qt=Mt/2;function Eo(n){return n?n/Math.sin(n):1}function re(n){return n>1?0:n<-1?Mt:Math.acos(n)}function Nr(n){return n>0?Math.sqrt(n):0}function Pr(n,t){var r=Fn(t),e=Eo(re(r*Fn(n/=2)));return[2*r*pn(n)*e,pn(t)*e]}Pr.invert=function(n,t){if(!(n*n+4*t*t>Mt*Mt+qn)){var r=n,e=t,i=25;do{var l=pn(r),u=pn(r/2),s=Fn(r/2),p=pn(e),c=Fn(e),o=pn(2*e),f=p*p,a=c*c,g=u*u,h=1-a*s*s,d=h?re(c*s)*Nr(v=1/h):v=0,v,y=2*d*c*u-n,M=d*p-t,m=v*(a*g+d*c*s*f),E=v*(.5*l*o-d*2*p*u),P=v*.25*(o*u-d*p*a*l),I=v*(f*s+d*g*c),T=E*P-I*m;if(!T)break;var N=(M*E-y*I)/T,k=(y*P-M*m)/T;r-=N,e-=k}while((wt(N)>qn||wt(k)>qn)&&--i>0);return[r,e]}};function Ar(n,t){var r=Pr(n,t);return[(r[0]+n/Qt)/2,(r[1]+t)/2]}Ar.invert=function(n,t){var r=n,e=t,i=25;do{var l=Fn(e),u=pn(e),s=pn(2*e),p=u*u,c=l*l,o=pn(r),f=Fn(r/2),a=pn(r/2),g=a*a,h=1-c*f*f,d=h?re(l*f)*Nr(v=1/h):v=0,v,y=.5*(2*d*l*a+r/Qt)-n,M=.5*(d*u+e)-t,m=.5*v*(c*g+d*l*f*p)+.5/Qt,E=v*(o*s/4-d*u*a),P=.125*v*(s*a-d*u*c*o),I=.5*v*(p*f+d*g*l)+.5,T=E*P-I*m,N=(M*E-y*I)/T,k=(y*P-M*m)/T;r-=N,e-=k}while((wt(N)>qn||wt(k)>qn)&&--i>0);return[r,e]};function So(){return no(Ar).scale(158.837)}function qe(n,t,r){const e=n.slice();return e[48]=t[r],e}function Ze(n,t,r){const e=n.slice();return e[48]=t[r],e}function He(n,t,r){const e=n.slice();return e[53]=t[r],e[55]=r,e}function We(n,t,r){const e=n.slice();return e[56]=t[r],e}function Ue(n){let t,r=n[8],e,i,l,u=Ke(n),s=n[5],p=[];for(let a=0;a<s.length;a+=1)p[a]=je(Ze(n,s,a));let c=n[5],o=[];for(let a=0;a<c.length;a+=1)o[a]=xe(qe(n,c,a));const f=a=>ut(o[a],1,1,()=>{o[a]=null});return{c(){t=G("g"),u.c(),e=G("g");for(let a=0;a<p.length;a+=1)p[a].c();i=zn();for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){t=C(a,"g",{id:!0});var g=D(t);u.l(g),e=C(g,"g",{id:!0});var h=D(e);for(let d=0;d<p.length;d+=1)p[d].l(h);i=zn();for(let d=0;d<o.length;d+=1)o[d].l(h);h.forEach(A),g.forEach(A),this.h()},h(){_(e,"id","artists"),_(t,"id","map")},m(a,g){K(a,t,g),u.m(t,null),X(t,e);for(let h=0;h<p.length;h+=1)p[h].m(e,null);X(e,i);for(let h=0;h<o.length;h+=1)o[h].m(e,null);l=!0},p(a,g){if(g[0]&256&&nr(r,r=a[8])?(u.d(1),u=Ke(a),u.c(),u.m(t,e)):u.p(a,g),g[0]&512100){s=a[5];let h;for(h=0;h<s.length;h+=1){const d=Ze(a,s,h);p[h]?p[h].p(d,g):(p[h]=je(d),p[h].c(),p[h].m(e,i))}for(;h<p.length;h+=1)p[h].d(1);p.length=s.length}if(g[0]&3874852){c=a[5];let h;for(h=0;h<c.length;h+=1){const d=qe(a,c,h);o[h]?(o[h].p(d,g),Tn(o[h],1)):(o[h]=xe(d),o[h].c(),Tn(o[h],1),o[h].m(e,null))}for(tr(),h=c.length;h<o.length;h+=1)f(h);er()}},i(a){if(!l){for(let g=0;g<c.length;g+=1)Tn(o[g]);l=!0}},o(a){o=o.filter(Boolean);for(let g=0;g<o.length;g+=1)ut(o[g]);l=!1},d(a){a&&A(t),u.d(a),at(p,a),at(o,a)}}}function Ve(n){let t,r;return{c(){t=G("path"),this.h()},l(e){t=C(e,"path",{d:!0,fill:!0,stroke:!0}),D(t).forEach(A),this.h()},h(){_(t,"d",r=n[7](n[56])),_(t,"fill","none"),_(t,"stroke","lightgray")},m(e,i){K(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[56]))&&_(t,"d",r)},d(e){e&&A(t)}}}function $e(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Je(He(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=zn()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=zn()},m(i,l){for(let u=0;u<e.length;u+=1)e[u].m(i,l);K(i,t,l)},p(i,l){if(l[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const s=He(i,r,u);e[u]?e[u].p(s,l):(e[u]=Je(s),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){at(e,i),i&&A(t)}}}function Je(n){let t,r,e,i;return{c(){t=G("path"),this.h()},l(l){t=C(l,"path",{id:!0,d:!0,stroke:!0,fill:!0}),D(t).forEach(A),this.h()},h(){_(t,"id",r=n[53].id),_(t,"d",e=n[7](n[53])),_(t,"stroke","none"),_(t,"fill",i=Ye[n[4][n[55]]])},m(l,u){K(l,t,u)},p(l,u){u[0]&8&&r!==(r=l[53].id)&&_(t,"id",r),u[0]&136&&e!==(e=l[7](l[53]))&&_(t,"d",e),u[0]&16&&i!==(i=Ye[l[4][l[55]]])&&_(t,"fill",i)},d(l){l&&A(t)}}}function Ke(n){let t,r,e,i,l,u,s,p,c=n[10],o=[];for(let a=0;a<c.length;a+=1)o[a]=Ve(We(n,c,a));let f=n[3]&&$e(n);return{c(){t=G("g"),r=G("path"),i=G("g");for(let a=0;a<o.length;a+=1)o[a].c();l=G("g"),f&&f.c(),u=G("g"),s=G("path"),this.h()},l(a){t=C(a,"g",{id:!0});var g=D(t);r=C(g,"path",{d:!0,fill:!0,stroke:!0}),D(r).forEach(A),g.forEach(A),i=C(a,"g",{id:!0});var h=D(i);for(let y=0;y<o.length;y+=1)o[y].l(h);h.forEach(A),l=C(a,"g",{id:!0});var d=D(l);f&&f.l(d),d.forEach(A),u=C(a,"g",{id:!0});var v=D(u);s=C(v,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),D(s).forEach(A),v.forEach(A),this.h()},h(){_(r,"d",e=n[7](n[11])),_(r,"fill","#def3f6"),_(r,"stroke","none"),_(t,"id","fill"),_(i,"id","graticules"),_(l,"id","countries"),_(s,"d",p=n[7](n[11])),_(s,"fill","none"),_(s,"stroke","lightgray"),_(s,"stroke-width","2"),_(u,"id","outline")},m(a,g){K(a,t,g),X(t,r),K(a,i,g);for(let h=0;h<o.length;h+=1)o[h].m(i,null);K(a,l,g),f&&f.m(l,null),K(a,u,g),X(u,s)},p(a,g){if(g[0]&128&&e!==(e=a[7](a[11]))&&_(r,"d",e),g[0]&1152){c=a[10];let h;for(h=0;h<c.length;h+=1){const d=We(a,c,h);o[h]?o[h].p(d,g):(o[h]=Ve(d),o[h].c(),o[h].m(i,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}a[3]?f?f.p(a,g):(f=$e(a),f.c(),f.m(l,null)):f&&(f.d(1),f=null),g[0]&128&&p!==(p=a[7](a[11]))&&_(s,"d",p)},d(a){a&&A(t),a&&A(i),at(o,a),a&&A(l),f&&f.d(),a&&A(u)}}}function Qe(n){let t,r;function e(u,s){return s[0]&36&&(t=null),t==null&&(t=!!u[14](u[2][0],u[48][0])),t?No:ko}let i=e(n,[-1,-1]),l=i(n);return{c(){l.c(),r=zn()},l(u){l.l(u),r=zn()},m(u,s){l.m(u,s),K(u,r,s)},p(u,s){i===(i=e(u,s))&&l?l.p(u,s):(l.d(1),l=i(u),l&&(l.c(),l.m(r.parentNode,r)))},d(u){l.d(u),u&&A(r)}}}function ko(n){let t,r,e,i,l,u,s,p,c;return{c(){t=G("g"),r=G("g"),e=G("g"),i=G("path"),s=G("path"),this.h()},l(o){t=C(o,"g",{transform:!0});var f=D(t);r=C(f,"g",{transform:!0});var a=D(r);e=C(a,"g",{transform:!0});var g=D(e);i=C(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),D(i).forEach(A),g.forEach(A),a.forEach(A),f.forEach(A),s=C(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),D(s).forEach(A),this.h()},h(){_(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),_(i,"fill","#cc0000"),_(i,"stroke","black"),_(i,"stroke-width","2"),_(e,"transform","translate("+(-tn*2-10)+", 0)"),_(r,"transform",l="rotate("+n[15]([n[16](n[2]),n[17](n[2])],[n[16](n[48]),n[17](n[48])])+")"),_(t,"transform",u="translate("+n[16](n[48])+", "+n[17](n[48])+")"),_(s,"d",p=n[12]([n[16](n[2]),n[17](n[2])],[n[16](n[48]),n[17](n[48])])),_(s,"stroke","#c00"),_(s,"fill","none"),_(s,"opacity","0.5"),_(s,"stroke-width",c=n[18](n[2],n[48]))},m(o,f){K(o,t,f),X(t,r),X(r,e),X(e,i),K(o,s,f)},p(o,f){f[0]&36&&l!==(l="rotate("+o[15]([o[16](o[2]),o[17](o[2])],[o[16](o[48]),o[17](o[48])])+")")&&_(r,"transform",l),f[0]&32&&u!==(u="translate("+o[16](o[48])+", "+o[17](o[48])+")")&&_(t,"transform",u),f[0]&36&&p!==(p=o[12]([o[16](o[2]),o[17](o[2])],[o[16](o[48]),o[17](o[48])]))&&_(s,"d",p),f[0]&36&&c!==(c=o[18](o[2],o[48]))&&_(s,"stroke-width",c)},d(o){o&&A(t),o&&A(s)}}}function No(n){let t,r,e,i,l,u,s,p,c;return{c(){t=G("g"),r=G("g"),e=G("g"),i=G("path"),s=G("path"),this.h()},l(o){t=C(o,"g",{transform:!0});var f=D(t);r=C(f,"g",{transform:!0});var a=D(r);e=C(a,"g",{transform:!0});var g=D(e);i=C(g,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),D(i).forEach(A),g.forEach(A),a.forEach(A),f.forEach(A),s=C(o,"path",{d:!0,stroke:!0,fill:!0,opacity:!0,"stroke-width":!0}),D(s).forEach(A),this.h()},h(){_(i,"d","M 0,-5 L 10,0 L 0,5 L 0,-5 Z"),_(i,"fill","#cc0000"),_(i,"stroke","black"),_(i,"stroke-width","2"),_(e,"transform","translate("+tn*2+", 0)"),_(r,"transform",l="rotate("+n[15]([n[16](n[48]),n[17](n[48])],[n[16](n[2]),n[17](n[2])])+")"),_(t,"transform",u="translate("+n[16](n[48])+", "+n[17](n[48])+")"),_(s,"d",p=n[12]([n[16](n[48]),n[17](n[48])],[n[16](n[2]),n[17](n[2])])),_(s,"stroke","#c00"),_(s,"fill","none"),_(s,"opacity","0.5"),_(s,"stroke-width",c=n[18](n[2],n[48]))},m(o,f){K(o,t,f),X(t,r),X(r,e),X(e,i),K(o,s,f)},p(o,f){f[0]&36&&l!==(l="rotate("+o[15]([o[16](o[48]),o[17](o[48])],[o[16](o[2]),o[17](o[2])])+")")&&_(r,"transform",l),f[0]&32&&u!==(u="translate("+o[16](o[48])+", "+o[17](o[48])+")")&&_(t,"transform",u),f[0]&36&&p!==(p=o[12]([o[16](o[48]),o[17](o[48])],[o[16](o[2]),o[17](o[2])]))&&_(s,"d",p),f[0]&36&&c!==(c=o[18](o[2],o[48]))&&_(s,"stroke-width",c)},d(o){o&&A(t),o&&A(s)}}}function je(n){let t,r,e,i,l,u,s,p,c,o=n[2][0]!==n[48][0]&&Qe(n);return{c(){t=G("g"),r=G("line"),s=G("circle"),o&&o.c(),this.h()},l(f){t=C(f,"g",{});var a=D(t);r=C(a,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),D(r).forEach(A),s=C(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),D(s).forEach(A),o&&o.l(a),a.forEach(A),this.h()},h(){_(r,"x2",e=vn(n[6],n[48][1])),_(r,"y2",i=yn(n[6],n[48][1])),_(r,"x1",l=n[16](n[48])),_(r,"y1",u=n[17](n[48])),_(r,"stroke","black"),_(s,"cx",p=vn(n[6],n[48][1])),_(s,"cy",c=yn(n[6],n[48][1])),_(s,"r","2"),_(s,"fill","black")},m(f,a){K(f,t,a),X(t,r),X(t,s),o&&o.m(t,null)},p(f,a){a[0]&96&&e!==(e=vn(f[6],f[48][1]))&&_(r,"x2",e),a[0]&96&&i!==(i=yn(f[6],f[48][1]))&&_(r,"y2",i),a[0]&32&&l!==(l=f[16](f[48]))&&_(r,"x1",l),a[0]&32&&u!==(u=f[17](f[48]))&&_(r,"y1",u),a[0]&96&&p!==(p=vn(f[6],f[48][1]))&&_(s,"cx",p),a[0]&96&&c!==(c=yn(f[6],f[48][1]))&&_(s,"cy",c),f[2][0]!==f[48][0]?o?o.p(f,a):(o=Qe(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(f){f&&A(t),o&&o.d()}}}function Po(n){let t,r,e,i;return{c(){t=G("image"),i=G("circle"),this.h()},l(l){t=C(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),D(t).forEach(A),i=C(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),D(i).forEach(A),this.h()},h(){_(t,"id",r=U(n[48][0])+"-image-map"),_(t,"href",e=ft+n[19](n[48][0])),Mn(t,"outline","none"),_(t,"height",tn*4),_(t,"width",tn*4),_(t,"x",-tn*2),_(t,"y",-tn*2),_(i,"cx","0"),_(i,"cy","0"),_(i,"r",tn*2),_(i,"stroke","black"),_(i,"fill","none")},m(l,u){K(l,t,u),K(l,i,u)},p(l,u){u[0]&32&&r!==(r=U(l[48][0])+"-image-map")&&_(t,"id",r),u[0]&32&&e!==(e=ft+l[19](l[48][0]))&&_(t,"href",e)},d(l){l&&A(t),l&&A(i)}}}function Ao(n){let t,r,e,i;return{c(){t=G("image"),i=G("circle"),this.h()},l(l){t=C(l,"image",{id:!0,href:!0,style:!0,height:!0,width:!0,x:!0,y:!0}),D(t).forEach(A),i=C(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),D(i).forEach(A),this.h()},h(){_(t,"id",r=U(n[48][0])+"-image-map"),_(t,"href",e=ft+n[19](n[48][0])),Mn(t,"outline","none"),_(t,"height",tn*4),_(t,"width",tn*4),_(t,"x",-tn*2),_(t,"y",-tn*2),_(i,"cx","0"),_(i,"cy","0"),_(i,"r",tn*2),_(i,"stroke","#c00"),_(i,"stroke-width","2"),_(i,"fill","none")},m(l,u){K(l,t,u),K(l,i,u)},p(l,u){u[0]&32&&r!==(r=U(l[48][0])+"-image-map")&&_(t,"id",r),u[0]&32&&e!==(e=ft+l[19](l[48][0]))&&_(t,"href",e)},d(l){l&&A(t),l&&A(i)}}}function xe(n){let t,r,e,i,l,u,s,p,c=n[48][0]+"",o,f,a,g,h,d,v,y;function M(k,L){return k[48][0]===k[2][0]?Ao:Po}let m=M(n),E=m(n);function P(...k){return n[25](n[48],...k)}function I(...k){return n[26](n[48],...k)}function T(...k){return n[27](n[48],...k)}function N(...k){return n[28](n[48],...k)}return{c(){t=G("g"),E.c(),r=G("rect"),p=G("text"),o=Rt(c),this.h()},l(k){t=C(k,"g",{id:!0,transform:!0,style:!0});var L=D(t);E.l(L),r=C(L,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),D(r).forEach(A),p=C(L,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var S=D(p);o=Lt(S,c),S.forEach(A),L.forEach(A),this.h()},h(){_(r,"id",e=U(n[48][0])+"-rect-map"),_(r,"x",i=-(Jn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn)/2),_(r,"width",l=Jn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn),_(r,"y",u=(At*2.5+Kn("#"+U(n[48][0])+"-text-map",n[48][0]))/2),_(r,"height",s=Kn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn-10),_(r,"fill","white"),_(r,"stroke","black"),_(r,"rx","15"),_(r,"opacity","0"),_(r,"class","pointer-events-none"),_(p,"id",f=U(n[48][0])+"-text-map"),_(p,"opacity","0"),_(p,"x","0"),_(p,"y",At*2.75),_(p,"text-anchor","middle"),_(t,"id",a=U(n[48][0])+"-group-map"),_(t,"transform",g=n[13](n[16](n[48]),n[17](n[48]))),Mn(t,"outline","none")},m(k,L){K(k,t,L),E.m(t,null),X(t,r),X(t,p),X(p,o),d=!0,v||(y=[$n(t,"focus",P),$n(t,"mouseover",I),$n(t,"blur",T),$n(t,"mouseout",N)],v=!0)},p(k,L){n=k,m===(m=M(n))&&E?E.p(n,L):(E.d(1),E=m(n),E&&(E.c(),E.m(t,r))),(!d||L[0]&32&&e!==(e=U(n[48][0])+"-rect-map"))&&_(r,"id",e),(!d||L[0]&32&&i!==(i=-(Jn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn)/2))&&_(r,"x",i),(!d||L[0]&32&&l!==(l=Jn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn))&&_(r,"width",l),(!d||L[0]&32&&u!==(u=(At*2.5+Kn("#"+U(n[48][0])+"-text-map",n[48][0]))/2))&&_(r,"y",u),(!d||L[0]&32&&s!==(s=Kn("#"+U(n[48][0])+"-text-map",n[48][0])+Pn-10))&&_(r,"height",s),(!d||L[0]&32)&&c!==(c=n[48][0]+"")&&Fr(o,c),(!d||L[0]&32&&f!==(f=U(n[48][0])+"-text-map"))&&_(p,"id",f),(!d||L[0]&32&&a!==(a=U(n[48][0])+"-group-map"))&&_(t,"id",a),(!d||L[0]&32&&g!==(g=n[13](n[16](n[48]),n[17](n[48]))))&&_(t,"transform",g)},i(k){d||(Or(()=>{h||(h=oe(t,ae,{},!0)),h.run(1)}),d=!0)},o(k){h||(h=oe(t,ae,{},!1)),h.run(0),d=!1},d(k){k&&A(t),E.d(),k&&h&&h.end(),v=!1,Yr(y)}}}function Ro(n){let t,r,e,i,l,u,s,p,c,o,f,a,g,h,d,v,y=n[7]&&Ue(n);return{c(){t=Gr("div"),r=G("svg"),e=G("defs"),i=G("style"),l=Rt(`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),y&&y.c(),u=G("svg"),s=G("defs"),p=G("style"),c=Rt(`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),o=G("g"),f=G("path"),a=G("polygon"),g=G("path"),this.h()},l(M){t=Cr(M,"DIV",{id:!0,class:!0,style:!0});var m=D(t);r=C(m,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var E=D(r);e=C(E,"defs",{});var P=D(e);i=C(P,"style",{});var I=D(i);l=Lt(I,`.pointer {
          cursor: pointer;
        }
        .slider {
          cursor: ew-resize;
        }
        #handle {
          fill: #000000;
          stroke: #000000;
          stroke-miterlimit: 10;
        }`),I.forEach(A),P.forEach(A),y&&y.l(E),u=C(E,"svg",{id:!0,xmlns:!0,viewBox:!0});var T=D(u);s=C(T,"defs",{});var N=D(s);p=C(N,"style",{});var k=D(p);c=Lt(k,`.cls-1,
          .cls-2 {
            fill: #c00;
          }
          .cls-2 {
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 0.25px;
          }`),k.forEach(A),N.forEach(A),o=C(T,"g",{transform:!0});var L=D(o);f=C(L,"path",{d:!0}),D(f).forEach(A),a=C(L,"polygon",{class:!0,points:!0}),D(a).forEach(A),g=C(L,"path",{class:!0,d:!0}),D(g).forEach(A),L.forEach(A),T.forEach(A),E.forEach(A),m.forEach(A),this.h()},h(){_(f,"d","M4.24,28.34l4.24-11.31L4.24,5.71,0,17.02l4.24,11.31Zm0-2.85l-2.8-7.47H7.04s-2.8,7.47-2.8,7.47Z"),_(a,"class","cls-1"),_(a,"points","4.24 8.29 7.04 15.76 1.44 15.76 4.24 8.29"),_(g,"class","cls-2"),_(g,"d","M1.83,.24h1.63l1.28,1.85h.01V.24h1.61V4.58h-1.62l-1.28-1.85h-.01v1.85H1.83V.24Z"),_(o,"transform",n[9]),_(u,"id","Layer_1"),_(u,"xmlns","http://www.w3.org/2000/svg"),_(u,"viewBox",h="0 0 "+n[0]+" "+n[1]),_(r,"class","inline-block absolute top-0 left-0"),_(r,"viewBox",d="0, 0, "+n[0]+", "+n[1]),_(r,"preserveAspectRatio","xMidYMid meet"),_(t,"id","container"),_(t,"class","inline-block relative align-top overflow-hidden"),Mn(t,"width",n[0]+"px"),Mn(t,"height",n[1]+"px")},m(M,m){K(M,t,m),X(t,r),X(r,e),X(e,i),X(i,l),y&&y.m(r,null),X(r,u),X(u,s),X(s,p),X(p,c),X(u,o),X(o,f),X(o,a),X(o,g),v=!0},p(M,m){M[7]?y?(y.p(M,m),m[0]&128&&Tn(y,1)):(y=Ue(M),y.c(),Tn(y,1),y.m(r,u)):y&&(tr(),ut(y,1,1,()=>{y=null}),er()),(!v||m[0]&512)&&_(o,"transform",M[9]),(!v||m[0]&3&&h!==(h="0 0 "+M[0]+" "+M[1]))&&_(u,"viewBox",h),(!v||m[0]&3&&d!==(d="0, 0, "+M[0]+", "+M[1]))&&_(r,"viewBox",d),(!v||m[0]&1)&&Mn(t,"width",M[0]+"px"),(!v||m[0]&2)&&Mn(t,"height",M[1]+"px")},i(M){v||(Tn(y),v=!0)},o(M){ut(y),v=!1},d(M){M&&A(t),y&&y.d()}}}const tn=15,At=20,Pn=20,it=1e3;function Lo(n,t,r){let e,i,l,u=new Worker(""+new URL("../workers/sim-nodes.worker-6d6b735a.js",import.meta.url).href);const s=R=>{r(5,y=R.data.nodes),r(2,M=y.filter(F=>F[0]===M[0])[0])};u.onmessage=s;let{width:p}=t,{height:c}=t,o,f,a,g,h,d,v,y,M,m,E;const P=zi(),I=P.lines(),T=P.outline();let N,k,L;const S=(R,F)=>{if(R[0]===F[0]&&R[1]===F[1])return"";const x=Zr(),Q=go(x);return F[0]-R[0],F[1]-R[1],Q.lineStart(),Q.point(R[0],R[1]),Q.point(F[0],F[1]),Q.lineEnd(),x.toString()};let q;const O=(R,F)=>`translate(${R}, ${F})`,Y=R=>{d=h.filter(([,F])=>F.length>1?F[0].year<=R&&F[1].year>R:F[0].year<=R);for(const F of d)F.x=vn(N,F[1]),F.y=yn(N,F[1])},w=(R,F)=>{const x=v.find(Q=>Q[0]===F);return x?!!x[1].find(dn=>dn.influenced===R):!1},z=(R,F)=>Math.atan2(F[1]-R[1],F[0]-R[0])*180/Math.PI,Z=(R,F)=>{r(2,M=h.filter(j=>j[0]===R)[0]),F.push(M);let x=180,Q=180,dn=-180,nn=-180;N.scale(L),N.angle(0);for(const j of F)j.x=vn(N,j[1]),j.y=yn(N,j[1]),j[1][0].lon>dn&&(dn=j[1][0].lon),j[1][0].lat>nn&&(nn=j[1][0].lat),j[1][0].lon<x&&(x=j[1][0].lon),j[1][0].lat<Q&&(Q=j[1][0].lat);const Et=[(dn+x)/2,(nn+Q)/2],ie=[[nn,x],[Q,dn]],Un=N(ie[0]),Vn=N(ie[1]),Tr=.6/Math.max(Math.abs(Vn[1]-Un[1])/p,Math.abs(Vn[0]-Un[0])/c);N.center(Et),N.translate([p/2,c/2]),N.scale(Tr*L),Math.abs(Vn[0]-Un[0])>Math.abs(Vn[1]-Un[1])?(N.angle(90),r(24,i=-90)):r(24,i=0),r(8,e+=1);for(const j of F)j.x=vn(N,j[1]),j.y=yn(N,j[1]);u.postMessage({nodes:F,radius:tn}),u.postMessage({nodes:F,radius:tn})},V=R=>R.hasOwnProperty("x")?R.x:vn(N,R[1]),H=R=>R.hasOwnProperty("y")?R.y:yn(N,R[1]),wn=(R,F)=>{const x=R[1][0].year,Q=F[1][0].year;return q(Math.abs(Q-x))},an=R=>g.filter(x=>x.artist===R)[0].thumbnail,fn=R=>{Qn(R+"-text-map").transition().duration(it).attr("opacity",1),Qn(R+"-rect-map").transition().duration(it).attr("opacity",1)},en=R=>{Qn(R+"-text-map").transition().duration(it).attr("opacity",0),Qn(R+"-rect-map").transition().duration(it).attr("opacity",0)},Nn=(R,F,x,Q,dn)=>{r(3,o=yo(R,R.objects.countries)),f=Mo(R.objects.countries.geometries),r(6,N=So().fitSize([p,c+4],o)),r(7,k=Hi().projection(N)),L=N.scale(),r(4,a=new Array(o.features.length));for(let nn=0;nn<a.length;++nn)r(4,a[nn]=se(f[nn],Et=>a[Et])+1|0,a);v=x,Q?(m=jr(Q,nn=>nn.year),E=se(Q,nn=>nn.year),h=qr(Q,nn=>nn.artist),Y(m),q=Kt().domain([0,E-m]).range([2,tn]),Kt().domain([m,E]).range([0,p])):console.error("Unable to load Artist Locations!"),g=dn},_n=(R,F)=>fn("#"+U(R[0])),Rr=(R,F)=>fn("#"+U(R[0])),Lr=(R,F)=>en("#"+U(R[0])),Ir=(R,F)=>en("#"+U(R[0]));return n.$$set=R=>{"width"in R&&r(0,p=R.width),"height"in R&&r(1,c=R.height)},n.$$.update=()=>{n.$$.dirty[0]&4,n.$$.dirty[0]&16777219&&r(9,l=i===0?`translate(${p-25}, ${c-60}) rotate(${i}) scale(2)`:`translate(${p-65}, ${c-5}) rotate(${i}) scale(2)`)},r(0,p=0),r(1,c=0),r(3,o=null),f=null,r(4,a=[]),h=[],d=[],v=[],r(5,y=[]),m=0,E=2100,r(8,e=0),r(24,i=0),[p,c,M,o,a,y,N,k,e,l,I,T,S,O,w,z,V,H,wn,an,fn,en,Z,Nn,i,_n,Rr,Lr,Ir]}class Oo extends zr{constructor(t){super(),Dr(this,t,Lo,Ro,nr,{width:0,height:1,DisplayInfluences:22,Initialize:23},null,[-1,-1])}get DisplayInfluences(){return this.$$.ctx[22]}get Initialize(){return this.$$.ctx[23]}}export{Oo as M};
