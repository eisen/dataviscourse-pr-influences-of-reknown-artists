import{S as hr,i as gr,s as pr,k as dr,O as H,q as Xe,l as vr,m as B,P as V,r as Oe,h as G,n as M,p as Cn,b as tn,F as J,f as Sn,g as Be,t as jn,d as qe,e as Kn,H as Zn,u as mr,J as _r,Q as Ut}from"./index-fa249ad2.js";import{c as yr,i as _t,d as Zt,e as Jt,f as Mr,s as bn}from"./config-fd755020.js";import{G as sn,a as hn,A as Z,T as Xn,b as On}from"./helpers-06848ef0.js";import{f as Qt}from"./index-91213610.js";import{r as yn,i as wr}from"./init-08c38208.js";import{g as Sr}from"./group-d3aa616c.js";function Jn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Er(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function $e(n){let t,r,e;n.length!==2?(t=Jn,r=(a,h)=>Jn(n(a),h),e=(a,h)=>n(a)-h):(t=n===Jn||n===Er?n:kr,r=n,e=n);function i(a,h,s=0,l=a.length){if(s<l){if(t(h,h)!==0)return l;do{const f=s+l>>>1;r(a[f],h)<0?s=f+1:l=f}while(s<l)}return s}function o(a,h,s=0,l=a.length){if(s<l){if(t(h,h)!==0)return l;do{const f=s+l>>>1;r(a[f],h)<=0?s=f+1:l=f}while(s<l)}return s}function u(a,h,s=0,l=a.length){const f=i(a,h,s,l-1);return f>s&&e(a[f-1],h)>-e(a[f],h)?f-1:f}return{left:i,center:u,right:o}}function kr(){return 0}function Nr(n){return n===null?NaN:+n}const Pr=$e(Jn),Ar=Pr.right;$e(Nr).center;const Rr=Ar;class gn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const o=r[i],u=t+o,a=Math.abs(t)<Math.abs(o)?t-(u-o):o-(u-t);a&&(r[e++]=a),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,o,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,o=i-(u-e),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,e=u+i,i==e-u&&(u=e))}return u}}var yt=Math.sqrt(50),Mt=Math.sqrt(10),wt=Math.sqrt(2);function Lr(n,t,r){var e,i=-1,o,u,a;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(o=n,n=t,t=o),(a=He(n,t,r))===0||!isFinite(a))return[];if(a>0){let h=Math.round(n/a),s=Math.round(t/a);for(h*a<n&&++h,s*a>t&&--s,u=new Array(o=s-h+1);++i<o;)u[i]=(h+i)*a}else{a=-a;let h=Math.round(n*a),s=Math.round(t*a);for(h/a<n&&++h,s/a>t&&--s,u=new Array(o=s-h+1);++i<o;)u[i]=(h+i)/a}return e&&u.reverse(),u}function He(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,i);return i>=0?(o>=yt?10:o>=Mt?5:o>=wt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=yt?10:o>=Mt?5:o>=wt?2:1)}function zr(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/i;return o>=yt?i*=10:o>=Mt?i*=5:o>=wt&&(i*=2),t<n?-i:i}function jt(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Ir(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*Tr(n){for(const t of n)yield*t}function Ve(n){return Array.from(Tr(n))}function Fr(n){return n}var st=1,ht=2,St=3,Bn=4,Kt=1e-6;function Dr(n){return"translate("+n+",0)"}function Gr(n){return"translate(0,"+n+")"}function Yr(n){return t=>+n(t)}function Cr(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function Xr(){return!this.__axis}function Or(n,t){var r=[],e=null,i=null,o=6,u=6,a=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=n===st||n===Bn?-1:1,l=n===Bn||n===ht?"x":"y",f=n===st||n===St?Dr:Gr;function c(g){var d=e==null?t.ticks?t.ticks.apply(t,r):t.domain():e,y=i==null?t.tickFormat?t.tickFormat.apply(t,r):Fr:i,v=Math.max(o,0)+a,m=t.range(),k=+m[0]+h,p=+m[m.length-1]+h,S=(t.bandwidth?Cr:Yr)(t.copy(),h),_=g.selection?g.selection():g,P=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,t).order(),R=w.exit(),L=w.enter().append("g").attr("class","tick"),F=w.select("line"),N=w.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(L),F=F.merge(L.append("line").attr("stroke","currentColor").attr(l+"2",s*o)),N=N.merge(L.append("text").attr("fill","currentColor").attr(l,s*v).attr("dy",n===st?"0em":n===St?"0.71em":"0.32em")),g!==_&&(P=P.transition(g),w=w.transition(g),F=F.transition(g),N=N.transition(g),R=R.transition(g).attr("opacity",Kt).attr("transform",function(z){return isFinite(z=S(z))?f(z+h):this.getAttribute("transform")}),L.attr("opacity",Kt).attr("transform",function(z){var T=this.parentNode.__axis;return f((T&&isFinite(T=T(z))?T:S(z))+h)})),R.remove(),P.attr("d",n===Bn||n===ht?u?"M"+s*u+","+k+"H"+h+"V"+p+"H"+s*u:"M"+h+","+k+"V"+p:u?"M"+k+","+s*u+"V"+h+"H"+p+"V"+s*u:"M"+k+","+h+"H"+p),w.attr("opacity",1).attr("transform",function(z){return f(S(z)+h)}),F.attr(l+"2",s*o),N.attr(l,s*v).text(y),_.filter(Xr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===ht?"start":n===Bn?"end":"middle"),_.each(function(){this.__axis=S})}return c.scale=function(g){return arguments.length?(t=g,c):t},c.ticks=function(){return r=Array.from(arguments),c},c.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),c):r.slice()},c.tickValues=function(g){return arguments.length?(e=g==null?null:Array.from(g),c):e&&e.slice()},c.tickFormat=function(g){return arguments.length?(i=g,c):i},c.tickSize=function(g){return arguments.length?(o=u=+g,c):o},c.tickSizeInner=function(g){return arguments.length?(o=+g,c):o},c.tickSizeOuter=function(g){return arguments.length?(u=+g,c):u},c.tickPadding=function(g){return arguments.length?(a=+g,c):a},c.offset=function(g){return arguments.length?(h=+g,c):h},c}function Br(n){return Or(St,n)}function qr(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(o){for(i=0;i<r;++i)e[i]=n[i]*(1-o)+t[i]*o;return e}}function $r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Hr(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),o=new Array(r),u;for(u=0;u<e;++u)i[u]=qt(n[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(a){for(u=0;u<e;++u)o[u]=i[u](a);return o}}function Vr(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function Wr(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=qt(n[i],t[i]):e[i]=t[i];return function(o){for(i in r)e[i]=r[i](o);return e}}function qt(n,t){var r=typeof t,e;return t==null||r==="boolean"?yr(t):(r==="number"?_t:r==="string"?(e=Zt(t))?(t=e,Jt):Mr:t instanceof Zt?Jt:t instanceof Date?Vr:$r(t)?qr:Array.isArray(t)?Hr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wr:_t)(n,t)}function Ur(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Zr(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function xn(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function En(n){return n=xn(Math.abs(n)),n?n[1]:NaN}function Jr(n,t){return function(r,e){for(var i=r.length,o=[],u=0,a=n[0],h=0;i>0&&a>0&&(h+a+1>e&&(a=Math.max(1,e-h)),o.push(r.substring(i-=a,i+a)),!((h+=a+1)>e));)a=n[u=(u+1)%n.length];return o.reverse().join(t)}}function Qr(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var jr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nt(n){if(!(t=jr.exec(n)))throw new Error("invalid format: "+n);var t;return new $t({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nt.prototype=$t.prototype;function $t(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}$t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kr(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var We;function br(n,t){var r=xn(n,t);if(!r)return n+"";var e=r[0],i=r[1],o=i-(We=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return o===u?e:o>u?e+new Array(o-u+1).join("0"):o>0?e.slice(0,o)+"."+e.slice(o):"0."+new Array(1-o).join("0")+xn(n,Math.max(0,t+o-1))[0]}function bt(n,t){var r=xn(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const xt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Zr,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>bt(n*100,t),r:bt,s:br,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function ne(n){return n}var te=Array.prototype.map,ee=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function xr(n){var t=n.grouping===void 0||n.thousands===void 0?ne:Jr(te.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?ne:Qr(te.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function s(f){f=nt(f);var c=f.fill,g=f.align,d=f.sign,y=f.symbol,v=f.zero,m=f.width,k=f.comma,p=f.precision,S=f.trim,_=f.type;_==="n"?(k=!0,_="g"):xt[_]||(p===void 0&&(p=12),S=!0,_="g"),(v||c==="0"&&g==="=")&&(v=!0,c="0",g="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w=y==="$"?e:/[%p]/.test(_)?u:"",R=xt[_],L=/[defgprs%]/.test(_);p=p===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function F(N){var z=P,T=w,D,E,A;if(_==="c")T=R(N)+T,N="";else{N=+N;var I=N<0||1/N<0;if(N=isNaN(N)?h:R(Math.abs(N),p),S&&(N=Kr(N)),I&&+N==0&&d!=="+"&&(I=!1),z=(I?d==="("?d:a:d==="-"||d==="("?"":d)+z,T=(_==="s"?ee[8+We/3]:"")+T+(I&&d==="("?")":""),L){for(D=-1,E=N.length;++D<E;)if(A=N.charCodeAt(D),48>A||A>57){T=(A===46?i+N.slice(D+1):N.slice(D))+T,N=N.slice(0,D);break}}}k&&!v&&(N=t(N,1/0));var X=z.length+N.length+T.length,O=X<m?new Array(m-X+1).join(c):"";switch(k&&v&&(N=t(O+N,O.length?m-T.length:1/0),O=""),g){case"<":N=z+N+T+O;break;case"=":N=z+O+N+T;break;case"^":N=O.slice(0,X=O.length>>1)+z+N+T+O.slice(X);break;default:N=O+z+N+T;break}return o(N)}return F.toString=function(){return f+""},F}function l(f,c){var g=s((f=nt(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(En(c)/3)))*3,y=Math.pow(10,-d),v=ee[8+d/3];return function(m){return g(y*m)+v}}return{format:s,formatPrefix:l}}var qn,Ue,Ze;ni({thousands:",",grouping:[3],currency:["$",""]});function ni(n){return qn=xr(n),Ue=qn.format,Ze=qn.formatPrefix,qn}function ti(n){return Math.max(0,-En(Math.abs(n)))}function ei(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(En(t)/3)))*3-En(Math.abs(n)))}function ri(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,En(t)-En(n))+1}var C=1e-6,ii=1e-12,Y=Math.PI,K=Y/2,re=Y/4,x=Y*2,an=180/Y,Q=Y/180,q=Math.abs,oi=Math.atan,Fn=Math.atan2,W=Math.cos,$n=Math.ceil,U=Math.sin,ui=Math.sign||function(n){return n>0?1:n<0?-1:0},dn=Math.sqrt;function li(n){return n>1?0:n<-1?Y:Math.acos(n)}function Dn(n){return n>1?K:n<-1?-K:Math.asin(n)}function b(){}function tt(n,t){n&&oe.hasOwnProperty(n.type)&&oe[n.type](n,t)}var ie={Feature:function(n,t){tt(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)tt(r[e].geometry,t)}},oe={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Et(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)Et(r[e],t,0)},Polygon:function(n,t){ue(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ue(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)tt(r[e],t)}};function Et(n,t,r){var e=-1,i=n.length-r,o;for(t.lineStart();++e<i;)o=n[e],t.point(o[0],o[1],o[2]);t.lineEnd()}function ue(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)Et(n[r],t,1);t.polygonEnd()}function _n(n,t){n&&ie.hasOwnProperty(n.type)?ie[n.type](n,t):tt(n,t)}function kt(n){return[Fn(n[1],n[0]),Dn(n[2])]}function kn(n){var t=n[0],r=n[1],e=W(r);return[e*W(t),e*U(t),U(r)]}function Hn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function et(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function gt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Vn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Nt(n){var t=dn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Pt(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function At(n,t){return[q(n)>Y?n+Math.round(-n/x)*x:n,t]}At.invert=At;function ai(n,t,r){return(n%=x)?t||r?Pt(ae(n),fe(t,r)):ae(n):t||r?fe(t,r):At}function le(n){return function(t,r){return t+=n,[t>Y?t-x:t<-Y?t+x:t,r]}}function ae(n){var t=le(n);return t.invert=le(-n),t}function fe(n,t){var r=W(n),e=U(n),i=W(t),o=U(t);function u(a,h){var s=W(h),l=W(a)*s,f=U(a)*s,c=U(h),g=c*r+l*e;return[Fn(f*i-g*o,l*r-c*e),Dn(g*i+f*o)]}return u.invert=function(a,h){var s=W(h),l=W(a)*s,f=U(a)*s,c=U(h),g=c*i-f*o;return[Fn(f*i+c*o,l*r+g*e),Dn(g*r-l*e)]},u}function fi(n,t,r,e,i,o){if(!!r){var u=W(t),a=U(t),h=e*r;i==null?(i=t+e*x,o=t-h/2):(i=ce(u,i),o=ce(u,o),(e>0?i<o:i>o)&&(i+=e*x));for(var s,l=i;e>0?l>o:l<o;l-=h)s=kt([u,-a*W(l),-a*U(l)]),n.point(s[0],s[1])}}function ce(n,t){t=kn(t),t[0]-=n,Nt(t);var r=li(-t[1]);return((-t[2]<0?-r:r)+x-C)%x}function Je(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:b,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Qn(n,t){return q(n[0]-t[0])<C&&q(n[1]-t[1])<C}function Wn(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Qe(n,t,r,e,i){var o=[],u=[],a,h;if(n.forEach(function(d){if(!((y=d.length-1)<=0)){var y,v=d[0],m=d[y],k;if(Qn(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),a=0;a<y;++a)i.point((v=d[a])[0],v[1]);i.lineEnd();return}m[0]+=2*C}o.push(k=new Wn(v,d,null,!0)),u.push(k.o=new Wn(v,null,k,!1)),o.push(k=new Wn(m,d,null,!1)),u.push(k.o=new Wn(m,null,k,!0))}}),!!o.length){for(u.sort(t),se(o),se(u),a=0,h=u.length;a<h;++a)u[a].e=r=!r;for(var s=o[0],l,f;;){for(var c=s,g=!0;c.v;)if((c=c.n)===s)return;l=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(g)for(a=0,h=l.length;a<h;++a)i.point((f=l[a])[0],f[1]);else e(c.x,c.n.x,1,i);c=c.n}else{if(g)for(l=c.p.z,a=l.length-1;a>=0;--a)i.point((f=l[a])[0],f[1]);else e(c.x,c.p.x,-1,i);c=c.p}c=c.o,l=c.z,g=!g}while(!c.v);i.lineEnd()}}}function se(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function pt(n){return q(n[0])<=Y?n[0]:ui(n[0])*((q(n[0])+Y)%x-Y)}function ci(n,t){var r=pt(t),e=t[1],i=U(e),o=[U(r),-W(r),0],u=0,a=0,h=new gn;i===1?e=K+C:i===-1&&(e=-K-C);for(var s=0,l=n.length;s<l;++s)if(!!(c=(f=n[s]).length))for(var f,c,g=f[c-1],d=pt(g),y=g[1]/2+re,v=U(y),m=W(y),k=0;k<c;++k,d=S,v=P,m=w,g=p){var p=f[k],S=pt(p),_=p[1]/2+re,P=U(_),w=W(_),R=S-d,L=R>=0?1:-1,F=L*R,N=F>Y,z=v*P;if(h.add(Fn(z*L*U(F),m*w+z*W(F))),u+=N?R+L*x:R,N^d>=r^S>=r){var T=et(kn(g),kn(p));Nt(T);var D=et(o,T);Nt(D);var E=(N^R>=0?-1:1)*Dn(D[2]);(e>E||e===E&&(T[0]||T[1]))&&(a+=N^R>=0?1:-1)}}return(u<-C||u<C&&h<-ii)^a&1}function je(n,t,r,e){return function(i){var o=t(i),u=Je(),a=t(u),h=!1,s,l,f,c={point:g,lineStart:y,lineEnd:v,polygonStart:function(){c.point=m,c.lineStart=k,c.lineEnd=p,l=[],s=[]},polygonEnd:function(){c.point=g,c.lineStart=y,c.lineEnd=v,l=Ve(l);var S=ci(s,e);l.length?(h||(i.polygonStart(),h=!0),Qe(l,hi,S,r,i)):S&&(h||(i.polygonStart(),h=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),l=s=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(S,_){n(S,_)&&i.point(S,_)}function d(S,_){o.point(S,_)}function y(){c.point=d,o.lineStart()}function v(){c.point=g,o.lineEnd()}function m(S,_){f.push([S,_]),a.point(S,_)}function k(){a.lineStart(),f=[]}function p(){m(f[0][0],f[0][1]),a.lineEnd();var S=a.clean(),_=u.result(),P,w=_.length,R,L,F;if(f.pop(),s.push(f),f=null,!!w){if(S&1){if(L=_[0],(R=L.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),P=0;P<R;++P)i.point((F=L[P])[0],F[1]);i.lineEnd()}return}w>1&&S&2&&_.push(_.pop().concat(_.shift())),l.push(_.filter(si))}}return c}}function si(n){return n.length>1}function hi(n,t){return((n=n.x)[0]<0?n[1]-K-C:K-n[1])-((t=t.x)[0]<0?t[1]-K-C:K-t[1])}const he=je(function(){return!0},gi,di,[-Y,-K]);function gi(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(o,u){var a=o>0?Y:-Y,h=q(o-t);q(h-Y)<C?(n.point(t,r=(r+u)/2>0?K:-K),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(o,r),i=0):e!==a&&h>=Y&&(q(t-e)<C&&(t-=e*C),q(o-a)<C&&(o-=a*C),r=pi(t,r,o,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),i=0),n.point(t=o,r=u),e=a},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function pi(n,t,r,e){var i,o,u=U(n-r);return q(u)>C?oi((U(t)*(o=W(e))*U(r)-U(e)*(i=W(t))*U(n))/(i*o*u)):(t+e)/2}function di(n,t,r,e){var i;if(n==null)i=r*K,e.point(-Y,i),e.point(0,i),e.point(Y,i),e.point(Y,0),e.point(Y,-i),e.point(0,-i),e.point(-Y,-i),e.point(-Y,0),e.point(-Y,i);else if(q(n[0]-t[0])>C){var o=n[0]<t[0]?Y:-Y;i=r*o/2,e.point(-o,i),e.point(0,i),e.point(o,i)}else e.point(t[0],t[1])}function vi(n){var t=W(n),r=6*Q,e=t>0,i=q(t)>C;function o(l,f,c,g){fi(g,n,r,c,l,f)}function u(l,f){return W(l)*W(f)>t}function a(l){var f,c,g,d,y;return{lineStart:function(){d=g=!1,y=1},point:function(v,m){var k=[v,m],p,S=u(v,m),_=e?S?0:s(v,m):S?s(v+(v<0?Y:-Y),m):0;if(!f&&(d=g=S)&&l.lineStart(),S!==g&&(p=h(f,k),(!p||Qn(f,p)||Qn(k,p))&&(k[2]=1)),S!==g)y=0,S?(l.lineStart(),p=h(k,f),l.point(p[0],p[1])):(p=h(f,k),l.point(p[0],p[1],2),l.lineEnd()),f=p;else if(i&&f&&e^S){var P;!(_&c)&&(P=h(k,f,!0))&&(y=0,e?(l.lineStart(),l.point(P[0][0],P[0][1]),l.point(P[1][0],P[1][1]),l.lineEnd()):(l.point(P[1][0],P[1][1]),l.lineEnd(),l.lineStart(),l.point(P[0][0],P[0][1],3)))}S&&(!f||!Qn(f,k))&&l.point(k[0],k[1]),f=k,g=S,c=_},lineEnd:function(){g&&l.lineEnd(),f=null},clean:function(){return y|(d&&g)<<1}}}function h(l,f,c){var g=kn(l),d=kn(f),y=[1,0,0],v=et(g,d),m=Hn(v,v),k=v[0],p=m-k*k;if(!p)return!c&&l;var S=t*m/p,_=-t*k/p,P=et(y,v),w=Vn(y,S),R=Vn(v,_);gt(w,R);var L=P,F=Hn(w,L),N=Hn(L,L),z=F*F-N*(Hn(w,w)-1);if(!(z<0)){var T=dn(z),D=Vn(L,(-F-T)/N);if(gt(D,w),D=kt(D),!c)return D;var E=l[0],A=f[0],I=l[1],X=f[1],O;A<E&&(O=E,E=A,A=O);var cn=A-E,$=q(cn-Y)<C,un=$||cn<C;if(!$&&X<I&&(O=I,I=X,X=O),un?$?I+X>0^D[1]<(q(D[0]-E)<C?I:X):I<=D[1]&&D[1]<=X:cn>Y^(E<=D[0]&&D[0]<=A)){var ln=Vn(L,(-F+T)/N);return gt(ln,w),[D,kt(ln)]}}}function s(l,f){var c=e?n:Y-n,g=0;return l<-c?g|=1:l>c&&(g|=2),f<-c?g|=4:f>c&&(g|=8),g}return je(u,a,o,e?[0,-n]:[-Y,n-Y])}function mi(n,t,r,e,i,o){var u=n[0],a=n[1],h=t[0],s=t[1],l=0,f=1,c=h-u,g=s-a,d;if(d=r-u,!(!c&&d>0)){if(d/=c,c<0){if(d<l)return;d<f&&(f=d)}else if(c>0){if(d>f)return;d>l&&(l=d)}if(d=i-u,!(!c&&d<0)){if(d/=c,c<0){if(d>f)return;d>l&&(l=d)}else if(c>0){if(d<l)return;d<f&&(f=d)}if(d=e-a,!(!g&&d>0)){if(d/=g,g<0){if(d<l)return;d<f&&(f=d)}else if(g>0){if(d>f)return;d>l&&(l=d)}if(d=o-a,!(!g&&d<0)){if(d/=g,g<0){if(d>f)return;d>l&&(l=d)}else if(g>0){if(d<l)return;d<f&&(f=d)}return l>0&&(n[0]=u+l*c,n[1]=a+l*g),f<1&&(t[0]=u+f*c,t[1]=a+f*g),!0}}}}}var An=1e9,Un=-An;function _i(n,t,r,e){function i(s,l){return n<=s&&s<=r&&t<=l&&l<=e}function o(s,l,f,c){var g=0,d=0;if(s==null||(g=u(s,f))!==(d=u(l,f))||h(s,l)<0^f>0)do c.point(g===0||g===3?n:r,g>1?e:t);while((g=(g+f+4)%4)!==d);else c.point(l[0],l[1])}function u(s,l){return q(s[0]-n)<C?l>0?0:3:q(s[0]-r)<C?l>0?2:1:q(s[1]-t)<C?l>0?1:0:l>0?3:2}function a(s,l){return h(s.x,l.x)}function h(s,l){var f=u(s,1),c=u(l,1);return f!==c?f-c:f===0?l[1]-s[1]:f===1?s[0]-l[0]:f===2?s[1]-l[1]:l[0]-s[0]}return function(s){var l=s,f=Je(),c,g,d,y,v,m,k,p,S,_,P,w={point:R,lineStart:z,lineEnd:T,polygonStart:F,polygonEnd:N};function R(E,A){i(E,A)&&l.point(E,A)}function L(){for(var E=0,A=0,I=g.length;A<I;++A)for(var X=g[A],O=1,cn=X.length,$=X[0],un,ln,Yn=$[0],vn=$[1];O<cn;++O)un=Yn,ln=vn,$=X[O],Yn=$[0],vn=$[1],ln<=e?vn>e&&(Yn-un)*(e-ln)>(vn-ln)*(n-un)&&++E:vn<=e&&(Yn-un)*(e-ln)<(vn-ln)*(n-un)&&--E;return E}function F(){l=f,c=[],g=[],P=!0}function N(){var E=L(),A=P&&E,I=(c=Ve(c)).length;(A||I)&&(s.polygonStart(),A&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),I&&Qe(c,a,E,o,s),s.polygonEnd()),l=s,c=g=d=null}function z(){w.point=D,g&&g.push(d=[]),_=!0,S=!1,k=p=NaN}function T(){c&&(D(y,v),m&&S&&f.rejoin(),c.push(f.result())),w.point=R,S&&l.lineEnd()}function D(E,A){var I=i(E,A);if(g&&d.push([E,A]),_)y=E,v=A,m=I,_=!1,I&&(l.lineStart(),l.point(E,A));else if(I&&S)l.point(E,A);else{var X=[k=Math.max(Un,Math.min(An,k)),p=Math.max(Un,Math.min(An,p))],O=[E=Math.max(Un,Math.min(An,E)),A=Math.max(Un,Math.min(An,A))];mi(X,O,n,t,r,e)?(S||(l.lineStart(),l.point(X[0],X[1])),l.point(O[0],O[1]),I||l.lineEnd(),P=!1):I&&(l.lineStart(),l.point(E,A),P=!1)}k=E,p=A,S=I}return w}}function ge(n,t,r){var e=yn(n,t-C,r).concat(t);return function(i){return e.map(function(o){return[i,o]})}}function pe(n,t,r){var e=yn(n,t-C,r).concat(t);return function(i){return e.map(function(o){return[o,i]})}}function yi(){var n,t,r,e,i,o,u,a,h=10,s=h,l=90,f=360,c,g,d,y,v=2.5;function m(){return{type:"MultiLineString",coordinates:k()}}function k(){return yn($n(e/l)*l,r,l).map(d).concat(yn($n(a/f)*f,u,f).map(y)).concat(yn($n(t/h)*h,n,h).filter(function(p){return q(p%l)>C}).map(c)).concat(yn($n(o/s)*s,i,s).filter(function(p){return q(p%f)>C}).map(g))}return m.lines=function(){return k().map(function(p){return{type:"LineString",coordinates:p}})},m.outline=function(){return{type:"Polygon",coordinates:[d(e).concat(y(u).slice(1),d(r).reverse().slice(1),y(a).reverse().slice(1))]}},m.extent=function(p){return arguments.length?m.extentMajor(p).extentMinor(p):m.extentMinor()},m.extentMajor=function(p){return arguments.length?(e=+p[0][0],r=+p[1][0],a=+p[0][1],u=+p[1][1],e>r&&(p=e,e=r,r=p),a>u&&(p=a,a=u,u=p),m.precision(v)):[[e,a],[r,u]]},m.extentMinor=function(p){return arguments.length?(t=+p[0][0],n=+p[1][0],o=+p[0][1],i=+p[1][1],t>n&&(p=t,t=n,n=p),o>i&&(p=o,o=i,i=p),m.precision(v)):[[t,o],[n,i]]},m.step=function(p){return arguments.length?m.stepMajor(p).stepMinor(p):m.stepMinor()},m.stepMajor=function(p){return arguments.length?(l=+p[0],f=+p[1],m):[l,f]},m.stepMinor=function(p){return arguments.length?(h=+p[0],s=+p[1],m):[h,s]},m.precision=function(p){return arguments.length?(v=+p,c=ge(o,i,90),g=pe(t,n,v),d=ge(a,u,90),y=pe(e,r,v),m):v},m.extentMajor([[-180,-90+C],[180,90-C]]).extentMinor([[-180,-80-C],[180,80+C]])}const Rt=n=>n;var dt=new gn,Lt=new gn,Ke,be,zt,It,fn={point:b,lineStart:b,lineEnd:b,polygonStart:function(){fn.lineStart=Mi,fn.lineEnd=Si},polygonEnd:function(){fn.lineStart=fn.lineEnd=fn.point=b,dt.add(q(Lt)),Lt=new gn},result:function(){var n=dt/2;return dt=new gn,n}};function Mi(){fn.point=wi}function wi(n,t){fn.point=xe,Ke=zt=n,be=It=t}function xe(n,t){Lt.add(It*n-zt*t),zt=n,It=t}function Si(){xe(Ke,be)}const de=fn;var Nn=1/0,rt=Nn,Gn=-Nn,it=Gn,Ei={point:ki,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b,result:function(){var n=[[Nn,rt],[Gn,it]];return Gn=it=-(rt=Nn=1/0),n}};function ki(n,t){n<Nn&&(Nn=n),n>Gn&&(Gn=n),t<rt&&(rt=t),t>it&&(it=t)}const ot=Ei;var Tt=0,Ft=0,Rn=0,ut=0,lt=0,Mn=0,Dt=0,Gt=0,Ln=0,nr,tr,en,rn,nn={point:pn,lineStart:ve,lineEnd:me,polygonStart:function(){nn.lineStart=Ai,nn.lineEnd=Ri},polygonEnd:function(){nn.point=pn,nn.lineStart=ve,nn.lineEnd=me},result:function(){var n=Ln?[Dt/Ln,Gt/Ln]:Mn?[ut/Mn,lt/Mn]:Rn?[Tt/Rn,Ft/Rn]:[NaN,NaN];return Tt=Ft=Rn=ut=lt=Mn=Dt=Gt=Ln=0,n}};function pn(n,t){Tt+=n,Ft+=t,++Rn}function ve(){nn.point=Ni}function Ni(n,t){nn.point=Pi,pn(en=n,rn=t)}function Pi(n,t){var r=n-en,e=t-rn,i=dn(r*r+e*e);ut+=i*(en+n)/2,lt+=i*(rn+t)/2,Mn+=i,pn(en=n,rn=t)}function me(){nn.point=pn}function Ai(){nn.point=Li}function Ri(){er(nr,tr)}function Li(n,t){nn.point=er,pn(nr=en=n,tr=rn=t)}function er(n,t){var r=n-en,e=t-rn,i=dn(r*r+e*e);ut+=i*(en+n)/2,lt+=i*(rn+t)/2,Mn+=i,i=rn*n-en*t,Dt+=i*(en+n),Gt+=i*(rn+t),Ln+=i*3,pn(en=n,rn=t)}const _e=nn;function rr(n){this._context=n}rr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,x);break}}},result:b};var Yt=new gn,vt,ir,or,zn,In,at={point:b,lineStart:function(){at.point=zi},lineEnd:function(){vt&&ur(ir,or),at.point=b},polygonStart:function(){vt=!0},polygonEnd:function(){vt=null},result:function(){var n=+Yt;return Yt=new gn,n}};function zi(n,t){at.point=ur,ir=zn=n,or=In=t}function ur(n,t){zn-=n,In-=t,Yt.add(dn(zn*zn+In*In)),zn=n,In=t}const ye=at;function lr(){this._string=[]}lr.prototype={_radius:4.5,_circle:Me(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=Me(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Me(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Ii(n,t){var r=4.5,e,i;function o(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),_n(u,e(i))),i.result()}return o.area=function(u){return _n(u,e(de)),de.result()},o.measure=function(u){return _n(u,e(ye)),ye.result()},o.bounds=function(u){return _n(u,e(ot)),ot.result()},o.centroid=function(u){return _n(u,e(_e)),_e.result()},o.projection=function(u){return arguments.length?(e=u==null?(n=null,Rt):(n=u).stream,o):n},o.context=function(u){return arguments.length?(i=u==null?(t=null,new lr):new rr(t=u),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),o):r},o.projection(n).context(t)}function Ht(n){return function(t){var r=new Ct;for(var e in n)r[e]=n[e];return r.stream=t,r}}function Ct(){}Ct.prototype={constructor:Ct,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vt(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),_n(r,n.stream(ot)),t(ot.result()),e!=null&&n.clipExtent(e),n}function ar(n,t,r){return Vt(n,function(e){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),a=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,h=+t[0][1]+(o-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([a,h])},r)}function Ti(n,t,r){return ar(n,[[0,0],t],r)}function Fi(n,t,r){return Vt(n,function(e){var i=+t,o=i/(e[1][0]-e[0][0]),u=(i-o*(e[1][0]+e[0][0]))/2,a=-o*e[0][1];n.scale(150*o).translate([u,a])},r)}function Di(n,t,r){return Vt(n,function(e){var i=+t,o=i/(e[1][1]-e[0][1]),u=-o*e[0][0],a=(i-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,a])},r)}var we=16,Gi=W(30*Q);function Se(n,t){return+t?Ci(n,t):Yi(n)}function Yi(n){return Ht({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Ci(n,t){function r(e,i,o,u,a,h,s,l,f,c,g,d,y,v){var m=s-e,k=l-i,p=m*m+k*k;if(p>4*t&&y--){var S=u+c,_=a+g,P=h+d,w=dn(S*S+_*_+P*P),R=Dn(P/=w),L=q(q(P)-1)<C||q(o-f)<C?(o+f)/2:Fn(_,S),F=n(L,R),N=F[0],z=F[1],T=N-e,D=z-i,E=k*T-m*D;(E*E/p>t||q((m*T+k*D)/p-.5)>.3||u*c+a*g+h*d<Gi)&&(r(e,i,o,u,a,h,N,z,L,S/=w,_/=w,P,y,v),v.point(N,z),r(N,z,L,S,_,P,s,l,f,c,g,d,y,v))}}return function(e){var i,o,u,a,h,s,l,f,c,g,d,y,v={point:m,lineStart:k,lineEnd:S,polygonStart:function(){e.polygonStart(),v.lineStart=_},polygonEnd:function(){e.polygonEnd(),v.lineStart=k}};function m(R,L){R=n(R,L),e.point(R[0],R[1])}function k(){f=NaN,v.point=p,e.lineStart()}function p(R,L){var F=kn([R,L]),N=n(R,L);r(f,c,l,g,d,y,f=N[0],c=N[1],l=R,g=F[0],d=F[1],y=F[2],we,e),e.point(f,c)}function S(){v.point=m,e.lineEnd()}function _(){k(),v.point=P,v.lineEnd=w}function P(R,L){p(i=R,L),o=f,u=c,a=g,h=d,s=y,v.point=p}function w(){r(f,c,l,g,d,y,o,u,i,a,h,s,we,e),v.lineEnd=S,S()}return v}}var Xi=Ht({point:function(n,t){this.stream.point(n*Q,t*Q)}});function Oi(n){return Ht({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Bi(n,t,r,e,i){function o(u,a){return u*=e,a*=i,[t+n*u,r-n*a]}return o.invert=function(u,a){return[(u-t)/n*e,(r-a)/n*i]},o}function Ee(n,t,r,e,i,o){if(!o)return Bi(n,t,r,e,i);var u=W(o),a=U(o),h=u*n,s=a*n,l=u/n,f=a/n,c=(a*r-u*t)/n,g=(a*t+u*r)/n;function d(y,v){return y*=e,v*=i,[h*y-s*v+t,r-s*y-h*v]}return d.invert=function(y,v){return[e*(l*y-f*v+c),i*(g-f*y-l*v)]},d}function qi(n){return $i(function(){return n})()}function $i(n){var t,r=150,e=480,i=250,o=0,u=0,a=0,h=0,s=0,l,f=0,c=1,g=1,d=null,y=he,v=null,m,k,p,S=Rt,_=.5,P,w,R,L,F;function N(E){return R(E[0]*Q,E[1]*Q)}function z(E){return E=R.invert(E[0],E[1]),E&&[E[0]*an,E[1]*an]}N.stream=function(E){return L&&F===E?L:L=Xi(Oi(l)(y(P(S(F=E)))))},N.preclip=function(E){return arguments.length?(y=E,d=void 0,D()):y},N.postclip=function(E){return arguments.length?(S=E,v=m=k=p=null,D()):S},N.clipAngle=function(E){return arguments.length?(y=+E?vi(d=E*Q):(d=null,he),D()):d*an},N.clipExtent=function(E){return arguments.length?(S=E==null?(v=m=k=p=null,Rt):_i(v=+E[0][0],m=+E[0][1],k=+E[1][0],p=+E[1][1]),D()):v==null?null:[[v,m],[k,p]]},N.scale=function(E){return arguments.length?(r=+E,T()):r},N.translate=function(E){return arguments.length?(e=+E[0],i=+E[1],T()):[e,i]},N.center=function(E){return arguments.length?(o=E[0]%360*Q,u=E[1]%360*Q,T()):[o*an,u*an]},N.rotate=function(E){return arguments.length?(a=E[0]%360*Q,h=E[1]%360*Q,s=E.length>2?E[2]%360*Q:0,T()):[a*an,h*an,s*an]},N.angle=function(E){return arguments.length?(f=E%360*Q,T()):f*an},N.reflectX=function(E){return arguments.length?(c=E?-1:1,T()):c<0},N.reflectY=function(E){return arguments.length?(g=E?-1:1,T()):g<0},N.precision=function(E){return arguments.length?(P=Se(w,_=E*E),D()):dn(_)},N.fitExtent=function(E,A){return ar(N,E,A)},N.fitSize=function(E,A){return Ti(N,E,A)},N.fitWidth=function(E,A){return Fi(N,E,A)},N.fitHeight=function(E,A){return Di(N,E,A)};function T(){var E=Ee(r,0,0,c,g,f).apply(null,t(o,u)),A=Ee(r,e-E[0],i-E[1],c,g,f);return l=ai(a,h,s),w=Pt(t,A),R=Pt(l,w),P=Se(w,_),D()}function D(){return L=F=null,N}return function(){return t=n.apply(this,arguments),N.invert=t.invert&&z,T()}}function Hi(n){return function(){return n}}function Vi(n){return+n}var ke=[0,1];function wn(n){return n}function Xt(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Hi(isNaN(t)?NaN:.5)}function Wi(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function Ui(n,t,r){var e=n[0],i=n[1],o=t[0],u=t[1];return i<e?(e=Xt(i,e),o=r(u,o)):(e=Xt(e,i),o=r(o,u)),function(a){return o(e(a))}}function Zi(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),o=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=Xt(n[u],n[u+1]),o[u]=r(t[u],t[u+1]);return function(a){var h=Rr(n,a,1,e)-1;return o[h](i[h](a))}}function Ji(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Qi(){var n=ke,t=ke,r=qt,e,i,o,u=wn,a,h,s;function l(){var c=Math.min(n.length,t.length);return u!==wn&&(u=Wi(n[0],n[c-1])),a=c>2?Zi:Ui,h=s=null,f}function f(c){return c==null||isNaN(c=+c)?o:(h||(h=a(n.map(e),t,r)))(e(u(c)))}return f.invert=function(c){return u(i((s||(s=a(t,n.map(e),_t)))(c)))},f.domain=function(c){return arguments.length?(n=Array.from(c,Vi),l()):n.slice()},f.range=function(c){return arguments.length?(t=Array.from(c),l()):t.slice()},f.rangeRound=function(c){return t=Array.from(c),r=Ur,l()},f.clamp=function(c){return arguments.length?(u=c?!0:wn,l()):u!==wn},f.interpolate=function(c){return arguments.length?(r=c,l()):r},f.unknown=function(c){return arguments.length?(o=c,f):o},function(c,g){return e=c,i=g,l()}}function ji(){return Qi()(wn,wn)}function Ki(n,t,r,e){var i=zr(n,t,r),o;switch(e=nt(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(o=ei(i,u))&&(e.precision=o),Ze(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(o=ri(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=o-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(o=ti(i))&&(e.precision=o-(e.type==="%")*2);break}}return Ue(e)}function bi(n){var t=n.domain;return n.ticks=function(r){var e=t();return Lr(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return Ki(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,o=e.length-1,u=e[i],a=e[o],h,s,l=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);l-- >0;){if(s=He(u,a,r),s===h)return e[i]=u,e[o]=a,t(e);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;h=s}return n},n}function Ot(){var n=ji();return n.copy=function(){return Ji(n,Ot())},wr.apply(n,arguments),bi(n)}function xi(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const Ne=xi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function no(n){return n}function to(n){if(n==null)return no;var t,r,e=n.scale[0],i=n.scale[1],o=n.translate[0],u=n.translate[1];return function(a,h){h||(t=r=0);var s=2,l=a.length,f=new Array(l);for(f[0]=(t+=a[0])*e+o,f[1]=(r+=a[1])*i+u;s<l;)f[s]=a[s],++s;return f}}function eo(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function ro(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Pe(n,r)})}:Pe(n,t)}function Pe(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,o=io(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:o}:e==null?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:e,properties:i,geometry:o}}function io(n,t){var r=to(n.transform),e=n.arcs;function i(l,f){f.length&&f.pop();for(var c=e[l<0?~l:l],g=0,d=c.length;g<d;++g)f.push(r(c[g],g));l<0&&eo(f,d)}function o(l){return r(l)}function u(l){for(var f=[],c=0,g=l.length;c<g;++c)i(l[c],f);return f.length<2&&f.push(f[0]),f}function a(l){for(var f=u(l);f.length<4;)f.push(f[0]);return f}function h(l){return l.map(a)}function s(l){var f=l.type,c;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(s)};case"Point":c=o(l.coordinates);break;case"MultiPoint":c=l.coordinates.map(o);break;case"LineString":c=u(l.arcs);break;case"MultiLineString":c=l.arcs.map(u);break;case"Polygon":c=h(l.arcs);break;case"MultiPolygon":c=l.arcs.map(h);break;default:return null}return{type:f,coordinates:c}}return s(t)}function Ae(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function oo(n){var t={},r=n.map(function(){return[]});function e(y,v){y.forEach(function(m){m<0&&(m=~m);var k=t[m];k?k.push(v):t[m]=[v]})}function i(y,v){y.forEach(function(m){e(m,v)})}function o(y,v){y.type==="GeometryCollection"?y.geometries.forEach(function(m){o(m,v)}):y.type in u&&u[y.type](y.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(y,v){y.forEach(function(m){i(m,v)})}};n.forEach(o);for(var a in t)for(var h=t[a],s=h.length,l=0;l<s;++l)for(var f=l+1;f<s;++f){var c=h[l],g=h[f],d;(d=r[c])[a=Ae(d,g)]!==g&&d.splice(a,0,g),(d=r[g])[a=Ae(d,c)]!==c&&d.splice(a,0,c)}return r}var ft=Math.abs,Pn=Math.cos,on=Math.sin,Tn=1e-6,ct=Math.PI,Bt=ct/2;function uo(n){return n?n/Math.sin(n):1}function Wt(n){return n>1?0:n<-1?ct:Math.acos(n)}function fr(n){return n>0?Math.sqrt(n):0}function cr(n,t){var r=Pn(t),e=uo(Wt(r*Pn(n/=2)));return[2*r*on(n)*e,on(t)*e]}cr.invert=function(n,t){if(!(n*n+4*t*t>ct*ct+Tn)){var r=n,e=t,i=25;do{var o=on(r),u=on(r/2),a=Pn(r/2),h=on(e),s=Pn(e),l=on(2*e),f=h*h,c=s*s,g=u*u,d=1-c*a*a,y=d?Wt(s*a)*fr(v=1/d):v=0,v,m=2*y*s*u-n,k=y*h-t,p=v*(c*g+y*s*a*f),S=v*(.5*o*l-y*2*h*u),_=v*.25*(l*u-y*h*c*o),P=v*(f*a+y*g*s),w=S*_-P*p;if(!w)break;var R=(k*S-m*P)/w,L=(m*_-k*p)/w;r-=R,e-=L}while((ft(R)>Tn||ft(L)>Tn)&&--i>0);return[r,e]}};function sr(n,t){var r=cr(n,t);return[(r[0]+n/Bt)/2,(r[1]+t)/2]}sr.invert=function(n,t){var r=n,e=t,i=25;do{var o=Pn(e),u=on(e),a=on(2*e),h=u*u,s=o*o,l=on(r),f=Pn(r/2),c=on(r/2),g=c*c,d=1-s*f*f,y=d?Wt(o*f)*fr(v=1/d):v=0,v,m=.5*(2*y*o*c+r/Bt)-n,k=.5*(y*u+e)-t,p=.5*v*(s*g+y*o*f*h)+.5/Bt,S=v*(l*a/4-y*u*c),_=.125*v*(a*c-y*u*s*l),P=.5*v*(h*f+y*g*o)+.5,w=S*_-P*p,R=(k*S-m*P)/w,L=(m*_-k*p)/w;r-=R,e-=L}while((ft(R)>Tn||ft(L)>Tn)&&--i>0);return[r,e]};function lo(){return qi(sr).scale(158.837)}function Re(n,t,r){const e=n.slice();return e[35]=t[r],e}function Le(n,t,r){const e=n.slice();return e[35]=t[r],e}function ze(n,t,r){const e=n.slice();return e[40]=t[r],e[42]=r,e}function Ie(n,t,r){const e=n.slice();return e[43]=t[r],e}function Te(n){let t,r,e,i,o,u,a,h,s,l,f,c,g=n[8],d=[];for(let _=0;_<g.length;_+=1)d[_]=Fe(Ie(n,g,_));let y=n[3]&&De(n),v=n[5],m=[];for(let _=0;_<v.length;_+=1)m[_]=Ye(Le(n,v,_));let k=n[5],p=[];for(let _=0;_<k.length;_+=1)p[_]=Ce(Re(n,k,_));const S=_=>jn(p[_],1,1,()=>{p[_]=null});return{c(){t=H("g"),r=H("g"),e=H("path"),o=H("g");for(let _=0;_<d.length;_+=1)d[_].c();u=H("g"),y&&y.c(),a=H("g"),h=H("path"),l=H("g");for(let _=0;_<m.length;_+=1)m[_].c();f=Kn();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){t=V(_,"g",{id:!0});var P=B(t);r=V(P,"g",{id:!0});var w=B(r);e=V(w,"path",{d:!0,fill:!0,stroke:!0}),B(e).forEach(G),w.forEach(G),o=V(P,"g",{id:!0});var R=B(o);for(let z=0;z<d.length;z+=1)d[z].l(R);R.forEach(G),u=V(P,"g",{id:!0});var L=B(u);y&&y.l(L),L.forEach(G),a=V(P,"g",{id:!0});var F=B(a);h=V(F,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),B(h).forEach(G),F.forEach(G),l=V(P,"g",{id:!0});var N=B(l);for(let z=0;z<m.length;z+=1)m[z].l(N);f=Kn();for(let z=0;z<p.length;z+=1)p[z].l(N);N.forEach(G),P.forEach(G),this.h()},h(){M(e,"d",i=n[7](n[9])),M(e,"fill","#def3f6"),M(e,"stroke","none"),M(r,"id","fill"),M(o,"id","graticules"),M(u,"id","countries"),M(h,"d",s=n[7](n[9])),M(h,"fill","none"),M(h,"stroke","lightgray"),M(h,"stroke-width","2"),M(a,"id","outline"),M(l,"id","artists"),M(t,"id","map")},m(_,P){tn(_,t,P),J(t,r),J(r,e),J(t,o);for(let w=0;w<d.length;w+=1)d[w].m(o,null);J(t,u),y&&y.m(u,null),J(t,a),J(a,h),J(t,l);for(let w=0;w<m.length;w+=1)m[w].m(l,null);J(l,f);for(let w=0;w<p.length;w+=1)p[w].m(l,null);c=!0},p(_,P){if((!c||P[0]&128&&i!==(i=_[7](_[9])))&&M(e,"d",i),P[0]&384){g=_[8];let w;for(w=0;w<g.length;w+=1){const R=Ie(_,g,w);d[w]?d[w].p(R,P):(d[w]=Fe(R),d[w].c(),d[w].m(o,null))}for(;w<d.length;w+=1)d[w].d(1);d.length=g.length}if(_[3]?y?y.p(_,P):(y=De(_),y.c(),y.m(u,null)):y&&(y.d(1),y=null),(!c||P[0]&128&&s!==(s=_[7](_[9])))&&M(h,"d",s),P[0]&14436){v=_[5];let w;for(w=0;w<v.length;w+=1){const R=Le(_,v,w);m[w]?m[w].p(R,P):(m[w]=Ye(R),m[w].c(),m[w].m(l,f))}for(;w<m.length;w+=1)m[w].d(1);m.length=v.length}if(P[0]&23588){k=_[5];let w;for(w=0;w<k.length;w+=1){const R=Re(_,k,w);p[w]?(p[w].p(R,P),Sn(p[w],1)):(p[w]=Ce(R),p[w].c(),Sn(p[w],1),p[w].m(l,null))}for(Be(),w=k.length;w<p.length;w+=1)S(w);qe()}},i(_){if(!c){for(let P=0;P<k.length;P+=1)Sn(p[P]);c=!0}},o(_){p=p.filter(Boolean);for(let P=0;P<p.length;P+=1)jn(p[P]);c=!1},d(_){_&&G(t),Zn(d,_),y&&y.d(),Zn(m,_),Zn(p,_)}}}function Fe(n){let t,r;return{c(){t=H("path"),this.h()},l(e){t=V(e,"path",{d:!0,fill:!0,stroke:!0}),B(t).forEach(G),this.h()},h(){M(t,"d",r=n[7](n[43])),M(t,"fill","none"),M(t,"stroke","lightgray")},m(e,i){tn(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[43]))&&M(t,"d",r)},d(e){e&&G(t)}}}function De(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Ge(ze(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Kn()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=Kn()},m(i,o){for(let u=0;u<e.length;u+=1)e[u].m(i,o);tn(i,t,o)},p(i,o){if(o[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const a=ze(i,r,u);e[u]?e[u].p(a,o):(e[u]=Ge(a),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){Zn(e,i),i&&G(t)}}}function Ge(n){let t,r,e,i;return{c(){t=H("path"),this.h()},l(o){t=V(o,"path",{id:!0,d:!0,stroke:!0,fill:!0}),B(t).forEach(G),this.h()},h(){M(t,"id",r=n[40].id),M(t,"d",e=n[7](n[40])),M(t,"stroke","none"),M(t,"fill",i=Ne[n[4][n[42]]])},m(o,u){tn(o,t,u)},p(o,u){u[0]&8&&r!==(r=o[40].id)&&M(t,"id",r),u[0]&136&&e!==(e=o[7](o[40]))&&M(t,"d",e),u[0]&16&&i!==(i=Ne[o[4][o[42]]])&&M(t,"fill",i)},d(o){o&&G(t)}}}function Ye(n){let t,r,e,i,o,u,a,h,s,l,f,c,g,d,y;return{c(){t=H("g"),r=H("line"),a=H("circle"),l=H("line"),this.h()},l(v){t=V(v,"g",{});var m=B(t);r=V(m,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),B(r).forEach(G),a=V(m,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),B(a).forEach(G),l=V(m,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0,opacity:!0,"stroke-width":!0}),B(l).forEach(G),m.forEach(G),this.h()},h(){M(r,"x2",e=sn(n[6],n[35][1])),M(r,"y2",i=hn(n[6],n[35][1])),M(r,"x1",o=n[11](n[35])),M(r,"y1",u=n[12](n[35])),M(r,"stroke","black"),M(a,"cx",h=sn(n[6],n[35][1])),M(a,"cy",s=hn(n[6],n[35][1])),M(a,"r","2"),M(a,"fill","black"),M(l,"x2",f=n[11](n[35])),M(l,"y2",c=n[12](n[35])),M(l,"x1",g=n[11](n[2])),M(l,"y1",d=n[12](n[2])),M(l,"stroke","red"),M(l,"opacity","0.5"),M(l,"stroke-width",y=n[13](n[2],n[35]))},m(v,m){tn(v,t,m),J(t,r),J(t,a),J(t,l)},p(v,m){m[0]&96&&e!==(e=sn(v[6],v[35][1]))&&M(r,"x2",e),m[0]&96&&i!==(i=hn(v[6],v[35][1]))&&M(r,"y2",i),m[0]&32&&o!==(o=v[11](v[35]))&&M(r,"x1",o),m[0]&32&&u!==(u=v[12](v[35]))&&M(r,"y1",u),m[0]&96&&h!==(h=sn(v[6],v[35][1]))&&M(a,"cx",h),m[0]&96&&s!==(s=hn(v[6],v[35][1]))&&M(a,"cy",s),m[0]&32&&f!==(f=v[11](v[35]))&&M(l,"x2",f),m[0]&32&&c!==(c=v[12](v[35]))&&M(l,"y2",c),m[0]&4&&g!==(g=v[11](v[2]))&&M(l,"x1",g),m[0]&4&&d!==(d=v[12](v[2]))&&M(l,"y1",d),m[0]&36&&y!==(y=v[13](v[2],v[35]))&&M(l,"stroke-width",y)},d(v){v&&G(t)}}}function ao(n){let t,r,e,i;return{c(){t=H("image"),i=H("circle"),this.h()},l(o){t=V(o,"image",{id:!0,href:!0,height:!0,width:!0,x:!0,y:!0}),B(t).forEach(G),i=V(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),B(i).forEach(G),this.h()},h(){M(t,"id",r=Z(n[35][0])+"-image"),M(t,"href",e=bn+n[14](n[35][0])),M(t,"height",j*2),M(t,"width",j*2),M(t,"x",-j),M(t,"y",-j),M(i,"cx","0"),M(i,"cy","0"),M(i,"r",j),M(i,"stroke","black"),M(i,"fill","none")},m(o,u){tn(o,t,u),tn(o,i,u)},p(o,u){u[0]&32&&r!==(r=Z(o[35][0])+"-image")&&M(t,"id",r),u[0]&32&&e!==(e=bn+o[14](o[35][0]))&&M(t,"href",e)},d(o){o&&G(t),o&&G(i)}}}function fo(n){let t,r,e,i;return{c(){t=H("image"),i=H("circle"),this.h()},l(o){t=V(o,"image",{id:!0,href:!0,height:!0,width:!0,x:!0,y:!0}),B(t).forEach(G),i=V(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),B(i).forEach(G),this.h()},h(){M(t,"id",r=Z(n[35][0])+"-image"),M(t,"href",e=bn+n[14](n[35][0])),M(t,"height",j*2),M(t,"width",j*2),M(t,"x",-j),M(t,"y",-j),M(i,"cx","0"),M(i,"cy","0"),M(i,"r",j),M(i,"stroke","white"),M(i,"stroke-width","2"),M(i,"fill","none")},m(o,u){tn(o,t,u),tn(o,i,u)},p(o,u){u[0]&32&&r!==(r=Z(o[35][0])+"-image")&&M(t,"id",r),u[0]&32&&e!==(e=bn+o[14](o[35][0]))&&M(t,"href",e)},d(o){o&&G(t),o&&G(i)}}}function Ce(n){let t,r,e,i,o,u,a,h,s=n[35][0]+"",l,f,c,g,d,y;function v(p,S){return p[35][0]===p[2][0]?fo:ao}let m=v(n),k=m(n);return{c(){t=H("g"),k.c(),r=H("rect"),h=H("text"),l=Xe(s),this.h()},l(p){t=V(p,"g",{id:!0,transform:!0});var S=B(t);k.l(S),r=V(S,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),B(r).forEach(G),h=V(S,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var _=B(h);l=Oe(_,s),_.forEach(G),S.forEach(G),this.h()},h(){M(r,"id",e=Z(n[35][0])+"-rect"),M(r,"x",i=-(Xn("#"+Z(n[35][0])+"-text",n[35][0])+mn)/2),M(r,"width",o=Xn("#"+Z(n[35][0])+"-text",n[35][0])+mn),M(r,"y",u=(mt+On("#"+Z(n[35][0])+"-text",n[35][0]))/2),M(r,"height",a=On("#"+Z(n[35][0])+"-text",n[35][0])+mn-10),M(r,"fill","white"),M(r,"stroke","black"),M(r,"rx","15"),M(r,"opacity","0.5"),M(r,"class","pointer-events-none"),M(h,"id",f=Z(n[35][0])+"-text"),M(h,"opacity","1"),M(h,"x","0"),M(h,"y",mt*2),M(h,"text-anchor","middle"),M(t,"id",c=Z(n[35][0])+"-group"),M(t,"transform",g=n[10](n[11](n[35]),n[12](n[35])))},m(p,S){tn(p,t,S),k.m(t,null),J(t,r),J(t,h),J(h,l),y=!0},p(p,S){m===(m=v(p))&&k?k.p(p,S):(k.d(1),k=m(p),k&&(k.c(),k.m(t,r))),(!y||S[0]&32&&e!==(e=Z(p[35][0])+"-rect"))&&M(r,"id",e),(!y||S[0]&32&&i!==(i=-(Xn("#"+Z(p[35][0])+"-text",p[35][0])+mn)/2))&&M(r,"x",i),(!y||S[0]&32&&o!==(o=Xn("#"+Z(p[35][0])+"-text",p[35][0])+mn))&&M(r,"width",o),(!y||S[0]&32&&u!==(u=(mt+On("#"+Z(p[35][0])+"-text",p[35][0]))/2))&&M(r,"y",u),(!y||S[0]&32&&a!==(a=On("#"+Z(p[35][0])+"-text",p[35][0])+mn-10))&&M(r,"height",a),(!y||S[0]&32)&&s!==(s=p[35][0]+"")&&mr(l,s),(!y||S[0]&32&&f!==(f=Z(p[35][0])+"-text"))&&M(h,"id",f),(!y||S[0]&32&&c!==(c=Z(p[35][0])+"-group"))&&M(t,"id",c),(!y||S[0]&32&&g!==(g=p[10](p[11](p[35]),p[12](p[35]))))&&M(t,"transform",g)},i(p){y||(_r(()=>{d||(d=Ut(t,Qt,{},!0)),d.run(1)}),y=!0)},o(p){d||(d=Ut(t,Qt,{},!1)),d.run(0),y=!1},d(p){p&&G(t),k.d(),p&&d&&d.end()}}}function co(n){let t,r,e,i,o,u,a=n[7]&&Te(n);return{c(){t=dr("div"),r=H("svg"),e=H("style"),i=Xe(`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),a&&a.c(),this.h()},l(h){t=vr(h,"DIV",{id:!0,class:!0,style:!0});var s=B(t);r=V(s,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var l=B(r);e=V(l,"style",{});var f=B(e);i=Oe(f,`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),f.forEach(G),a&&a.l(l),l.forEach(G),s.forEach(G),this.h()},h(){M(r,"class","inline-block absolute top-0 left-0"),M(r,"viewBox",o="0, 0, "+n[0]+", "+n[1]),M(r,"preserveAspectRatio","xMidYMid meet"),M(t,"id","container"),M(t,"class","inline-block relative align-top overflow-hidden"),Cn(t,"width",n[0]+"px"),Cn(t,"height",n[1]+"px")},m(h,s){tn(h,t,s),J(t,r),J(r,e),J(e,i),a&&a.m(r,null),u=!0},p(h,s){h[7]?a?(a.p(h,s),s[0]&128&&Sn(a,1)):(a=Te(h),a.c(),Sn(a,1),a.m(r,null)):a&&(Be(),jn(a,1,1,()=>{a=null}),qe()),(!u||s[0]&3&&o!==(o="0, 0, "+h[0]+", "+h[1]))&&M(r,"viewBox",o),(!u||s[0]&1)&&Cn(t,"width",h[0]+"px"),(!u||s[0]&2)&&Cn(t,"height",h[1]+"px")},i(h){u||(Sn(a),u=!0)},o(h){jn(a),u=!1},d(h){h&&G(t),a&&a.d()}}}const j=15,mt=20,mn=20,so=20,ho=100;function go(n,t,r){let e=new Worker(""+new URL("../workers/sim-nodes.worker-485dcafa.js",import.meta.url).href);const i=A=>{r(5,g=A.data.nodes)};e.onmessage=i;let{width:o}=t,{height:u}=t,a,h,s,l,f,c,g,d,y,v;const m=yi(),k=m.lines(),p=m.outline();let S,_,P,w;const R=(A,I)=>`translate(${A}, ${I})`,L=A=>{c=f.filter(([,I])=>I.length>1?I[0].year<=A&&I[1].year>A:I[0].year<=A);for(const I of c)I.x=sn(S,I[1]),I.y=hn(S,I[1])},F=(A,I)=>{r(2,d=f.filter(X=>X[0]===A)[0]),I.push(d);for(const X of I)X.x=sn(S,X[1]),X.y=hn(S,X[1]);e.postMessage({nodes:I,radius:j})},N=A=>A.hasOwnProperty("x")?A.x:sn(S,A[1]),z=A=>A.hasOwnProperty("y")?A.y:hn(S,A[1]),T=(A,I)=>{const X=A[1][0].year,O=I[1][0].year;return w(Math.abs(O-X))},D=A=>l.filter(X=>X.artist===A)[0].thumbnail,E=(A,I,X,O,cn)=>{r(6,S=lo().translate([o/2,u/2]).scale(u/3.5)),r(7,_=Ii().projection(S)),r(3,a=ro(A,A.objects.countries)),h=oo(A.objects.countries.geometries),r(4,s=new Array(a.features.length));for(let $=0;$<s.length;++$)r(4,s[$]=jt(h[$],un=>s[un])+1|0,s);O?(y=Ir(O,$=>$.year),v=jt(O,$=>$.year),f=Sr(O,$=>$.artist),L(y),w=Ot().domain([0,v-y]).range([2,j]),P=Ot().domain([y,v]).range([0,o]),Br(P).tickFormat($=>Number($)%ho===0?String($):"").ticks((v-y)/so)):console.error("Unable to load Artist Locations!"),l=cn};return n.$$set=A=>{"width"in A&&r(0,o=A.width),"height"in A&&r(1,u=A.height)},n.$$.update=()=>{n.$$.dirty[0]&4},r(0,o=0),r(1,u=0),r(3,a=null),h=null,r(4,s=[]),f=[],c=[],r(5,g=[]),y=0,v=2100,[o,u,d,a,s,g,S,_,k,p,R,N,z,T,D,F,E]}class wo extends hr{constructor(t){super(),gr(this,t,go,co,pr,{width:0,height:1,DisplayInfluences:15,Initialize:16},null,[-1,-1])}get DisplayInfluences(){return this.$$.ctx[15]}get Initialize(){return this.$$.ctx[16]}}export{wo as M};
