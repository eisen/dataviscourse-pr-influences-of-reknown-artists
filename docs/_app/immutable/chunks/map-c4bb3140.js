import{S as nr,i as tr,s as er,k as rr,O as H,q as Tt,l as ir,m as G,P as j,r as Yt,h as C,n as M,p as Tn,b as W,F as U,A as qt,I as Vn,e as pn,u as ze}from"./index-cc78b405.js";import{c as or,i as ct,a as Bt,b as Gt,d as ur}from"./config-2227fd0b.js";import{r as gn,i as lr}from"./init-08c38208.js";import{g as rt}from"./group-d3aa616c.js";function Bn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ar(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Le(n){let t,r,e;n.length!==2?(t=Bn,r=(a,h)=>Bn(n(a),h),e=(a,h)=>n(a)-h):(t=n===Bn||n===ar?n:fr,r=n,e=n);function i(a,h,c=0,l=a.length){if(c<l){if(t(h,h)!==0)return l;do{const f=c+l>>>1;r(a[f],h)<0?c=f+1:l=f}while(c<l)}return c}function u(a,h,c=0,l=a.length){if(c<l){if(t(h,h)!==0)return l;do{const f=c+l>>>1;r(a[f],h)<=0?c=f+1:l=f}while(c<l)}return c}function o(a,h,c=0,l=a.length){const f=i(a,h,c,l-1);return f>c&&e(a[f-1],h)>-e(a[f],h)?f-1:f}return{left:i,center:o,right:u}}function fr(){return 0}function cr(n){return n===null?NaN:+n}const sr=Le(Bn),hr=sr.right;Le(cr).center;const pr=hr;class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const u=r[i],o=t+u,a=Math.abs(t)<Math.abs(u)?t-(o-u):u-(o-t);a&&(r[e++]=a),t=o}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,u,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,i=t[--r],o=e+i,u=i-(o-e),!u););r>0&&(u<0&&t[r-1]<0||u>0&&t[r-1]>0)&&(i=u*2,e=o+i,i==e-o&&(o=e))}return o}}var st=Math.sqrt(50),ht=Math.sqrt(10),pt=Math.sqrt(2);function gr(n,t,r){var e,i=-1,u,o,a;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(u=n,n=t,t=u),(a=Ie(n,t,r))===0||!isFinite(a))return[];if(a>0){let h=Math.round(n/a),c=Math.round(t/a);for(h*a<n&&++h,c*a>t&&--c,o=new Array(u=c-h+1);++i<u;)o[i]=(h+i)*a}else{a=-a;let h=Math.round(n*a),c=Math.round(t*a);for(h/a<n&&++h,c/a>t&&--c,o=new Array(u=c-h+1);++i<u;)o[i]=(h+i)/a}return e&&o.reverse(),o}function Ie(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,i);return i>=0?(u>=st?10:u>=ht?5:u>=pt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=st?10:u>=ht?5:u>=pt?2:1)}function dr(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/i;return u>=st?i*=10:u>=ht?i*=5:u>=pt&&(i*=2),t<n?-i:i}function vr(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function mr(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*_r(n){for(const t of n)yield*t}function Fe(n){return Array.from(_r(n))}function yr(n){return n}var it=1,ot=2,gt=3,Yn=4,Vt=1e-6;function Mr(n){return"translate("+n+",0)"}function wr(n){return"translate(0,"+n+")"}function Sr(n){return t=>+n(t)}function Er(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function kr(){return!this.__axis}function Nr(n,t){var r=[],e=null,i=null,u=6,o=6,a=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===it||n===Yn?-1:1,l=n===Yn||n===ot?"x":"y",f=n===it||n===gt?Mr:wr;function s(p){var g=e==null?t.ticks?t.ticks.apply(t,r):t.domain():e,w=i==null?t.tickFormat?t.tickFormat.apply(t,r):yr:i,d=Math.max(u,0)+a,_=t.range(),S=+_[0]+h,m=+_[_.length-1]+h,E=(t.bandwidth?Er:Sr)(t.copy(),h),k=p.selection?p.selection():p,N=k.selectAll(".domain").data([null]),R=k.selectAll(".tick").data(g,t).order(),z=R.exit(),L=R.enter().append("g").attr("class","tick"),T=R.select("line"),v=R.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(L),T=T.merge(L.append("line").attr("stroke","currentColor").attr(l+"2",c*u)),v=v.merge(L.append("text").attr("fill","currentColor").attr(l,c*d).attr("dy",n===it?"0em":n===gt?"0.71em":"0.32em")),p!==k&&(N=N.transition(p),R=R.transition(p),T=T.transition(p),v=v.transition(p),z=z.transition(p).attr("opacity",Vt).attr("transform",function(P){return isFinite(P=E(P))?f(P+h):this.getAttribute("transform")}),L.attr("opacity",Vt).attr("transform",function(P){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(P))?I:E(P))+h)})),z.remove(),N.attr("d",n===Yn||n===ot?o?"M"+c*o+","+S+"H"+h+"V"+m+"H"+c*o:"M"+h+","+S+"V"+m:o?"M"+S+","+c*o+"V"+h+"H"+m+"V"+c*o:"M"+S+","+h+"H"+m),R.attr("opacity",1).attr("transform",function(P){return f(E(P)+h)}),T.attr(l+"2",c*u),v.attr(l,c*d).text(w),k.filter(kr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===ot?"start":n===Yn?"end":"middle"),k.each(function(){this.__axis=E})}return s.scale=function(p){return arguments.length?(t=p,s):t},s.ticks=function(){return r=Array.from(arguments),s},s.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),s):r.slice()},s.tickValues=function(p){return arguments.length?(e=p==null?null:Array.from(p),s):e&&e.slice()},s.tickFormat=function(p){return arguments.length?(i=p,s):i},s.tickSize=function(p){return arguments.length?(u=o=+p,s):u},s.tickSizeInner=function(p){return arguments.length?(u=+p,s):u},s.tickSizeOuter=function(p){return arguments.length?(o=+p,s):o},s.tickPadding=function(p){return arguments.length?(a=+p,s):a},s.offset=function(p){return arguments.length?(h=+p,s):h},s}function Pr(n){return Nr(gt,n)}function Ar(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(u){for(i=0;i<r;++i)e[i]=n[i]*(1-u)+t[i]*u;return e}}function Rr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function zr(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),u=new Array(r),o;for(o=0;o<e;++o)i[o]=$t(n[o],t[o]);for(;o<r;++o)u[o]=t[o];return function(a){for(o=0;o<e;++o)u[o]=i[o](a);return u}}function Lr(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function Ir(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=$t(n[i],t[i]):e[i]=t[i];return function(u){for(i in r)e[i]=r[i](u);return e}}function $t(n,t){var r=typeof t,e;return t==null||r==="boolean"?or(t):(r==="number"?ct:r==="string"?(e=Bt(t))?(t=e,Gt):ur:t instanceof Bt?Gt:t instanceof Date?Lr:Rr(t)?Ar:Array.isArray(t)?zr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ir:ct)(n,t)}function Fr(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Tr(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Hn(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function mn(n){return n=Hn(Math.abs(n)),n?n[1]:NaN}function Yr(n,t){return function(r,e){for(var i=r.length,u=[],o=0,a=n[0],h=0;i>0&&a>0&&(h+a+1>e&&(a=Math.max(1,e-h)),u.push(r.substring(i-=a,i+a)),!((h+=a+1)>e));)a=n[o=(o+1)%n.length];return u.reverse().join(t)}}function $r(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Cr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jn(n){if(!(t=Cr.exec(n)))throw new Error("invalid format: "+n);var t;return new Ct({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jn.prototype=Ct.prototype;function Ct(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Ct.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xr(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Te;function Dr(n,t){var r=Hn(n,t);if(!r)return n+"";var e=r[0],i=r[1],u=i-(Te=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=e.length;return u===o?e:u>o?e+new Array(u-o+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+Hn(n,Math.max(0,t+u-1))[0]}function Ht(n,t){var r=Hn(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const jt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Tr,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Ht(n*100,t),r:Ht,s:Dr,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Zt(n){return n}var Ut=Array.prototype.map,Wt=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Or(n){var t=n.grouping===void 0||n.thousands===void 0?Zt:Yr(Ut.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",u=n.numerals===void 0?Zt:$r(Ut.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function c(f){f=jn(f);var s=f.fill,p=f.align,g=f.sign,w=f.symbol,d=f.zero,_=f.width,S=f.comma,m=f.precision,E=f.trim,k=f.type;k==="n"?(S=!0,k="g"):jt[k]||(m===void 0&&(m=12),E=!0,k="g"),(d||s==="0"&&p==="=")&&(d=!0,s="0",p="=");var N=w==="$"?r:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=w==="$"?e:/[%p]/.test(k)?o:"",z=jt[k],L=/[defgprs%]/.test(k);m=m===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function T(v){var P=N,I=R,A,y,F;if(k==="c")I=z(v)+I,v="";else{v=+v;var D=v<0||1/v<0;if(v=isNaN(v)?h:z(Math.abs(v),m),E&&(v=Xr(v)),D&&+v==0&&g!=="+"&&(D=!1),P=(D?g==="("?g:a:g==="-"||g==="("?"":g)+P,I=(k==="s"?Wt[8+Te/3]:"")+I+(D&&g==="("?")":""),L){for(A=-1,y=v.length;++A<y;)if(F=v.charCodeAt(A),48>F||F>57){I=(F===46?i+v.slice(A+1):v.slice(A))+I,v=v.slice(0,A);break}}}S&&!d&&(v=t(v,1/0));var V=P.length+v.length+I.length,O=V<_?new Array(_-V+1).join(s):"";switch(S&&d&&(v=t(O+v,O.length?_-I.length:1/0),O=""),p){case"<":v=P+v+I+O;break;case"=":v=P+O+v+I;break;case"^":v=O.slice(0,V=O.length>>1)+P+v+I+O.slice(V);break;default:v=O+P+v+I;break}return u(v)}return T.toString=function(){return f+""},T}function l(f,s){var p=c((f=jn(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(mn(s)/3)))*3,w=Math.pow(10,-g),d=Wt[8+g/3];return function(_){return p(w*_)+d}}return{format:c,formatPrefix:l}}var $n,Ye,$e;qr({thousands:",",grouping:[3],currency:["$",""]});function qr(n){return $n=Or(n),Ye=$n.format,$e=$n.formatPrefix,$n}function Br(n){return Math.max(0,-mn(Math.abs(n)))}function Gr(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mn(t)/3)))*3-mn(Math.abs(n)))}function Vr(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,mn(t)-mn(n))+1}var $=1e-6,Hr=1e-12,Y=Math.PI,J=Y/2,Jt=Y/4,Q=Y*2,on=180/Y,Z=Y/180,X=Math.abs,jr=Math.atan,zn=Math.atan2,q=Math.cos,Cn=Math.ceil,B=Math.sin,Zr=Math.sign||function(n){return n>0?1:n<0?-1:0},cn=Math.sqrt;function Ur(n){return n>1?0:n<-1?Y:Math.acos(n)}function Ln(n){return n>1?J:n<-1?-J:Math.asin(n)}function K(){}function Zn(n,t){n&&Qt.hasOwnProperty(n.type)&&Qt[n.type](n,t)}var Kt={Feature:function(n,t){Zn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)Zn(r[e].geometry,t)}},Qt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){dt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)dt(r[e],t,0)},Polygon:function(n,t){bt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)bt(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)Zn(r[e],t)}};function dt(n,t,r){var e=-1,i=n.length-r,u;for(t.lineStart();++e<i;)u=n[e],t.point(u[0],u[1],u[2]);t.lineEnd()}function bt(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)dt(n[r],t,1);t.polygonEnd()}function hn(n,t){n&&Kt.hasOwnProperty(n.type)?Kt[n.type](n,t):Zn(n,t)}function vt(n){return[zn(n[1],n[0]),Ln(n[2])]}function _n(n){var t=n[0],r=n[1],e=q(r);return[e*q(t),e*B(t),B(r)]}function Xn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Un(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ut(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Dn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function mt(n){var t=cn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function yt(n,t){return[X(n)>Y?n+Math.round(-n/Q)*Q:n,t]}yt.invert=yt;function Wr(n,t,r){return(n%=Q)?t||r?_t(ne(n),te(t,r)):ne(n):t||r?te(t,r):yt}function xt(n){return function(t,r){return t+=n,[t>Y?t-Q:t<-Y?t+Q:t,r]}}function ne(n){var t=xt(n);return t.invert=xt(-n),t}function te(n,t){var r=q(n),e=B(n),i=q(t),u=B(t);function o(a,h){var c=q(h),l=q(a)*c,f=B(a)*c,s=B(h),p=s*r+l*e;return[zn(f*i-p*u,l*r-s*e),Ln(p*i+f*u)]}return o.invert=function(a,h){var c=q(h),l=q(a)*c,f=B(a)*c,s=B(h),p=s*i-f*u;return[zn(f*i+s*u,l*r+p*e),Ln(p*r-l*e)]},o}function Jr(n,t,r,e,i,u){if(!!r){var o=q(t),a=B(t),h=e*r;i==null?(i=t+e*Q,u=t-h/2):(i=ee(o,i),u=ee(o,u),(e>0?i<u:i>u)&&(i+=e*Q));for(var c,l=i;e>0?l>u:l<u;l-=h)c=vt([o,-a*q(l),-a*B(l)]),n.point(c[0],c[1])}}function ee(n,t){t=_n(t),t[0]-=n,mt(t);var r=Ur(-t[1]);return((-t[2]<0?-r:r)+Q-$)%Q}function Ce(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:K,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Gn(n,t){return X(n[0]-t[0])<$&&X(n[1]-t[1])<$}function On(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Xe(n,t,r,e,i){var u=[],o=[],a,h;if(n.forEach(function(g){if(!((w=g.length-1)<=0)){var w,d=g[0],_=g[w],S;if(Gn(d,_)){if(!d[2]&&!_[2]){for(i.lineStart(),a=0;a<w;++a)i.point((d=g[a])[0],d[1]);i.lineEnd();return}_[0]+=2*$}u.push(S=new On(d,g,null,!0)),o.push(S.o=new On(d,null,S,!1)),u.push(S=new On(_,g,null,!1)),o.push(S.o=new On(_,null,S,!0))}}),!!u.length){for(o.sort(t),re(u),re(o),a=0,h=o.length;a<h;++a)o[a].e=r=!r;for(var c=u[0],l,f;;){for(var s=c,p=!0;s.v;)if((s=s.n)===c)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(p)for(a=0,h=l.length;a<h;++a)i.point((f=l[a])[0],f[1]);else e(s.x,s.n.x,1,i);s=s.n}else{if(p)for(l=s.p.z,a=l.length-1;a>=0;--a)i.point((f=l[a])[0],f[1]);else e(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,p=!p}while(!s.v);i.lineEnd()}}}function re(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function lt(n){return X(n[0])<=Y?n[0]:Zr(n[0])*((X(n[0])+Y)%Q-Y)}function Kr(n,t){var r=lt(t),e=t[1],i=B(e),u=[B(r),-q(r),0],o=0,a=0,h=new an;i===1?e=J+$:i===-1&&(e=-J-$);for(var c=0,l=n.length;c<l;++c)if(!!(s=(f=n[c]).length))for(var f,s,p=f[s-1],g=lt(p),w=p[1]/2+Jt,d=B(w),_=q(w),S=0;S<s;++S,g=E,d=N,_=R,p=m){var m=f[S],E=lt(m),k=m[1]/2+Jt,N=B(k),R=q(k),z=E-g,L=z>=0?1:-1,T=L*z,v=T>Y,P=d*N;if(h.add(zn(P*L*B(T),_*R+P*q(T))),o+=v?z+L*Q:z,v^g>=r^E>=r){var I=Un(_n(p),_n(m));mt(I);var A=Un(u,I);mt(A);var y=(v^z>=0?-1:1)*Ln(A[2]);(e>y||e===y&&(I[0]||I[1]))&&(a+=v^z>=0?1:-1)}}return(o<-$||o<$&&h<-Hr)^a&1}function De(n,t,r,e){return function(i){var u=t(i),o=Ce(),a=t(o),h=!1,c,l,f,s={point:p,lineStart:w,lineEnd:d,polygonStart:function(){s.point=_,s.lineStart=S,s.lineEnd=m,l=[],c=[]},polygonEnd:function(){s.point=p,s.lineStart=w,s.lineEnd=d,l=Fe(l);var E=Kr(c,e);l.length?(h||(i.polygonStart(),h=!0),Xe(l,br,E,r,i)):E&&(h||(i.polygonStart(),h=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(E,k){n(E,k)&&i.point(E,k)}function g(E,k){u.point(E,k)}function w(){s.point=g,u.lineStart()}function d(){s.point=p,u.lineEnd()}function _(E,k){f.push([E,k]),a.point(E,k)}function S(){a.lineStart(),f=[]}function m(){_(f[0][0],f[0][1]),a.lineEnd();var E=a.clean(),k=o.result(),N,R=k.length,z,L,T;if(f.pop(),c.push(f),f=null,!!R){if(E&1){if(L=k[0],(z=L.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),N=0;N<z;++N)i.point((T=L[N])[0],T[1]);i.lineEnd()}return}R>1&&E&2&&k.push(k.pop().concat(k.shift())),l.push(k.filter(Qr))}}return s}}function Qr(n){return n.length>1}function br(n,t){return((n=n.x)[0]<0?n[1]-J-$:J-n[1])-((t=t.x)[0]<0?t[1]-J-$:J-t[1])}const ie=De(function(){return!0},xr,ti,[-Y,-J]);function xr(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(u,o){var a=u>0?Y:-Y,h=X(u-t);X(h-Y)<$?(n.point(t,r=(r+o)/2>0?J:-J),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),i=0):e!==a&&h>=Y&&(X(t-e)<$&&(t-=e*$),X(u-a)<$&&(u-=a*$),r=ni(t,r,u,o),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),i=0),n.point(t=u,r=o),e=a},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function ni(n,t,r,e){var i,u,o=B(n-r);return X(o)>$?jr((B(t)*(u=q(e))*B(r)-B(e)*(i=q(t))*B(n))/(i*u*o)):(t+e)/2}function ti(n,t,r,e){var i;if(n==null)i=r*J,e.point(-Y,i),e.point(0,i),e.point(Y,i),e.point(Y,0),e.point(Y,-i),e.point(0,-i),e.point(-Y,-i),e.point(-Y,0),e.point(-Y,i);else if(X(n[0]-t[0])>$){var u=n[0]<t[0]?Y:-Y;i=r*u/2,e.point(-u,i),e.point(0,i),e.point(u,i)}else e.point(t[0],t[1])}function ei(n){var t=q(n),r=6*Z,e=t>0,i=X(t)>$;function u(l,f,s,p){Jr(p,n,r,s,l,f)}function o(l,f){return q(l)*q(f)>t}function a(l){var f,s,p,g,w;return{lineStart:function(){g=p=!1,w=1},point:function(d,_){var S=[d,_],m,E=o(d,_),k=e?E?0:c(d,_):E?c(d+(d<0?Y:-Y),_):0;if(!f&&(g=p=E)&&l.lineStart(),E!==p&&(m=h(f,S),(!m||Gn(f,m)||Gn(S,m))&&(S[2]=1)),E!==p)w=0,E?(l.lineStart(),m=h(S,f),l.point(m[0],m[1])):(m=h(f,S),l.point(m[0],m[1],2),l.lineEnd()),f=m;else if(i&&f&&e^E){var N;!(k&s)&&(N=h(S,f,!0))&&(w=0,e?(l.lineStart(),l.point(N[0][0],N[0][1]),l.point(N[1][0],N[1][1]),l.lineEnd()):(l.point(N[1][0],N[1][1]),l.lineEnd(),l.lineStart(),l.point(N[0][0],N[0][1],3)))}E&&(!f||!Gn(f,S))&&l.point(S[0],S[1]),f=S,p=E,s=k},lineEnd:function(){p&&l.lineEnd(),f=null},clean:function(){return w|(g&&p)<<1}}}function h(l,f,s){var p=_n(l),g=_n(f),w=[1,0,0],d=Un(p,g),_=Xn(d,d),S=d[0],m=_-S*S;if(!m)return!s&&l;var E=t*_/m,k=-t*S/m,N=Un(w,d),R=Dn(w,E),z=Dn(d,k);ut(R,z);var L=N,T=Xn(R,L),v=Xn(L,L),P=T*T-v*(Xn(R,R)-1);if(!(P<0)){var I=cn(P),A=Dn(L,(-T-I)/v);if(ut(A,R),A=vt(A),!s)return A;var y=l[0],F=f[0],D=l[1],V=f[1],O;F<y&&(O=y,y=F,F=O);var wn=F-y,en=X(wn-Y)<$,ln=en||wn<$;if(!en&&V<D&&(O=D,D=V,V=O),ln?en?D+V>0^A[1]<(X(A[0]-y)<$?D:V):D<=A[1]&&A[1]<=V:wn>Y^(y<=A[0]&&A[0]<=F)){var rn=Dn(L,(-T+I)/v);return ut(rn,R),[A,vt(rn)]}}}function c(l,f){var s=e?n:Y-n,p=0;return l<-s?p|=1:l>s&&(p|=2),f<-s?p|=4:f>s&&(p|=8),p}return De(o,a,u,e?[0,-n]:[-Y,n-Y])}function ri(n,t,r,e,i,u){var o=n[0],a=n[1],h=t[0],c=t[1],l=0,f=1,s=h-o,p=c-a,g;if(g=r-o,!(!s&&g>0)){if(g/=s,s<0){if(g<l)return;g<f&&(f=g)}else if(s>0){if(g>f)return;g>l&&(l=g)}if(g=i-o,!(!s&&g<0)){if(g/=s,s<0){if(g>f)return;g>l&&(l=g)}else if(s>0){if(g<l)return;g<f&&(f=g)}if(g=e-a,!(!p&&g>0)){if(g/=p,p<0){if(g<l)return;g<f&&(f=g)}else if(p>0){if(g>f)return;g>l&&(l=g)}if(g=u-a,!(!p&&g<0)){if(g/=p,p<0){if(g>f)return;g>l&&(l=g)}else if(p>0){if(g<l)return;g<f&&(f=g)}return l>0&&(n[0]=o+l*s,n[1]=a+l*p),f<1&&(t[0]=o+f*s,t[1]=a+f*p),!0}}}}}var Sn=1e9,qn=-Sn;function ii(n,t,r,e){function i(c,l){return n<=c&&c<=r&&t<=l&&l<=e}function u(c,l,f,s){var p=0,g=0;if(c==null||(p=o(c,f))!==(g=o(l,f))||h(c,l)<0^f>0)do s.point(p===0||p===3?n:r,p>1?e:t);while((p=(p+f+4)%4)!==g);else s.point(l[0],l[1])}function o(c,l){return X(c[0]-n)<$?l>0?0:3:X(c[0]-r)<$?l>0?2:1:X(c[1]-t)<$?l>0?1:0:l>0?3:2}function a(c,l){return h(c.x,l.x)}function h(c,l){var f=o(c,1),s=o(l,1);return f!==s?f-s:f===0?l[1]-c[1]:f===1?c[0]-l[0]:f===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,f=Ce(),s,p,g,w,d,_,S,m,E,k,N,R={point:z,lineStart:P,lineEnd:I,polygonStart:T,polygonEnd:v};function z(y,F){i(y,F)&&l.point(y,F)}function L(){for(var y=0,F=0,D=p.length;F<D;++F)for(var V=p[F],O=1,wn=V.length,en=V[0],ln,rn,Fn=en[0],sn=en[1];O<wn;++O)ln=Fn,rn=sn,en=V[O],Fn=en[0],sn=en[1],rn<=e?sn>e&&(Fn-ln)*(e-rn)>(sn-rn)*(n-ln)&&++y:sn<=e&&(Fn-ln)*(e-rn)<(sn-rn)*(n-ln)&&--y;return y}function T(){l=f,s=[],p=[],N=!0}function v(){var y=L(),F=N&&y,D=(s=Fe(s)).length;(F||D)&&(c.polygonStart(),F&&(c.lineStart(),u(null,null,1,c),c.lineEnd()),D&&Xe(s,a,y,u,c),c.polygonEnd()),l=c,s=p=g=null}function P(){R.point=A,p&&p.push(g=[]),k=!0,E=!1,S=m=NaN}function I(){s&&(A(w,d),_&&E&&f.rejoin(),s.push(f.result())),R.point=z,E&&l.lineEnd()}function A(y,F){var D=i(y,F);if(p&&g.push([y,F]),k)w=y,d=F,_=D,k=!1,D&&(l.lineStart(),l.point(y,F));else if(D&&E)l.point(y,F);else{var V=[S=Math.max(qn,Math.min(Sn,S)),m=Math.max(qn,Math.min(Sn,m))],O=[y=Math.max(qn,Math.min(Sn,y)),F=Math.max(qn,Math.min(Sn,F))];ri(V,O,n,t,r,e)?(E||(l.lineStart(),l.point(V[0],V[1])),l.point(O[0],O[1]),D||l.lineEnd(),N=!1):D&&(l.lineStart(),l.point(y,F),N=!1)}S=y,m=F,E=D}return R}}function oe(n,t,r){var e=gn(n,t-$,r).concat(t);return function(i){return e.map(function(u){return[i,u]})}}function ue(n,t,r){var e=gn(n,t-$,r).concat(t);return function(i){return e.map(function(u){return[u,i]})}}function oi(){var n,t,r,e,i,u,o,a,h=10,c=h,l=90,f=360,s,p,g,w,d=2.5;function _(){return{type:"MultiLineString",coordinates:S()}}function S(){return gn(Cn(e/l)*l,r,l).map(g).concat(gn(Cn(a/f)*f,o,f).map(w)).concat(gn(Cn(t/h)*h,n,h).filter(function(m){return X(m%l)>$}).map(s)).concat(gn(Cn(u/c)*c,i,c).filter(function(m){return X(m%f)>$}).map(p))}return _.lines=function(){return S().map(function(m){return{type:"LineString",coordinates:m}})},_.outline=function(){return{type:"Polygon",coordinates:[g(e).concat(w(o).slice(1),g(r).reverse().slice(1),w(a).reverse().slice(1))]}},_.extent=function(m){return arguments.length?_.extentMajor(m).extentMinor(m):_.extentMinor()},_.extentMajor=function(m){return arguments.length?(e=+m[0][0],r=+m[1][0],a=+m[0][1],o=+m[1][1],e>r&&(m=e,e=r,r=m),a>o&&(m=a,a=o,o=m),_.precision(d)):[[e,a],[r,o]]},_.extentMinor=function(m){return arguments.length?(t=+m[0][0],n=+m[1][0],u=+m[0][1],i=+m[1][1],t>n&&(m=t,t=n,n=m),u>i&&(m=u,u=i,i=m),_.precision(d)):[[t,u],[n,i]]},_.step=function(m){return arguments.length?_.stepMajor(m).stepMinor(m):_.stepMinor()},_.stepMajor=function(m){return arguments.length?(l=+m[0],f=+m[1],_):[l,f]},_.stepMinor=function(m){return arguments.length?(h=+m[0],c=+m[1],_):[h,c]},_.precision=function(m){return arguments.length?(d=+m,s=oe(u,i,90),p=ue(t,n,d),g=oe(a,o,90),w=ue(e,r,d),_):d},_.extentMajor([[-180,-90+$],[180,90-$]]).extentMinor([[-180,-80-$],[180,80+$]])}const Mt=n=>n;var at=new an,wt=new an,Oe,qe,St,Et,un={point:K,lineStart:K,lineEnd:K,polygonStart:function(){un.lineStart=ui,un.lineEnd=ai},polygonEnd:function(){un.lineStart=un.lineEnd=un.point=K,at.add(X(wt)),wt=new an},result:function(){var n=at/2;return at=new an,n}};function ui(){un.point=li}function li(n,t){un.point=Be,Oe=St=n,qe=Et=t}function Be(n,t){wt.add(Et*n-St*t),St=n,Et=t}function ai(){Be(Oe,qe)}const le=un;var yn=1/0,Wn=yn,In=-yn,Jn=In,fi={point:ci,lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K,result:function(){var n=[[yn,Wn],[In,Jn]];return In=Jn=-(Wn=yn=1/0),n}};function ci(n,t){n<yn&&(yn=n),n>In&&(In=n),t<Wn&&(Wn=t),t>Jn&&(Jn=t)}const Kn=fi;var kt=0,Nt=0,En=0,Qn=0,bn=0,dn=0,Pt=0,At=0,kn=0,Ge,Ve,x,nn,b={point:fn,lineStart:ae,lineEnd:fe,polygonStart:function(){b.lineStart=pi,b.lineEnd=gi},polygonEnd:function(){b.point=fn,b.lineStart=ae,b.lineEnd=fe},result:function(){var n=kn?[Pt/kn,At/kn]:dn?[Qn/dn,bn/dn]:En?[kt/En,Nt/En]:[NaN,NaN];return kt=Nt=En=Qn=bn=dn=Pt=At=kn=0,n}};function fn(n,t){kt+=n,Nt+=t,++En}function ae(){b.point=si}function si(n,t){b.point=hi,fn(x=n,nn=t)}function hi(n,t){var r=n-x,e=t-nn,i=cn(r*r+e*e);Qn+=i*(x+n)/2,bn+=i*(nn+t)/2,dn+=i,fn(x=n,nn=t)}function fe(){b.point=fn}function pi(){b.point=di}function gi(){He(Ge,Ve)}function di(n,t){b.point=He,fn(Ge=x=n,Ve=nn=t)}function He(n,t){var r=n-x,e=t-nn,i=cn(r*r+e*e);Qn+=i*(x+n)/2,bn+=i*(nn+t)/2,dn+=i,i=nn*n-x*t,Pt+=i*(x+n),At+=i*(nn+t),kn+=i*3,fn(x=n,nn=t)}const ce=b;function je(n){this._context=n}je.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Q);break}}},result:K};var Rt=new an,ft,Ze,Ue,Nn,Pn,xn={point:K,lineStart:function(){xn.point=vi},lineEnd:function(){ft&&We(Ze,Ue),xn.point=K},polygonStart:function(){ft=!0},polygonEnd:function(){ft=null},result:function(){var n=+Rt;return Rt=new an,n}};function vi(n,t){xn.point=We,Ze=Nn=n,Ue=Pn=t}function We(n,t){Nn-=n,Pn-=t,Rt.add(cn(Nn*Nn+Pn*Pn)),Nn=n,Pn=t}const se=xn;function Je(){this._string=[]}Je.prototype={_radius:4.5,_circle:he(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=he(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function he(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function mi(n,t){var r=4.5,e,i;function u(o){return o&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),hn(o,e(i))),i.result()}return u.area=function(o){return hn(o,e(le)),le.result()},u.measure=function(o){return hn(o,e(se)),se.result()},u.bounds=function(o){return hn(o,e(Kn)),Kn.result()},u.centroid=function(o){return hn(o,e(ce)),ce.result()},u.projection=function(o){return arguments.length?(e=o==null?(n=null,Mt):(n=o).stream,u):n},u.context=function(o){return arguments.length?(i=o==null?(t=null,new Je):new je(t=o),typeof r!="function"&&i.pointRadius(r),u):t},u.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(i.pointRadius(+o),+o),u):r},u.projection(n).context(t)}function Xt(n){return function(t){var r=new zt;for(var e in n)r[e]=n[e];return r.stream=t,r}}function zt(){}zt.prototype={constructor:zt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Dt(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),hn(r,n.stream(Kn)),t(Kn.result()),e!=null&&n.clipExtent(e),n}function Ke(n,t,r){return Dt(n,function(e){var i=t[1][0]-t[0][0],u=t[1][1]-t[0][1],o=Math.min(i/(e[1][0]-e[0][0]),u/(e[1][1]-e[0][1])),a=+t[0][0]+(i-o*(e[1][0]+e[0][0]))/2,h=+t[0][1]+(u-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([a,h])},r)}function _i(n,t,r){return Ke(n,[[0,0],t],r)}function yi(n,t,r){return Dt(n,function(e){var i=+t,u=i/(e[1][0]-e[0][0]),o=(i-u*(e[1][0]+e[0][0]))/2,a=-u*e[0][1];n.scale(150*u).translate([o,a])},r)}function Mi(n,t,r){return Dt(n,function(e){var i=+t,u=i/(e[1][1]-e[0][1]),o=-u*e[0][0],a=(i-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([o,a])},r)}var pe=16,wi=q(30*Z);function ge(n,t){return+t?Ei(n,t):Si(n)}function Si(n){return Xt({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Ei(n,t){function r(e,i,u,o,a,h,c,l,f,s,p,g,w,d){var _=c-e,S=l-i,m=_*_+S*S;if(m>4*t&&w--){var E=o+s,k=a+p,N=h+g,R=cn(E*E+k*k+N*N),z=Ln(N/=R),L=X(X(N)-1)<$||X(u-f)<$?(u+f)/2:zn(k,E),T=n(L,z),v=T[0],P=T[1],I=v-e,A=P-i,y=S*I-_*A;(y*y/m>t||X((_*I+S*A)/m-.5)>.3||o*s+a*p+h*g<wi)&&(r(e,i,u,o,a,h,v,P,L,E/=R,k/=R,N,w,d),d.point(v,P),r(v,P,L,E,k,N,c,l,f,s,p,g,w,d))}}return function(e){var i,u,o,a,h,c,l,f,s,p,g,w,d={point:_,lineStart:S,lineEnd:E,polygonStart:function(){e.polygonStart(),d.lineStart=k},polygonEnd:function(){e.polygonEnd(),d.lineStart=S}};function _(z,L){z=n(z,L),e.point(z[0],z[1])}function S(){f=NaN,d.point=m,e.lineStart()}function m(z,L){var T=_n([z,L]),v=n(z,L);r(f,s,l,p,g,w,f=v[0],s=v[1],l=z,p=T[0],g=T[1],w=T[2],pe,e),e.point(f,s)}function E(){d.point=_,e.lineEnd()}function k(){S(),d.point=N,d.lineEnd=R}function N(z,L){m(i=z,L),u=f,o=s,a=p,h=g,c=w,d.point=m}function R(){r(f,s,l,p,g,w,u,o,i,a,h,c,pe,e),d.lineEnd=E,E()}return d}}var ki=Xt({point:function(n,t){this.stream.point(n*Z,t*Z)}});function Ni(n){return Xt({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Pi(n,t,r,e,i){function u(o,a){return o*=e,a*=i,[t+n*o,r-n*a]}return u.invert=function(o,a){return[(o-t)/n*e,(r-a)/n*i]},u}function de(n,t,r,e,i,u){if(!u)return Pi(n,t,r,e,i);var o=q(u),a=B(u),h=o*n,c=a*n,l=o/n,f=a/n,s=(a*r-o*t)/n,p=(a*t+o*r)/n;function g(w,d){return w*=e,d*=i,[h*w-c*d+t,r-c*w-h*d]}return g.invert=function(w,d){return[e*(l*w-f*d+s),i*(p-f*w-l*d)]},g}function Ai(n){return Ri(function(){return n})()}function Ri(n){var t,r=150,e=480,i=250,u=0,o=0,a=0,h=0,c=0,l,f=0,s=1,p=1,g=null,w=ie,d=null,_,S,m,E=Mt,k=.5,N,R,z,L,T;function v(y){return z(y[0]*Z,y[1]*Z)}function P(y){return y=z.invert(y[0],y[1]),y&&[y[0]*on,y[1]*on]}v.stream=function(y){return L&&T===y?L:L=ki(Ni(l)(w(N(E(T=y)))))},v.preclip=function(y){return arguments.length?(w=y,g=void 0,A()):w},v.postclip=function(y){return arguments.length?(E=y,d=_=S=m=null,A()):E},v.clipAngle=function(y){return arguments.length?(w=+y?ei(g=y*Z):(g=null,ie),A()):g*on},v.clipExtent=function(y){return arguments.length?(E=y==null?(d=_=S=m=null,Mt):ii(d=+y[0][0],_=+y[0][1],S=+y[1][0],m=+y[1][1]),A()):d==null?null:[[d,_],[S,m]]},v.scale=function(y){return arguments.length?(r=+y,I()):r},v.translate=function(y){return arguments.length?(e=+y[0],i=+y[1],I()):[e,i]},v.center=function(y){return arguments.length?(u=y[0]%360*Z,o=y[1]%360*Z,I()):[u*on,o*on]},v.rotate=function(y){return arguments.length?(a=y[0]%360*Z,h=y[1]%360*Z,c=y.length>2?y[2]%360*Z:0,I()):[a*on,h*on,c*on]},v.angle=function(y){return arguments.length?(f=y%360*Z,I()):f*on},v.reflectX=function(y){return arguments.length?(s=y?-1:1,I()):s<0},v.reflectY=function(y){return arguments.length?(p=y?-1:1,I()):p<0},v.precision=function(y){return arguments.length?(N=ge(R,k=y*y),A()):cn(k)},v.fitExtent=function(y,F){return Ke(v,y,F)},v.fitSize=function(y,F){return _i(v,y,F)},v.fitWidth=function(y,F){return yi(v,y,F)},v.fitHeight=function(y,F){return Mi(v,y,F)};function I(){var y=de(r,0,0,s,p,f).apply(null,t(u,o)),F=de(r,e-y[0],i-y[1],s,p,f);return l=Wr(a,h,c),R=_t(t,F),z=_t(l,R),N=ge(R,k),A()}function A(){return L=T=null,v}return function(){return t=n.apply(this,arguments),v.invert=t.invert&&P,I()}}function zi(n){return function(){return n}}function Li(n){return+n}var ve=[0,1];function vn(n){return n}function Lt(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:zi(isNaN(t)?NaN:.5)}function Ii(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function Fi(n,t,r){var e=n[0],i=n[1],u=t[0],o=t[1];return i<e?(e=Lt(i,e),u=r(o,u)):(e=Lt(e,i),u=r(u,o)),function(a){return u(e(a))}}function Ti(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),u=new Array(e),o=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<e;)i[o]=Lt(n[o],n[o+1]),u[o]=r(t[o],t[o+1]);return function(a){var h=pr(n,a,1,e)-1;return u[h](i[h](a))}}function Yi(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function $i(){var n=ve,t=ve,r=$t,e,i,u,o=vn,a,h,c;function l(){var s=Math.min(n.length,t.length);return o!==vn&&(o=Ii(n[0],n[s-1])),a=s>2?Ti:Fi,h=c=null,f}function f(s){return s==null||isNaN(s=+s)?u:(h||(h=a(n.map(e),t,r)))(e(o(s)))}return f.invert=function(s){return o(i((c||(c=a(t,n.map(e),ct)))(s)))},f.domain=function(s){return arguments.length?(n=Array.from(s,Li),l()):n.slice()},f.range=function(s){return arguments.length?(t=Array.from(s),l()):t.slice()},f.rangeRound=function(s){return t=Array.from(s),r=Fr,l()},f.clamp=function(s){return arguments.length?(o=s?!0:vn,l()):o!==vn},f.interpolate=function(s){return arguments.length?(r=s,l()):r},f.unknown=function(s){return arguments.length?(u=s,f):u},function(s,p){return e=s,i=p,l()}}function Ci(){return $i()(vn,vn)}function Xi(n,t,r,e){var i=dr(n,t,r),u;switch(e=jn(e==null?",f":e),e.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(u=Gr(i,o))&&(e.precision=u),$e(e,o)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(u=Vr(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=u-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(u=Br(i))&&(e.precision=u-(e.type==="%")*2);break}}return Ye(e)}function Di(n){var t=n.domain;return n.ticks=function(r){var e=t();return gr(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return Xi(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,u=e.length-1,o=e[i],a=e[u],h,c,l=10;for(a<o&&(c=o,o=a,a=c,c=i,i=u,u=c);l-- >0;){if(c=Ie(o,a,r),c===h)return e[i]=o,e[u]=a,t(e);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;h=c}return n},n}function It(){var n=Ci();return n.copy=function(){return Yi(n,It())},lr.apply(n,arguments),Di(n)}function Oi(n){return n}function qi(n){if(n==null)return Oi;var t,r,e=n.scale[0],i=n.scale[1],u=n.translate[0],o=n.translate[1];return function(a,h){h||(t=r=0);var c=2,l=a.length,f=new Array(l);for(f[0]=(t+=a[0])*e+u,f[1]=(r+=a[1])*i+o;c<l;)f[c]=a[c],++c;return f}}function Bi(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function Gi(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return me(n,r)})}:me(n,t)}function me(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,u=Vi(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:u}:e==null?{type:"Feature",id:r,properties:i,geometry:u}:{type:"Feature",id:r,bbox:e,properties:i,geometry:u}}function Vi(n,t){var r=qi(n.transform),e=n.arcs;function i(l,f){f.length&&f.pop();for(var s=e[l<0?~l:l],p=0,g=s.length;p<g;++p)f.push(r(s[p],p));l<0&&Bi(f,g)}function u(l){return r(l)}function o(l){for(var f=[],s=0,p=l.length;s<p;++s)i(l[s],f);return f.length<2&&f.push(f[0]),f}function a(l){for(var f=o(l);f.length<4;)f.push(f[0]);return f}function h(l){return l.map(a)}function c(l){var f=l.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(c)};case"Point":s=u(l.coordinates);break;case"MultiPoint":s=l.coordinates.map(u);break;case"LineString":s=o(l.arcs);break;case"MultiLineString":s=l.arcs.map(o);break;case"Polygon":s=h(l.arcs);break;case"MultiPolygon":s=l.arcs.map(h);break;default:return null}return{type:f,coordinates:s}}return c(t)}var nt=Math.abs,Mn=Math.cos,tn=Math.sin,An=1e-6,tt=Math.PI,Ft=tt/2;function Hi(n){return n?n/Math.sin(n):1}function Ot(n){return n>1?0:n<-1?tt:Math.acos(n)}function Qe(n){return n>0?Math.sqrt(n):0}function be(n,t){var r=Mn(t),e=Hi(Ot(r*Mn(n/=2)));return[2*r*tn(n)*e,tn(t)*e]}be.invert=function(n,t){if(!(n*n+4*t*t>tt*tt+An)){var r=n,e=t,i=25;do{var u=tn(r),o=tn(r/2),a=Mn(r/2),h=tn(e),c=Mn(e),l=tn(2*e),f=h*h,s=c*c,p=o*o,g=1-s*a*a,w=g?Ot(c*a)*Qe(d=1/g):d=0,d,_=2*w*c*o-n,S=w*h-t,m=d*(s*p+w*c*a*f),E=d*(.5*u*l-w*2*h*o),k=d*.25*(l*o-w*h*s*u),N=d*(f*a+w*p*c),R=E*k-N*m;if(!R)break;var z=(S*E-_*N)/R,L=(_*k-S*m)/R;r-=z,e-=L}while((nt(z)>An||nt(L)>An)&&--i>0);return[r,e]}};function xe(n,t){var r=be(n,t);return[(r[0]+n/Ft)/2,(r[1]+t)/2]}xe.invert=function(n,t){var r=n,e=t,i=25;do{var u=Mn(e),o=tn(e),a=tn(2*e),h=o*o,c=u*u,l=tn(r),f=Mn(r/2),s=tn(r/2),p=s*s,g=1-c*f*f,w=g?Ot(u*f)*Qe(d=1/g):d=0,d,_=.5*(2*w*u*s+r/Ft)-n,S=.5*(w*o+e)-t,m=.5*d*(c*p+w*u*f*h)+.5/Ft,E=d*(l*a/4-w*o*s),k=.125*d*(a*s-w*o*c*l),N=.5*d*(h*f+w*p*u)+.5,R=E*k-N*m,z=(S*E-_*N)/R,L=(_*k-S*m)/R;r-=z,e-=L}while((nt(z)>An||nt(L)>An)&&--i>0);return[r,e]};function ji(){return Ai(xe).scale(158.837)}function _e(n,t,r){const e=n.slice();return e[37]=t[r],e}function ye(n,t,r){const e=n.slice();return e[37]=t[r],e}function Me(n,t,r){const e=n.slice();return e[42]=t[r],e}function we(n,t,r){const e=n.slice();return e[45]=t[r],e}function Se(n){let t,r,e,i,u,o,a,h=n[7],c=[];for(let s=0;s<h.length;s+=1)c[s]=Ee(we(n,h,s));let l=n[3]&&ke(n),f=n[5]&&Pe(n);return{c(){t=H("g"),r=H("g");for(let s=0;s<c.length;s+=1)c[s].c();e=H("g"),l&&l.c(),i=H("g"),f&&f.c(),u=H("g"),o=H("path"),this.h()},l(s){t=j(s,"g",{id:!0});var p=G(t);r=j(p,"g",{id:!0});var g=G(r);for(let S=0;S<c.length;S+=1)c[S].l(g);g.forEach(C),e=j(p,"g",{id:!0});var w=G(e);l&&l.l(w),w.forEach(C),i=j(p,"g",{id:!0});var d=G(i);f&&f.l(d),d.forEach(C),u=j(p,"g",{id:!0});var _=G(u);o=j(_,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),G(o).forEach(C),_.forEach(C),p.forEach(C),this.h()},h(){M(r,"id","graticules"),M(e,"id","countries"),M(i,"id","artists"),M(o,"d",a=n[6](n[8])),M(o,"fill","none"),M(o,"stroke","black"),M(o,"stroke-width","2"),M(u,"id","outline"),M(t,"id","map")},m(s,p){W(s,t,p),U(t,r);for(let g=0;g<c.length;g+=1)c[g].m(r,null);U(t,e),l&&l.m(e,null),U(t,i),f&&f.m(i,null),U(t,u),U(u,o)},p(s,p){if(p[0]&192){h=s[7];let g;for(g=0;g<h.length;g+=1){const w=we(s,h,g);c[g]?c[g].p(w,p):(c[g]=Ee(w),c[g].c(),c[g].m(r,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=h.length}s[3]?l?l.p(s,p):(l=ke(s),l.c(),l.m(e,null)):l&&(l.d(1),l=null),s[5]?f?f.p(s,p):(f=Pe(s),f.c(),f.m(i,null)):f&&(f.d(1),f=null),p[0]&64&&a!==(a=s[6](s[8]))&&M(o,"d",a)},d(s){s&&C(t),Vn(c,s),l&&l.d(),f&&f.d()}}}function Ee(n){let t,r;return{c(){t=H("path"),this.h()},l(e){t=j(e,"path",{d:!0,fill:!0,stroke:!0}),G(t).forEach(C),this.h()},h(){M(t,"d",r=n[6](n[45])),M(t,"fill","none"),M(t,"stroke","lightgray")},m(e,i){W(e,t,i)},p(e,i){i[0]&64&&r!==(r=e[6](e[45]))&&M(t,"d",r)},d(e){e&&C(t)}}}function ke(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Ne(Me(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=pn()},l(i){for(let u=0;u<e.length;u+=1)e[u].l(i);t=pn()},m(i,u){for(let o=0;o<e.length;o+=1)e[o].m(i,u);W(i,t,u)},p(i,u){if(u[0]&72){r=i[3].features;let o;for(o=0;o<r.length;o+=1){const a=Me(i,r,o);e[o]?e[o].p(a,u):(e[o]=Ne(a),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=r.length}},d(i){Vn(e,i),i&&C(t)}}}function Ne(n){let t,r,e;return{c(){t=H("path"),this.h()},l(i){t=j(i,"path",{id:!0,d:!0,stroke:!0,fill:!0}),G(t).forEach(C),this.h()},h(){M(t,"id",r=n[42].id),M(t,"d",e=n[6](n[42])),M(t,"stroke","lightgray"),M(t,"fill","white")},m(i,u){W(i,t,u)},p(i,u){u[0]&8&&r!==(r=i[42].id)&&M(t,"id",r),u[0]&72&&e!==(e=i[6](i[42]))&&M(t,"d",e)},d(i){i&&C(t)}}}function Pe(n){let t,r,e=n[4],i=[];for(let a=0;a<e.length;a+=1)i[a]=Ae(ye(n,e,a));let u=n[4],o=[];for(let a=0;a<u.length;a+=1)o[a]=Re(_e(n,u,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=pn();for(let a=0;a<o.length;a+=1)o[a].c();r=pn()},l(a){for(let h=0;h<i.length;h+=1)i[h].l(a);t=pn();for(let h=0;h<o.length;h+=1)o[h].l(a);r=pn()},m(a,h){for(let c=0;c<i.length;c+=1)i[c].m(a,h);W(a,t,h);for(let c=0;c<o.length;c+=1)o[c].m(a,h);W(a,r,h)},p(a,h){if(h[0]&15892){e=a[4];let c;for(c=0;c<e.length;c+=1){const l=ye(a,e,c);i[c]?i[c].p(l,h):(i[c]=Ae(l),i[c].c(),i[c].m(t.parentNode,t))}for(;c<i.length;c+=1)i[c].d(1);i.length=e.length}if(h[0]&6164){u=a[4];let c;for(c=0;c<u.length;c+=1){const l=_e(a,u,c);o[c]?o[c].p(l,h):(o[c]=Re(l),o[c].c(),o[c].m(r.parentNode,r))}for(;c<o.length;c+=1)o[c].d(1);o.length=u.length}},d(a){Vn(i,a),a&&C(t),Vn(o,a),a&&C(r)}}}function Ae(n){let t,r,e,i,u,o,a,h,c,l,f,s,p,g,w;return{c(){t=H("g"),r=H("line"),a=H("circle"),l=H("line"),this.h()},l(d){t=j(d,"g",{});var _=G(t);r=j(_,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),G(r).forEach(C),a=j(_,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(a).forEach(C),l=j(_,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0,opacity:!0,"stroke-width":!0}),G(l).forEach(C),_.forEach(C),this.h()},h(){M(r,"x2",e=n[9](n[37][1])),M(r,"y2",i=n[10](n[37][1])),M(r,"x1",u=n[11](n[37])),M(r,"y1",o=n[12](n[37])),M(r,"stroke","black"),M(a,"cx",h=n[9](n[37][1])),M(a,"cy",c=n[10](n[37][1])),M(a,"r","2"),M(a,"fill","black"),M(l,"x2",f=n[11](n[37])),M(l,"y2",s=n[12](n[37])),M(l,"x1",p=n[11](n[2])),M(l,"y1",g=n[12](n[2])),M(l,"stroke","red"),M(l,"opacity","0.5"),M(l,"stroke-width",w=n[13](n[2],n[37]))},m(d,_){W(d,t,_),U(t,r),U(t,a),U(t,l)},p(d,_){_[0]&16&&e!==(e=d[9](d[37][1]))&&M(r,"x2",e),_[0]&16&&i!==(i=d[10](d[37][1]))&&M(r,"y2",i),_[0]&16&&u!==(u=d[11](d[37]))&&M(r,"x1",u),_[0]&16&&o!==(o=d[12](d[37]))&&M(r,"y1",o),_[0]&16&&h!==(h=d[9](d[37][1]))&&M(a,"cx",h),_[0]&16&&c!==(c=d[10](d[37][1]))&&M(a,"cy",c),_[0]&16&&f!==(f=d[11](d[37]))&&M(l,"x2",f),_[0]&16&&s!==(s=d[12](d[37]))&&M(l,"y2",s),_[0]&4&&p!==(p=d[11](d[2]))&&M(l,"x1",p),_[0]&4&&g!==(g=d[12](d[2]))&&M(l,"y1",g),_[0]&20&&w!==(w=d[13](d[2],d[37]))&&M(l,"stroke-width",w)},d(d){d&&C(t)}}}function Zi(n){let t,r,e,i,u=n[37][0]+"",o,a,h,c;return{c(){t=H("circle"),i=H("text"),o=Tt(u),this.h()},l(l){t=j(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),G(t).forEach(C),i=j(l,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var f=G(i);o=Yt(f,u),f.forEach(C),this.h()},h(){M(t,"cx",r=n[11](n[37])),M(t,"cy",e=n[12](n[37])),M(t,"r",Rn),M(t,"stroke","black"),M(t,"fill","white"),M(i,"id",a=n[37][0].replace(/[\s\.]/g,"")+"-text"),M(i,"opacity","1"),M(i,"x",h=n[11](n[37])),M(i,"y",c=n[12](n[37])+et),M(i,"text-anchor","middle")},m(l,f){W(l,t,f),W(l,i,f),U(i,o)},p(l,f){f[0]&16&&r!==(r=l[11](l[37]))&&M(t,"cx",r),f[0]&16&&e!==(e=l[12](l[37]))&&M(t,"cy",e),f[0]&16&&u!==(u=l[37][0]+"")&&ze(o,u),f[0]&16&&a!==(a=l[37][0].replace(/[\s\.]/g,"")+"-text")&&M(i,"id",a),f[0]&16&&h!==(h=l[11](l[37]))&&M(i,"x",h),f[0]&16&&c!==(c=l[12](l[37])+et)&&M(i,"y",c)},d(l){l&&C(t),l&&C(i)}}}function Ui(n){let t,r,e,i,u=n[37][0]+"",o,a,h,c;return{c(){t=H("circle"),i=H("text"),o=Tt(u),this.h()},l(l){t=j(l,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),G(t).forEach(C),i=j(l,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var f=G(i);o=Yt(f,u),f.forEach(C),this.h()},h(){M(t,"cx",r=n[11](n[37])),M(t,"cy",e=n[12](n[37])),M(t,"r",Rn*2),M(t,"stroke","black"),M(t,"fill","white"),M(i,"id",a=n[37][0].replace(/[\s\.]/g,"")+"-text"),M(i,"opacity","1"),M(i,"x",h=n[11](n[37])),M(i,"y",c=n[12](n[37])+et+Rn),M(i,"text-anchor","middle")},m(l,f){W(l,t,f),W(l,i,f),U(i,o)},p(l,f){f[0]&16&&r!==(r=l[11](l[37]))&&M(t,"cx",r),f[0]&16&&e!==(e=l[12](l[37]))&&M(t,"cy",e),f[0]&16&&u!==(u=l[37][0]+"")&&ze(o,u),f[0]&16&&a!==(a=l[37][0].replace(/[\s\.]/g,"")+"-text")&&M(i,"id",a),f[0]&16&&h!==(h=l[11](l[37]))&&M(i,"x",h),f[0]&16&&c!==(c=l[12](l[37])+et+Rn)&&M(i,"y",c)},d(l){l&&C(t),l&&C(i)}}}function Re(n){let t,r;function e(o,a){return o[37][0]===o[2][0]?Ui:Zi}let i=e(n),u=i(n);return{c(){t=H("g"),u.c(),this.h()},l(o){t=j(o,"g",{id:!0,class:!0});var a=G(t);u.l(a),a.forEach(C),this.h()},h(){M(t,"id",r=n[37][0].replace(/[[\s\.]]/g,"")+"-group"),M(t,"class","pointer")},m(o,a){W(o,t,a),u.m(t,null)},p(o,a){i===(i=e(o))&&u?u.p(o,a):(u.d(1),u=i(o),u&&(u.c(),u.m(t,null))),a[0]&16&&r!==(r=o[37][0].replace(/[[\s\.]]/g,"")+"-group")&&M(t,"id",r)},d(o){o&&C(t),u.d()}}}function Wi(n){let t,r,e,i,u,o=n[6]&&Se(n);return{c(){t=rr("div"),r=H("svg"),e=H("style"),i=Tt(`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),o&&o.c(),this.h()},l(a){t=ir(a,"DIV",{id:!0,class:!0,style:!0});var h=G(t);r=j(h,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var c=G(r);e=j(c,"style",{});var l=G(e);i=Yt(l,`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),l.forEach(C),o&&o.l(c),c.forEach(C),h.forEach(C),this.h()},h(){M(r,"class","inline-block absolute top-0 left-0"),M(r,"viewBox",u="0, 0, "+n[0]+", "+n[1]),M(r,"preserveAspectRatio","xMidYMid meet"),M(t,"id","container"),M(t,"class","inline-block relative align-top overflow-hidden"),Tn(t,"width",n[0]+"px"),Tn(t,"height",n[1]+"px")},m(a,h){W(a,t,h),U(t,r),U(r,e),U(e,i),o&&o.m(r,null)},p(a,h){a[6]?o?o.p(a,h):(o=Se(a),o.c(),o.m(r,null)):o&&(o.d(1),o=null),h[0]&3&&u!==(u="0, 0, "+a[0]+", "+a[1])&&M(r,"viewBox",u),h[0]&1&&Tn(t,"width",a[0]+"px"),h[0]&2&&Tn(t,"height",a[1]+"px")},i:qt,o:qt,d(a){a&&C(t),o&&o.d()}}}const Rn=15,et=30,Ji=20,Ki=100;function Qi(n,t,r){let{width:e}=t,{height:i}=t,u,o,a,h,c,l,f,s;const p=oi(),g=p.lines(),w=p.outline();let d,_,S,m;const E=v=>{a=o.filter(([,P])=>P.length>1?P[0].year<=v&&P[1].year>v:P[0].year<=v);for(const P of a)P.x=k(P[1]),P.y=N(P[1])},k=v=>d([v[0].lon,v[0].lat])[0],N=v=>d([v[0].lon,v[0].lat])[1],R=v=>v.hasOwnProperty("x")?v.x:k(v[1]),z=v=>v.hasOwnProperty("y")?v.y:N(v[1]),L=(v,P)=>{const I=v[1][0].year,A=P[1][0].year;return m(Math.abs(A-I))},T=(v,P,I)=>{d=ji().translate([e/2,i/2]).scale(i/3.5),r(6,_=mi().projection(d)),r(3,u=Gi(v,v.objects.countries)),P&&(rt(P,A=>A.artist),rt(P,A=>A.influenced)),I?(f=mr(I,A=>A.year),s=vr(I,A=>A.year),o=rt(I,A=>A.artist),E(f),m=It().domain([0,s-f]).range([2,Rn]),S=It().domain([f,s]).range([0,e]),Pr(S).tickFormat(A=>Number(A)%Ki===0?String(A):"").ticks((s-f)/Ji)):console.error("Unable to load Artist Locations!")};return n.$$set=v=>{"width"in v&&r(0,e=v.width),"height"in v&&r(1,i=v.height)},n.$$.update=()=>{n.$$.dirty[0]&4},r(0,e=0),r(1,i=0),r(3,u=null),o=[],a=[],r(4,h=[]),r(5,l=!1),f=0,s=2100,[e,i,c,u,h,l,_,g,w,k,N,R,z,L,T]}class eo extends nr{constructor(t){super(),tr(this,t,Qi,Wi,er,{width:0,height:1,Initialize:14},null,[-1,-1])}get Initialize(){return this.$$.ctx[14]}}export{eo as M};
