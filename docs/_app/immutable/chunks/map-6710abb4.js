import{Q as gr,S as pr,i as dr,s as vr,k as mr,O as H,q as Oe,l as _r,m as B,P as V,r as $e,h as Y,n as M,p as Yn,b as un,F as j,f as En,g as Be,t as jn,d as qe,e as Kn,H as Zn,u as yr,J as Mr,R as Zt}from"./index-f38f7b54.js";import{c as wr,i as yt,d as Jt,e as Qt,f as Sr,s as bn}from"./config-fd755020.js";import{G as hn,a as gn,A as Z,T as Xn,b as On}from"./helpers-06848ef0.js";import{r as Mn,i as Er}from"./init-08c38208.js";import{g as st}from"./group-d3aa616c.js";function Jn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function kr(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function He(n){let t,r,e;n.length!==2?(t=Jn,r=(a,h)=>Jn(n(a),h),e=(a,h)=>n(a)-h):(t=n===Jn||n===kr?n:Nr,r=n,e=n);function i(a,h,s=0,l=a.length){if(s<l){if(t(h,h)!==0)return l;do{const f=s+l>>>1;r(a[f],h)<0?s=f+1:l=f}while(s<l)}return s}function o(a,h,s=0,l=a.length){if(s<l){if(t(h,h)!==0)return l;do{const f=s+l>>>1;r(a[f],h)<=0?s=f+1:l=f}while(s<l)}return s}function u(a,h,s=0,l=a.length){const f=i(a,h,s,l-1);return f>s&&e(a[f-1],h)>-e(a[f],h)?f-1:f}return{left:i,center:u,right:o}}function Nr(){return 0}function Pr(n){return n===null?NaN:+n}const Ar=He(Jn),Rr=Ar.right;He(Pr).center;const Ir=Rr;class pn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const o=r[i],u=t+o,a=Math.abs(t)<Math.abs(o)?t-(u-o):o-(u-t);a&&(r[e++]=a),t=u}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,o,u=0;if(r>0){for(u=t[--r];r>0&&(e=u,i=t[--r],u=e+i,o=i-(u-e),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,e=u+i,i==e-u&&(u=e))}return u}}var Mt=Math.sqrt(50),wt=Math.sqrt(10),St=Math.sqrt(2);function Lr(n,t,r){var e,i=-1,o,u,a;if(t=+t,n=+n,r=+r,n===t&&r>0)return[n];if((e=t<n)&&(o=n,n=t,t=o),(a=Ve(n,t,r))===0||!isFinite(a))return[];if(a>0){let h=Math.round(n/a),s=Math.round(t/a);for(h*a<n&&++h,s*a>t&&--s,u=new Array(o=s-h+1);++i<o;)u[i]=(h+i)*a}else{a=-a;let h=Math.round(n*a),s=Math.round(t*a);for(h/a<n&&++h,s/a>t&&--s,u=new Array(o=s-h+1);++i<o;)u[i]=(h+i)/a}return e&&u.reverse(),u}function Ve(n,t,r){var e=(t-n)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,i);return i>=0?(o>=Mt?10:o>=wt?5:o>=St?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Mt?10:o>=wt?5:o>=St?2:1)}function zr(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/i;return o>=Mt?i*=10:o>=wt?i*=5:o>=St&&(i*=2),t<n?-i:i}function jt(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Tr(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r>e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function*Fr(n){for(const t of n)yield*t}function We(n){return Array.from(Fr(n))}function Dr(n){return n}var ht=1,gt=2,Et=3,$n=4,Kt=1e-6;function Cr(n){return"translate("+n+",0)"}function Gr(n){return"translate(0,"+n+")"}function Yr(n){return t=>+n(t)}function Xr(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function Or(){return!this.__axis}function $r(n,t){var r=[],e=null,i=null,o=6,u=6,a=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=n===ht||n===$n?-1:1,l=n===$n||n===gt?"x":"y",f=n===ht||n===Et?Cr:Gr;function c(g){var d=e==null?t.ticks?t.ticks.apply(t,r):t.domain():e,y=i==null?t.tickFormat?t.tickFormat.apply(t,r):Dr:i,v=Math.max(o,0)+a,m=t.range(),E=+m[0]+h,p=+m[m.length-1]+h,N=(t.bandwidth?Xr:Yr)(t.copy(),h),_=g.selection?g.selection():g,k=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,t).order(),A=w.exit(),I=w.enter().append("g").attr("class","tick"),C=w.select("line"),P=w.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(I),C=C.merge(I.append("line").attr("stroke","currentColor").attr(l+"2",s*o)),P=P.merge(I.append("text").attr("fill","currentColor").attr(l,s*v).attr("dy",n===ht?"0em":n===Et?"0.71em":"0.32em")),g!==_&&(k=k.transition(g),w=w.transition(g),C=C.transition(g),P=P.transition(g),A=A.transition(g).attr("opacity",Kt).attr("transform",function(z){return isFinite(z=N(z))?f(z+h):this.getAttribute("transform")}),I.attr("opacity",Kt).attr("transform",function(z){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(z))?D:N(z))+h)})),A.remove(),k.attr("d",n===$n||n===gt?u?"M"+s*u+","+E+"H"+h+"V"+p+"H"+s*u:"M"+h+","+E+"V"+p:u?"M"+E+","+s*u+"V"+h+"H"+p+"V"+s*u:"M"+E+","+h+"H"+p),w.attr("opacity",1).attr("transform",function(z){return f(N(z)+h)}),C.attr(l+"2",s*o),P.attr(l,s*v).text(y),_.filter(Or).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===gt?"start":n===$n?"end":"middle"),_.each(function(){this.__axis=N})}return c.scale=function(g){return arguments.length?(t=g,c):t},c.ticks=function(){return r=Array.from(arguments),c},c.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),c):r.slice()},c.tickValues=function(g){return arguments.length?(e=g==null?null:Array.from(g),c):e&&e.slice()},c.tickFormat=function(g){return arguments.length?(i=g,c):i},c.tickSize=function(g){return arguments.length?(o=u=+g,c):o},c.tickSizeInner=function(g){return arguments.length?(o=+g,c):o},c.tickSizeOuter=function(g){return arguments.length?(u=+g,c):u},c.tickPadding=function(g){return arguments.length?(a=+g,c):a},c.offset=function(g){return arguments.length?(h=+g,c):h},c}function Br(n){return $r(Et,n)}function qr(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(o){for(i=0;i<r;++i)e[i]=n[i]*(1-o)+t[i]*o;return e}}function Hr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Vr(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),o=new Array(r),u;for(u=0;u<e;++u)i[u]=qt(n[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(a){for(u=0;u<e;++u)o[u]=i[u](a);return o}}function Wr(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function Ur(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=qt(n[i],t[i]):e[i]=t[i];return function(o){for(i in r)e[i]=r[i](o);return e}}function qt(n,t){var r=typeof t,e;return t==null||r==="boolean"?wr(t):(r==="number"?yt:r==="string"?(e=Jt(t))?(t=e,Qt):Sr:t instanceof Jt?Qt:t instanceof Date?Wr:Hr(t)?qr:Array.isArray(t)?Vr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ur:yt)(n,t)}function Zr(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Jr(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function xn(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function kn(n){return n=xn(Math.abs(n)),n?n[1]:NaN}function Qr(n,t){return function(r,e){for(var i=r.length,o=[],u=0,a=n[0],h=0;i>0&&a>0&&(h+a+1>e&&(a=Math.max(1,e-h)),o.push(r.substring(i-=a,i+a)),!((h+=a+1)>e));)a=n[u=(u+1)%n.length];return o.reverse().join(t)}}function jr(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Kr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nt(n){if(!(t=Kr.exec(n)))throw new Error("invalid format: "+n);var t;return new Ht({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nt.prototype=Ht.prototype;function Ht(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Ht.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function br(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Ue;function xr(n,t){var r=xn(n,t);if(!r)return n+"";var e=r[0],i=r[1],o=i-(Ue=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=e.length;return o===u?e:o>u?e+new Array(o-u+1).join("0"):o>0?e.slice(0,o)+"."+e.slice(o):"0."+new Array(1-o).join("0")+xn(n,Math.max(0,t+o-1))[0]}function bt(n,t){var r=xn(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const xt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Jr,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>bt(n*100,t),r:bt,s:xr,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function ne(n){return n}var te=Array.prototype.map,ee=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ni(n){var t=n.grouping===void 0||n.thousands===void 0?ne:Qr(te.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?ne:jr(te.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function s(f){f=nt(f);var c=f.fill,g=f.align,d=f.sign,y=f.symbol,v=f.zero,m=f.width,E=f.comma,p=f.precision,N=f.trim,_=f.type;_==="n"?(E=!0,_="g"):xt[_]||(p===void 0&&(p=12),N=!0,_="g"),(v||c==="0"&&g==="=")&&(v=!0,c="0",g="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w=y==="$"?e:/[%p]/.test(_)?u:"",A=xt[_],I=/[defgprs%]/.test(_);p=p===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function C(P){var z=k,D=w,G,S,F;if(_==="c")D=A(P)+D,P="";else{P=+P;var $=P<0||1/P<0;if(P=isNaN(P)?h:A(Math.abs(P),p),N&&(P=br(P)),$&&+P==0&&d!=="+"&&($=!1),z=($?d==="("?d:a:d==="-"||d==="("?"":d)+z,D=(_==="s"?ee[8+Ue/3]:"")+D+($&&d==="("?")":""),I){for(G=-1,S=P.length;++G<S;)if(F=P.charCodeAt(G),48>F||F>57){D=(F===46?i+P.slice(G+1):P.slice(G))+D,P=P.slice(0,G);break}}}E&&!v&&(P=t(P,1/0));var R=z.length+P.length+D.length,L=R<m?new Array(m-R+1).join(c):"";switch(E&&v&&(P=t(L+P,L.length?m-D.length:1/0),L=""),g){case"<":P=z+P+D+L;break;case"=":P=z+L+P+D;break;case"^":P=L.slice(0,R=L.length>>1)+z+P+D+L.slice(R);break;default:P=L+z+P+D;break}return o(P)}return C.toString=function(){return f+""},C}function l(f,c){var g=s((f=nt(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(kn(c)/3)))*3,y=Math.pow(10,-d),v=ee[8+d/3];return function(m){return g(y*m)+v}}return{format:s,formatPrefix:l}}var Bn,Ze,Je;ti({thousands:",",grouping:[3],currency:["$",""]});function ti(n){return Bn=ni(n),Ze=Bn.format,Je=Bn.formatPrefix,Bn}function ei(n){return Math.max(0,-kn(Math.abs(n)))}function ri(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kn(t)/3)))*3-kn(Math.abs(n)))}function ii(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,kn(t)-kn(n))+1}var O=1e-6,oi=1e-12,X=Math.PI,tn=X/2,re=X/4,rn=X*2,cn=180/X,b=X/180,q=Math.abs,ui=Math.atan,Dn=Math.atan2,W=Math.cos,qn=Math.ceil,U=Math.sin,li=Math.sign||function(n){return n>0?1:n<0?-1:0},vn=Math.sqrt;function ai(n){return n>1?0:n<-1?X:Math.acos(n)}function Cn(n){return n>1?tn:n<-1?-tn:Math.asin(n)}function en(){}function tt(n,t){n&&oe.hasOwnProperty(n.type)&&oe[n.type](n,t)}var ie={Feature:function(n,t){tt(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)tt(r[e].geometry,t)}},oe={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){kt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)kt(r[e],t,0)},Polygon:function(n,t){ue(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)ue(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)tt(r[e],t)}};function kt(n,t,r){var e=-1,i=n.length-r,o;for(t.lineStart();++e<i;)o=n[e],t.point(o[0],o[1],o[2]);t.lineEnd()}function ue(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)kt(n[r],t,1);t.polygonEnd()}function yn(n,t){n&&ie.hasOwnProperty(n.type)?ie[n.type](n,t):tt(n,t)}function Nt(n){return[Dn(n[1],n[0]),Cn(n[2])]}function Nn(n){var t=n[0],r=n[1],e=W(r);return[e*W(t),e*U(t),U(r)]}function Hn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function et(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function pt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Vn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Pt(n){var t=vn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function At(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function Rt(n,t){return[q(n)>X?n+Math.round(-n/rn)*rn:n,t]}Rt.invert=Rt;function fi(n,t,r){return(n%=rn)?t||r?At(ae(n),fe(t,r)):ae(n):t||r?fe(t,r):Rt}function le(n){return function(t,r){return t+=n,[t>X?t-rn:t<-X?t+rn:t,r]}}function ae(n){var t=le(n);return t.invert=le(-n),t}function fe(n,t){var r=W(n),e=U(n),i=W(t),o=U(t);function u(a,h){var s=W(h),l=W(a)*s,f=U(a)*s,c=U(h),g=c*r+l*e;return[Dn(f*i-g*o,l*r-c*e),Cn(g*i+f*o)]}return u.invert=function(a,h){var s=W(h),l=W(a)*s,f=U(a)*s,c=U(h),g=c*i-f*o;return[Dn(f*i+c*o,l*r+g*e),Cn(g*r-l*e)]},u}function ci(n,t,r,e,i,o){if(!!r){var u=W(t),a=U(t),h=e*r;i==null?(i=t+e*rn,o=t-h/2):(i=ce(u,i),o=ce(u,o),(e>0?i<o:i>o)&&(i+=e*rn));for(var s,l=i;e>0?l>o:l<o;l-=h)s=Nt([u,-a*W(l),-a*U(l)]),n.point(s[0],s[1])}}function ce(n,t){t=Nn(t),t[0]-=n,Pt(t);var r=ai(-t[1]);return((-t[2]<0?-r:r)+rn-O)%rn}function Qe(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:en,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Qn(n,t){return q(n[0]-t[0])<O&&q(n[1]-t[1])<O}function Wn(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function je(n,t,r,e,i){var o=[],u=[],a,h;if(n.forEach(function(d){if(!((y=d.length-1)<=0)){var y,v=d[0],m=d[y],E;if(Qn(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),a=0;a<y;++a)i.point((v=d[a])[0],v[1]);i.lineEnd();return}m[0]+=2*O}o.push(E=new Wn(v,d,null,!0)),u.push(E.o=new Wn(v,null,E,!1)),o.push(E=new Wn(m,d,null,!1)),u.push(E.o=new Wn(m,null,E,!0))}}),!!o.length){for(u.sort(t),se(o),se(u),a=0,h=u.length;a<h;++a)u[a].e=r=!r;for(var s=o[0],l,f;;){for(var c=s,g=!0;c.v;)if((c=c.n)===s)return;l=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(g)for(a=0,h=l.length;a<h;++a)i.point((f=l[a])[0],f[1]);else e(c.x,c.n.x,1,i);c=c.n}else{if(g)for(l=c.p.z,a=l.length-1;a>=0;--a)i.point((f=l[a])[0],f[1]);else e(c.x,c.p.x,-1,i);c=c.p}c=c.o,l=c.z,g=!g}while(!c.v);i.lineEnd()}}}function se(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function dt(n){return q(n[0])<=X?n[0]:li(n[0])*((q(n[0])+X)%rn-X)}function si(n,t){var r=dt(t),e=t[1],i=U(e),o=[U(r),-W(r),0],u=0,a=0,h=new pn;i===1?e=tn+O:i===-1&&(e=-tn-O);for(var s=0,l=n.length;s<l;++s)if(!!(c=(f=n[s]).length))for(var f,c,g=f[c-1],d=dt(g),y=g[1]/2+re,v=U(y),m=W(y),E=0;E<c;++E,d=N,v=k,m=w,g=p){var p=f[E],N=dt(p),_=p[1]/2+re,k=U(_),w=W(_),A=N-d,I=A>=0?1:-1,C=I*A,P=C>X,z=v*k;if(h.add(Dn(z*I*U(C),m*w+z*W(C))),u+=P?A+I*rn:A,P^d>=r^N>=r){var D=et(Nn(g),Nn(p));Pt(D);var G=et(o,D);Pt(G);var S=(P^A>=0?-1:1)*Cn(G[2]);(e>S||e===S&&(D[0]||D[1]))&&(a+=P^A>=0?1:-1)}}return(u<-O||u<O&&h<-oi)^a&1}function Ke(n,t,r,e){return function(i){var o=t(i),u=Qe(),a=t(u),h=!1,s,l,f,c={point:g,lineStart:y,lineEnd:v,polygonStart:function(){c.point=m,c.lineStart=E,c.lineEnd=p,l=[],s=[]},polygonEnd:function(){c.point=g,c.lineStart=y,c.lineEnd=v,l=We(l);var N=si(s,e);l.length?(h||(i.polygonStart(),h=!0),je(l,gi,N,r,i)):N&&(h||(i.polygonStart(),h=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),l=s=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(N,_){n(N,_)&&i.point(N,_)}function d(N,_){o.point(N,_)}function y(){c.point=d,o.lineStart()}function v(){c.point=g,o.lineEnd()}function m(N,_){f.push([N,_]),a.point(N,_)}function E(){a.lineStart(),f=[]}function p(){m(f[0][0],f[0][1]),a.lineEnd();var N=a.clean(),_=u.result(),k,w=_.length,A,I,C;if(f.pop(),s.push(f),f=null,!!w){if(N&1){if(I=_[0],(A=I.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),k=0;k<A;++k)i.point((C=I[k])[0],C[1]);i.lineEnd()}return}w>1&&N&2&&_.push(_.pop().concat(_.shift())),l.push(_.filter(hi))}}return c}}function hi(n){return n.length>1}function gi(n,t){return((n=n.x)[0]<0?n[1]-tn-O:tn-n[1])-((t=t.x)[0]<0?t[1]-tn-O:tn-t[1])}const he=Ke(function(){return!0},pi,vi,[-X,-tn]);function pi(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(o,u){var a=o>0?X:-X,h=q(o-t);q(h-X)<O?(n.point(t,r=(r+u)/2>0?tn:-tn),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(o,r),i=0):e!==a&&h>=X&&(q(t-e)<O&&(t-=e*O),q(o-a)<O&&(o-=a*O),r=di(t,r,o,u),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(a,r),i=0),n.point(t=o,r=u),e=a},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function di(n,t,r,e){var i,o,u=U(n-r);return q(u)>O?ui((U(t)*(o=W(e))*U(r)-U(e)*(i=W(t))*U(n))/(i*o*u)):(t+e)/2}function vi(n,t,r,e){var i;if(n==null)i=r*tn,e.point(-X,i),e.point(0,i),e.point(X,i),e.point(X,0),e.point(X,-i),e.point(0,-i),e.point(-X,-i),e.point(-X,0),e.point(-X,i);else if(q(n[0]-t[0])>O){var o=n[0]<t[0]?X:-X;i=r*o/2,e.point(-o,i),e.point(0,i),e.point(o,i)}else e.point(t[0],t[1])}function mi(n){var t=W(n),r=6*b,e=t>0,i=q(t)>O;function o(l,f,c,g){ci(g,n,r,c,l,f)}function u(l,f){return W(l)*W(f)>t}function a(l){var f,c,g,d,y;return{lineStart:function(){d=g=!1,y=1},point:function(v,m){var E=[v,m],p,N=u(v,m),_=e?N?0:s(v,m):N?s(v+(v<0?X:-X),m):0;if(!f&&(d=g=N)&&l.lineStart(),N!==g&&(p=h(f,E),(!p||Qn(f,p)||Qn(E,p))&&(E[2]=1)),N!==g)y=0,N?(l.lineStart(),p=h(E,f),l.point(p[0],p[1])):(p=h(f,E),l.point(p[0],p[1],2),l.lineEnd()),f=p;else if(i&&f&&e^N){var k;!(_&c)&&(k=h(E,f,!0))&&(y=0,e?(l.lineStart(),l.point(k[0][0],k[0][1]),l.point(k[1][0],k[1][1]),l.lineEnd()):(l.point(k[1][0],k[1][1]),l.lineEnd(),l.lineStart(),l.point(k[0][0],k[0][1],3)))}N&&(!f||!Qn(f,E))&&l.point(E[0],E[1]),f=E,g=N,c=_},lineEnd:function(){g&&l.lineEnd(),f=null},clean:function(){return y|(d&&g)<<1}}}function h(l,f,c){var g=Nn(l),d=Nn(f),y=[1,0,0],v=et(g,d),m=Hn(v,v),E=v[0],p=m-E*E;if(!p)return!c&&l;var N=t*m/p,_=-t*E/p,k=et(y,v),w=Vn(y,N),A=Vn(v,_);pt(w,A);var I=k,C=Hn(w,I),P=Hn(I,I),z=C*C-P*(Hn(w,w)-1);if(!(z<0)){var D=vn(z),G=Vn(I,(-C-D)/P);if(pt(G,w),G=Nt(G),!c)return G;var S=l[0],F=f[0],$=l[1],R=f[1],L;F<S&&(L=S,S=F,F=L);var J=F-S,K=q(J-X)<O,T=K||J<O;if(!K&&R<$&&(L=$,$=R,R=L),T?K?$+R>0^G[1]<(q(G[0]-S)<O?$:R):$<=G[1]&&G[1]<=R:J>X^(S<=G[0]&&G[0]<=F)){var Q=Vn(I,(-C+D)/P);return pt(Q,w),[G,Nt(Q)]}}}function s(l,f){var c=e?n:X-n,g=0;return l<-c?g|=1:l>c&&(g|=2),f<-c?g|=4:f>c&&(g|=8),g}return Ke(u,a,o,e?[0,-n]:[-X,n-X])}function _i(n,t,r,e,i,o){var u=n[0],a=n[1],h=t[0],s=t[1],l=0,f=1,c=h-u,g=s-a,d;if(d=r-u,!(!c&&d>0)){if(d/=c,c<0){if(d<l)return;d<f&&(f=d)}else if(c>0){if(d>f)return;d>l&&(l=d)}if(d=i-u,!(!c&&d<0)){if(d/=c,c<0){if(d>f)return;d>l&&(l=d)}else if(c>0){if(d<l)return;d<f&&(f=d)}if(d=e-a,!(!g&&d>0)){if(d/=g,g<0){if(d<l)return;d<f&&(f=d)}else if(g>0){if(d>f)return;d>l&&(l=d)}if(d=o-a,!(!g&&d<0)){if(d/=g,g<0){if(d>f)return;d>l&&(l=d)}else if(g>0){if(d<l)return;d<f&&(f=d)}return l>0&&(n[0]=u+l*c,n[1]=a+l*g),f<1&&(t[0]=u+f*c,t[1]=a+f*g),!0}}}}}var Rn=1e9,Un=-Rn;function yi(n,t,r,e){function i(s,l){return n<=s&&s<=r&&t<=l&&l<=e}function o(s,l,f,c){var g=0,d=0;if(s==null||(g=u(s,f))!==(d=u(l,f))||h(s,l)<0^f>0)do c.point(g===0||g===3?n:r,g>1?e:t);while((g=(g+f+4)%4)!==d);else c.point(l[0],l[1])}function u(s,l){return q(s[0]-n)<O?l>0?0:3:q(s[0]-r)<O?l>0?2:1:q(s[1]-t)<O?l>0?1:0:l>0?3:2}function a(s,l){return h(s.x,l.x)}function h(s,l){var f=u(s,1),c=u(l,1);return f!==c?f-c:f===0?l[1]-s[1]:f===1?s[0]-l[0]:f===2?s[1]-l[1]:l[0]-s[0]}return function(s){var l=s,f=Qe(),c,g,d,y,v,m,E,p,N,_,k,w={point:A,lineStart:z,lineEnd:D,polygonStart:C,polygonEnd:P};function A(S,F){i(S,F)&&l.point(S,F)}function I(){for(var S=0,F=0,$=g.length;F<$;++F)for(var R=g[F],L=1,J=R.length,K=R[0],T,Q,x=K[0],mn=K[1];L<J;++L)T=x,Q=mn,K=R[L],x=K[0],mn=K[1],Q<=e?mn>e&&(x-T)*(e-Q)>(mn-Q)*(n-T)&&++S:mn<=e&&(x-T)*(e-Q)<(mn-Q)*(n-T)&&--S;return S}function C(){l=f,c=[],g=[],k=!0}function P(){var S=I(),F=k&&S,$=(c=We(c)).length;(F||$)&&(s.polygonStart(),F&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),$&&je(c,a,S,o,s),s.polygonEnd()),l=s,c=g=d=null}function z(){w.point=G,g&&g.push(d=[]),_=!0,N=!1,E=p=NaN}function D(){c&&(G(y,v),m&&N&&f.rejoin(),c.push(f.result())),w.point=A,N&&l.lineEnd()}function G(S,F){var $=i(S,F);if(g&&d.push([S,F]),_)y=S,v=F,m=$,_=!1,$&&(l.lineStart(),l.point(S,F));else if($&&N)l.point(S,F);else{var R=[E=Math.max(Un,Math.min(Rn,E)),p=Math.max(Un,Math.min(Rn,p))],L=[S=Math.max(Un,Math.min(Rn,S)),F=Math.max(Un,Math.min(Rn,F))];_i(R,L,n,t,r,e)?(N||(l.lineStart(),l.point(R[0],R[1])),l.point(L[0],L[1]),$||l.lineEnd(),k=!1):$&&(l.lineStart(),l.point(S,F),k=!1)}E=S,p=F,N=$}return w}}function ge(n,t,r){var e=Mn(n,t-O,r).concat(t);return function(i){return e.map(function(o){return[i,o]})}}function pe(n,t,r){var e=Mn(n,t-O,r).concat(t);return function(i){return e.map(function(o){return[o,i]})}}function Mi(){var n,t,r,e,i,o,u,a,h=10,s=h,l=90,f=360,c,g,d,y,v=2.5;function m(){return{type:"MultiLineString",coordinates:E()}}function E(){return Mn(qn(e/l)*l,r,l).map(d).concat(Mn(qn(a/f)*f,u,f).map(y)).concat(Mn(qn(t/h)*h,n,h).filter(function(p){return q(p%l)>O}).map(c)).concat(Mn(qn(o/s)*s,i,s).filter(function(p){return q(p%f)>O}).map(g))}return m.lines=function(){return E().map(function(p){return{type:"LineString",coordinates:p}})},m.outline=function(){return{type:"Polygon",coordinates:[d(e).concat(y(u).slice(1),d(r).reverse().slice(1),y(a).reverse().slice(1))]}},m.extent=function(p){return arguments.length?m.extentMajor(p).extentMinor(p):m.extentMinor()},m.extentMajor=function(p){return arguments.length?(e=+p[0][0],r=+p[1][0],a=+p[0][1],u=+p[1][1],e>r&&(p=e,e=r,r=p),a>u&&(p=a,a=u,u=p),m.precision(v)):[[e,a],[r,u]]},m.extentMinor=function(p){return arguments.length?(t=+p[0][0],n=+p[1][0],o=+p[0][1],i=+p[1][1],t>n&&(p=t,t=n,n=p),o>i&&(p=o,o=i,i=p),m.precision(v)):[[t,o],[n,i]]},m.step=function(p){return arguments.length?m.stepMajor(p).stepMinor(p):m.stepMinor()},m.stepMajor=function(p){return arguments.length?(l=+p[0],f=+p[1],m):[l,f]},m.stepMinor=function(p){return arguments.length?(h=+p[0],s=+p[1],m):[h,s]},m.precision=function(p){return arguments.length?(v=+p,c=ge(o,i,90),g=pe(t,n,v),d=ge(a,u,90),y=pe(e,r,v),m):v},m.extentMajor([[-180,-90+O],[180,90-O]]).extentMinor([[-180,-80-O],[180,80+O]])}const It=n=>n;var vt=new pn,Lt=new pn,be,xe,zt,Tt,sn={point:en,lineStart:en,lineEnd:en,polygonStart:function(){sn.lineStart=wi,sn.lineEnd=Ei},polygonEnd:function(){sn.lineStart=sn.lineEnd=sn.point=en,vt.add(q(Lt)),Lt=new pn},result:function(){var n=vt/2;return vt=new pn,n}};function wi(){sn.point=Si}function Si(n,t){sn.point=nr,be=zt=n,xe=Tt=t}function nr(n,t){Lt.add(Tt*n-zt*t),zt=n,Tt=t}function Ei(){nr(be,xe)}const de=sn;var Pn=1/0,rt=Pn,Gn=-Pn,it=Gn,ki={point:Ni,lineStart:en,lineEnd:en,polygonStart:en,polygonEnd:en,result:function(){var n=[[Pn,rt],[Gn,it]];return Gn=it=-(rt=Pn=1/0),n}};function Ni(n,t){n<Pn&&(Pn=n),n>Gn&&(Gn=n),t<rt&&(rt=t),t>it&&(it=t)}const ot=ki;var Ft=0,Dt=0,In=0,ut=0,lt=0,wn=0,Ct=0,Gt=0,Ln=0,tr,er,ln,an,on={point:dn,lineStart:ve,lineEnd:me,polygonStart:function(){on.lineStart=Ri,on.lineEnd=Ii},polygonEnd:function(){on.point=dn,on.lineStart=ve,on.lineEnd=me},result:function(){var n=Ln?[Ct/Ln,Gt/Ln]:wn?[ut/wn,lt/wn]:In?[Ft/In,Dt/In]:[NaN,NaN];return Ft=Dt=In=ut=lt=wn=Ct=Gt=Ln=0,n}};function dn(n,t){Ft+=n,Dt+=t,++In}function ve(){on.point=Pi}function Pi(n,t){on.point=Ai,dn(ln=n,an=t)}function Ai(n,t){var r=n-ln,e=t-an,i=vn(r*r+e*e);ut+=i*(ln+n)/2,lt+=i*(an+t)/2,wn+=i,dn(ln=n,an=t)}function me(){on.point=dn}function Ri(){on.point=Li}function Ii(){rr(tr,er)}function Li(n,t){on.point=rr,dn(tr=ln=n,er=an=t)}function rr(n,t){var r=n-ln,e=t-an,i=vn(r*r+e*e);ut+=i*(ln+n)/2,lt+=i*(an+t)/2,wn+=i,i=an*n-ln*t,Ct+=i*(ln+n),Gt+=i*(an+t),Ln+=i*3,dn(ln=n,an=t)}const _e=on;function ir(n){this._context=n}ir.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,rn);break}}},result:en};var Yt=new pn,mt,or,ur,zn,Tn,at={point:en,lineStart:function(){at.point=zi},lineEnd:function(){mt&&lr(or,ur),at.point=en},polygonStart:function(){mt=!0},polygonEnd:function(){mt=null},result:function(){var n=+Yt;return Yt=new pn,n}};function zi(n,t){at.point=lr,or=zn=n,ur=Tn=t}function lr(n,t){zn-=n,Tn-=t,Yt.add(vn(zn*zn+Tn*Tn)),zn=n,Tn=t}const ye=at;function ar(){this._string=[]}ar.prototype={_radius:4.5,_circle:Me(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=Me(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Me(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Ti(n,t){var r=4.5,e,i;function o(u){return u&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),yn(u,e(i))),i.result()}return o.area=function(u){return yn(u,e(de)),de.result()},o.measure=function(u){return yn(u,e(ye)),ye.result()},o.bounds=function(u){return yn(u,e(ot)),ot.result()},o.centroid=function(u){return yn(u,e(_e)),_e.result()},o.projection=function(u){return arguments.length?(e=u==null?(n=null,It):(n=u).stream,o):n},o.context=function(u){return arguments.length?(i=u==null?(t=null,new ar):new ir(t=u),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(i.pointRadius(+u),+u),o):r},o.projection(n).context(t)}function Vt(n){return function(t){var r=new Xt;for(var e in n)r[e]=n[e];return r.stream=t,r}}function Xt(){}Xt.prototype={constructor:Xt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Wt(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),yn(r,n.stream(ot)),t(ot.result()),e!=null&&n.clipExtent(e),n}function fr(n,t,r){return Wt(n,function(e){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],u=Math.min(i/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),a=+t[0][0]+(i-u*(e[1][0]+e[0][0]))/2,h=+t[0][1]+(o-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([a,h])},r)}function Fi(n,t,r){return fr(n,[[0,0],t],r)}function Di(n,t,r){return Wt(n,function(e){var i=+t,o=i/(e[1][0]-e[0][0]),u=(i-o*(e[1][0]+e[0][0]))/2,a=-o*e[0][1];n.scale(150*o).translate([u,a])},r)}function Ci(n,t,r){return Wt(n,function(e){var i=+t,o=i/(e[1][1]-e[0][1]),u=-o*e[0][0],a=(i-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,a])},r)}var we=16,Gi=W(30*b);function Se(n,t){return+t?Xi(n,t):Yi(n)}function Yi(n){return Vt({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Xi(n,t){function r(e,i,o,u,a,h,s,l,f,c,g,d,y,v){var m=s-e,E=l-i,p=m*m+E*E;if(p>4*t&&y--){var N=u+c,_=a+g,k=h+d,w=vn(N*N+_*_+k*k),A=Cn(k/=w),I=q(q(k)-1)<O||q(o-f)<O?(o+f)/2:Dn(_,N),C=n(I,A),P=C[0],z=C[1],D=P-e,G=z-i,S=E*D-m*G;(S*S/p>t||q((m*D+E*G)/p-.5)>.3||u*c+a*g+h*d<Gi)&&(r(e,i,o,u,a,h,P,z,I,N/=w,_/=w,k,y,v),v.point(P,z),r(P,z,I,N,_,k,s,l,f,c,g,d,y,v))}}return function(e){var i,o,u,a,h,s,l,f,c,g,d,y,v={point:m,lineStart:E,lineEnd:N,polygonStart:function(){e.polygonStart(),v.lineStart=_},polygonEnd:function(){e.polygonEnd(),v.lineStart=E}};function m(A,I){A=n(A,I),e.point(A[0],A[1])}function E(){f=NaN,v.point=p,e.lineStart()}function p(A,I){var C=Nn([A,I]),P=n(A,I);r(f,c,l,g,d,y,f=P[0],c=P[1],l=A,g=C[0],d=C[1],y=C[2],we,e),e.point(f,c)}function N(){v.point=m,e.lineEnd()}function _(){E(),v.point=k,v.lineEnd=w}function k(A,I){p(i=A,I),o=f,u=c,a=g,h=d,s=y,v.point=p}function w(){r(f,c,l,g,d,y,o,u,i,a,h,s,we,e),v.lineEnd=N,N()}return v}}var Oi=Vt({point:function(n,t){this.stream.point(n*b,t*b)}});function $i(n){return Vt({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Bi(n,t,r,e,i){function o(u,a){return u*=e,a*=i,[t+n*u,r-n*a]}return o.invert=function(u,a){return[(u-t)/n*e,(r-a)/n*i]},o}function Ee(n,t,r,e,i,o){if(!o)return Bi(n,t,r,e,i);var u=W(o),a=U(o),h=u*n,s=a*n,l=u/n,f=a/n,c=(a*r-u*t)/n,g=(a*t+u*r)/n;function d(y,v){return y*=e,v*=i,[h*y-s*v+t,r-s*y-h*v]}return d.invert=function(y,v){return[e*(l*y-f*v+c),i*(g-f*y-l*v)]},d}function qi(n){return Hi(function(){return n})()}function Hi(n){var t,r=150,e=480,i=250,o=0,u=0,a=0,h=0,s=0,l,f=0,c=1,g=1,d=null,y=he,v=null,m,E,p,N=It,_=.5,k,w,A,I,C;function P(S){return A(S[0]*b,S[1]*b)}function z(S){return S=A.invert(S[0],S[1]),S&&[S[0]*cn,S[1]*cn]}P.stream=function(S){return I&&C===S?I:I=Oi($i(l)(y(k(N(C=S)))))},P.preclip=function(S){return arguments.length?(y=S,d=void 0,G()):y},P.postclip=function(S){return arguments.length?(N=S,v=m=E=p=null,G()):N},P.clipAngle=function(S){return arguments.length?(y=+S?mi(d=S*b):(d=null,he),G()):d*cn},P.clipExtent=function(S){return arguments.length?(N=S==null?(v=m=E=p=null,It):yi(v=+S[0][0],m=+S[0][1],E=+S[1][0],p=+S[1][1]),G()):v==null?null:[[v,m],[E,p]]},P.scale=function(S){return arguments.length?(r=+S,D()):r},P.translate=function(S){return arguments.length?(e=+S[0],i=+S[1],D()):[e,i]},P.center=function(S){return arguments.length?(o=S[0]%360*b,u=S[1]%360*b,D()):[o*cn,u*cn]},P.rotate=function(S){return arguments.length?(a=S[0]%360*b,h=S[1]%360*b,s=S.length>2?S[2]%360*b:0,D()):[a*cn,h*cn,s*cn]},P.angle=function(S){return arguments.length?(f=S%360*b,D()):f*cn},P.reflectX=function(S){return arguments.length?(c=S?-1:1,D()):c<0},P.reflectY=function(S){return arguments.length?(g=S?-1:1,D()):g<0},P.precision=function(S){return arguments.length?(k=Se(w,_=S*S),G()):vn(_)},P.fitExtent=function(S,F){return fr(P,S,F)},P.fitSize=function(S,F){return Fi(P,S,F)},P.fitWidth=function(S,F){return Di(P,S,F)},P.fitHeight=function(S,F){return Ci(P,S,F)};function D(){var S=Ee(r,0,0,c,g,f).apply(null,t(o,u)),F=Ee(r,e-S[0],i-S[1],c,g,f);return l=fi(a,h,s),w=At(t,F),A=At(l,w),k=Se(w,_),G()}function G(){return I=C=null,P}return function(){return t=n.apply(this,arguments),P.invert=t.invert&&z,D()}}function Vi(n){return function(){return n}}function Wi(n){return+n}var ke=[0,1];function Sn(n){return n}function Ot(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Vi(isNaN(t)?NaN:.5)}function Ui(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function Zi(n,t,r){var e=n[0],i=n[1],o=t[0],u=t[1];return i<e?(e=Ot(i,e),o=r(u,o)):(e=Ot(e,i),o=r(o,u)),function(a){return o(e(a))}}function Ji(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),o=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)i[u]=Ot(n[u],n[u+1]),o[u]=r(t[u],t[u+1]);return function(a){var h=Ir(n,a,1,e)-1;return o[h](i[h](a))}}function Qi(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ji(){var n=ke,t=ke,r=qt,e,i,o,u=Sn,a,h,s;function l(){var c=Math.min(n.length,t.length);return u!==Sn&&(u=Ui(n[0],n[c-1])),a=c>2?Ji:Zi,h=s=null,f}function f(c){return c==null||isNaN(c=+c)?o:(h||(h=a(n.map(e),t,r)))(e(u(c)))}return f.invert=function(c){return u(i((s||(s=a(t,n.map(e),yt)))(c)))},f.domain=function(c){return arguments.length?(n=Array.from(c,Wi),l()):n.slice()},f.range=function(c){return arguments.length?(t=Array.from(c),l()):t.slice()},f.rangeRound=function(c){return t=Array.from(c),r=Zr,l()},f.clamp=function(c){return arguments.length?(u=c?!0:Sn,l()):u!==Sn},f.interpolate=function(c){return arguments.length?(r=c,l()):r},f.unknown=function(c){return arguments.length?(o=c,f):o},function(c,g){return e=c,i=g,l()}}function Ki(){return ji()(Sn,Sn)}function bi(n,t,r,e){var i=zr(n,t,r),o;switch(e=nt(e==null?",f":e),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(o=ri(i,u))&&(e.precision=o),Je(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(o=ii(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=o-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(o=ei(i))&&(e.precision=o-(e.type==="%")*2);break}}return Ze(e)}function xi(n){var t=n.domain;return n.ticks=function(r){var e=t();return Lr(e[0],e[e.length-1],r==null?10:r)},n.tickFormat=function(r,e){var i=t();return bi(i[0],i[i.length-1],r==null?10:r,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,o=e.length-1,u=e[i],a=e[o],h,s,l=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);l-- >0;){if(s=Ve(u,a,r),s===h)return e[i]=u,e[o]=a,t(e);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;h=s}return n},n}function $t(){var n=Ki();return n.copy=function(){return Qi(n,$t())},Er.apply(n,arguments),xi(n)}function no(n){for(var t=n.length/6|0,r=new Array(t),e=0;e<t;)r[e]="#"+n.slice(e*6,++e*6);return r}const Ne=no("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function to(n){return n}function eo(n){if(n==null)return to;var t,r,e=n.scale[0],i=n.scale[1],o=n.translate[0],u=n.translate[1];return function(a,h){h||(t=r=0);var s=2,l=a.length,f=new Array(l);for(f[0]=(t+=a[0])*e+o,f[1]=(r+=a[1])*i+u;s<l;)f[s]=a[s],++s;return f}}function ro(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function io(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Pe(n,r)})}:Pe(n,t)}function Pe(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,o=oo(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:o}:e==null?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:e,properties:i,geometry:o}}function oo(n,t){var r=eo(n.transform),e=n.arcs;function i(l,f){f.length&&f.pop();for(var c=e[l<0?~l:l],g=0,d=c.length;g<d;++g)f.push(r(c[g],g));l<0&&ro(f,d)}function o(l){return r(l)}function u(l){for(var f=[],c=0,g=l.length;c<g;++c)i(l[c],f);return f.length<2&&f.push(f[0]),f}function a(l){for(var f=u(l);f.length<4;)f.push(f[0]);return f}function h(l){return l.map(a)}function s(l){var f=l.type,c;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(s)};case"Point":c=o(l.coordinates);break;case"MultiPoint":c=l.coordinates.map(o);break;case"LineString":c=u(l.arcs);break;case"MultiLineString":c=l.arcs.map(u);break;case"Polygon":c=h(l.arcs);break;case"MultiPolygon":c=l.arcs.map(h);break;default:return null}return{type:f,coordinates:c}}return s(t)}function Ae(n,t){for(var r=0,e=n.length;r<e;){var i=r+e>>>1;n[i]<t?r=i+1:e=i}return r}function uo(n){var t={},r=n.map(function(){return[]});function e(y,v){y.forEach(function(m){m<0&&(m=~m);var E=t[m];E?E.push(v):t[m]=[v]})}function i(y,v){y.forEach(function(m){e(m,v)})}function o(y,v){y.type==="GeometryCollection"?y.geometries.forEach(function(m){o(m,v)}):y.type in u&&u[y.type](y.arcs,v)}var u={LineString:e,MultiLineString:i,Polygon:i,MultiPolygon:function(y,v){y.forEach(function(m){i(m,v)})}};n.forEach(o);for(var a in t)for(var h=t[a],s=h.length,l=0;l<s;++l)for(var f=l+1;f<s;++f){var c=h[l],g=h[f],d;(d=r[c])[a=Ae(d,g)]!==g&&d.splice(a,0,g),(d=r[g])[a=Ae(d,c)]!==c&&d.splice(a,0,c)}return r}var ft=Math.abs,An=Math.cos,fn=Math.sin,Fn=1e-6,ct=Math.PI,Bt=ct/2;function lo(n){return n?n/Math.sin(n):1}function Ut(n){return n>1?0:n<-1?ct:Math.acos(n)}function cr(n){return n>0?Math.sqrt(n):0}function sr(n,t){var r=An(t),e=lo(Ut(r*An(n/=2)));return[2*r*fn(n)*e,fn(t)*e]}sr.invert=function(n,t){if(!(n*n+4*t*t>ct*ct+Fn)){var r=n,e=t,i=25;do{var o=fn(r),u=fn(r/2),a=An(r/2),h=fn(e),s=An(e),l=fn(2*e),f=h*h,c=s*s,g=u*u,d=1-c*a*a,y=d?Ut(s*a)*cr(v=1/d):v=0,v,m=2*y*s*u-n,E=y*h-t,p=v*(c*g+y*s*a*f),N=v*(.5*o*l-y*2*h*u),_=v*.25*(l*u-y*h*c*o),k=v*(f*a+y*g*s),w=N*_-k*p;if(!w)break;var A=(E*N-m*k)/w,I=(m*_-E*p)/w;r-=A,e-=I}while((ft(A)>Fn||ft(I)>Fn)&&--i>0);return[r,e]}};function hr(n,t){var r=sr(n,t);return[(r[0]+n/Bt)/2,(r[1]+t)/2]}hr.invert=function(n,t){var r=n,e=t,i=25;do{var o=An(e),u=fn(e),a=fn(2*e),h=u*u,s=o*o,l=fn(r),f=An(r/2),c=fn(r/2),g=c*c,d=1-s*f*f,y=d?Ut(o*f)*cr(v=1/d):v=0,v,m=.5*(2*y*o*c+r/Bt)-n,E=.5*(y*u+e)-t,p=.5*v*(s*g+y*o*f*h)+.5/Bt,N=v*(l*a/4-y*u*c),_=.125*v*(a*c-y*u*s*l),k=.5*v*(h*f+y*g*o)+.5,w=N*_-k*p,A=(E*N-m*k)/w,I=(m*_-E*p)/w;r-=A,e-=I}while((ft(A)>Fn||ft(I)>Fn)&&--i>0);return[r,e]};function ao(){return qi(hr).scale(158.837)}function Re(n,{delay:t=0,duration:r=400,easing:e=gr}={}){const i=+getComputedStyle(n).opacity;return{delay:t,duration:r,easing:e,css:o=>`opacity: ${o*i}`}}function Ie(n,t,r){const e=n.slice();return e[35]=t[r],e}function Le(n,t,r){const e=n.slice();return e[35]=t[r],e}function ze(n,t,r){const e=n.slice();return e[40]=t[r],e[42]=r,e}function Te(n,t,r){const e=n.slice();return e[43]=t[r],e}function Fe(n){let t,r,e,i,o,u,a,h,s,l,f,c,g=n[8],d=[];for(let _=0;_<g.length;_+=1)d[_]=De(Te(n,g,_));let y=n[3]&&Ce(n),v=n[5],m=[];for(let _=0;_<v.length;_+=1)m[_]=Ye(Le(n,v,_));let E=n[5],p=[];for(let _=0;_<E.length;_+=1)p[_]=Xe(Ie(n,E,_));const N=_=>jn(p[_],1,1,()=>{p[_]=null});return{c(){t=H("g"),r=H("g"),e=H("path"),o=H("g");for(let _=0;_<d.length;_+=1)d[_].c();u=H("g"),y&&y.c(),a=H("g"),h=H("path"),l=H("g");for(let _=0;_<m.length;_+=1)m[_].c();f=Kn();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){t=V(_,"g",{id:!0});var k=B(t);r=V(k,"g",{id:!0});var w=B(r);e=V(w,"path",{d:!0,fill:!0,stroke:!0}),B(e).forEach(Y),w.forEach(Y),o=V(k,"g",{id:!0});var A=B(o);for(let z=0;z<d.length;z+=1)d[z].l(A);A.forEach(Y),u=V(k,"g",{id:!0});var I=B(u);y&&y.l(I),I.forEach(Y),a=V(k,"g",{id:!0});var C=B(a);h=V(C,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),B(h).forEach(Y),C.forEach(Y),l=V(k,"g",{id:!0});var P=B(l);for(let z=0;z<m.length;z+=1)m[z].l(P);f=Kn();for(let z=0;z<p.length;z+=1)p[z].l(P);P.forEach(Y),k.forEach(Y),this.h()},h(){M(e,"d",i=n[7](n[9])),M(e,"fill","#def3f6"),M(e,"stroke","none"),M(r,"id","fill"),M(o,"id","graticules"),M(u,"id","countries"),M(h,"d",s=n[7](n[9])),M(h,"fill","none"),M(h,"stroke","lightgray"),M(h,"stroke-width","2"),M(a,"id","outline"),M(l,"id","artists"),M(t,"id","map")},m(_,k){un(_,t,k),j(t,r),j(r,e),j(t,o);for(let w=0;w<d.length;w+=1)d[w].m(o,null);j(t,u),y&&y.m(u,null),j(t,a),j(a,h),j(t,l);for(let w=0;w<m.length;w+=1)m[w].m(l,null);j(l,f);for(let w=0;w<p.length;w+=1)p[w].m(l,null);c=!0},p(_,k){if((!c||k[0]&128&&i!==(i=_[7](_[9])))&&M(e,"d",i),k[0]&384){g=_[8];let w;for(w=0;w<g.length;w+=1){const A=Te(_,g,w);d[w]?d[w].p(A,k):(d[w]=De(A),d[w].c(),d[w].m(o,null))}for(;w<d.length;w+=1)d[w].d(1);d.length=g.length}if(_[3]?y?y.p(_,k):(y=Ce(_),y.c(),y.m(u,null)):y&&(y.d(1),y=null),(!c||k[0]&128&&s!==(s=_[7](_[9])))&&M(h,"d",s),k[0]&14436){v=_[5];let w;for(w=0;w<v.length;w+=1){const A=Le(_,v,w);m[w]?m[w].p(A,k):(m[w]=Ye(A),m[w].c(),m[w].m(l,f))}for(;w<m.length;w+=1)m[w].d(1);m.length=v.length}if(k[0]&23588){E=_[5];let w;for(w=0;w<E.length;w+=1){const A=Ie(_,E,w);p[w]?(p[w].p(A,k),En(p[w],1)):(p[w]=Xe(A),p[w].c(),En(p[w],1),p[w].m(l,null))}for(Be(),w=E.length;w<p.length;w+=1)N(w);qe()}},i(_){if(!c){for(let k=0;k<E.length;k+=1)En(p[k]);c=!0}},o(_){p=p.filter(Boolean);for(let k=0;k<p.length;k+=1)jn(p[k]);c=!1},d(_){_&&Y(t),Zn(d,_),y&&y.d(),Zn(m,_),Zn(p,_)}}}function De(n){let t,r;return{c(){t=H("path"),this.h()},l(e){t=V(e,"path",{d:!0,fill:!0,stroke:!0}),B(t).forEach(Y),this.h()},h(){M(t,"d",r=n[7](n[43])),M(t,"fill","none"),M(t,"stroke","lightgray")},m(e,i){un(e,t,i)},p(e,i){i[0]&128&&r!==(r=e[7](e[43]))&&M(t,"d",r)},d(e){e&&Y(t)}}}function Ce(n){let t,r=n[3].features,e=[];for(let i=0;i<r.length;i+=1)e[i]=Ge(ze(n,r,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Kn()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=Kn()},m(i,o){for(let u=0;u<e.length;u+=1)e[u].m(i,o);un(i,t,o)},p(i,o){if(o[0]&152){r=i[3].features;let u;for(u=0;u<r.length;u+=1){const a=ze(i,r,u);e[u]?e[u].p(a,o):(e[u]=Ge(a),e[u].c(),e[u].m(t.parentNode,t))}for(;u<e.length;u+=1)e[u].d(1);e.length=r.length}},d(i){Zn(e,i),i&&Y(t)}}}function Ge(n){let t,r,e,i;return{c(){t=H("path"),this.h()},l(o){t=V(o,"path",{id:!0,d:!0,stroke:!0,fill:!0}),B(t).forEach(Y),this.h()},h(){M(t,"id",r=n[40].id),M(t,"d",e=n[7](n[40])),M(t,"stroke","none"),M(t,"fill",i=Ne[n[4][n[42]]])},m(o,u){un(o,t,u)},p(o,u){u[0]&8&&r!==(r=o[40].id)&&M(t,"id",r),u[0]&136&&e!==(e=o[7](o[40]))&&M(t,"d",e),u[0]&16&&i!==(i=Ne[o[4][o[42]]])&&M(t,"fill",i)},d(o){o&&Y(t)}}}function Ye(n){let t,r,e,i,o,u,a,h,s,l,f,c,g,d,y;return{c(){t=H("g"),r=H("line"),a=H("circle"),l=H("line"),this.h()},l(v){t=V(v,"g",{});var m=B(t);r=V(m,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0}),B(r).forEach(Y),a=V(m,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),B(a).forEach(Y),l=V(m,"line",{x2:!0,y2:!0,x1:!0,y1:!0,stroke:!0,opacity:!0,"stroke-width":!0}),B(l).forEach(Y),m.forEach(Y),this.h()},h(){M(r,"x2",e=hn(n[6],n[35][1])),M(r,"y2",i=gn(n[6],n[35][1])),M(r,"x1",o=n[11](n[35])),M(r,"y1",u=n[12](n[35])),M(r,"stroke","black"),M(a,"cx",h=hn(n[6],n[35][1])),M(a,"cy",s=gn(n[6],n[35][1])),M(a,"r","2"),M(a,"fill","black"),M(l,"x2",f=n[11](n[35])),M(l,"y2",c=n[12](n[35])),M(l,"x1",g=n[11](n[2])),M(l,"y1",d=n[12](n[2])),M(l,"stroke","red"),M(l,"opacity","0.5"),M(l,"stroke-width",y=n[13](n[2],n[35]))},m(v,m){un(v,t,m),j(t,r),j(t,a),j(t,l)},p(v,m){m[0]&96&&e!==(e=hn(v[6],v[35][1]))&&M(r,"x2",e),m[0]&96&&i!==(i=gn(v[6],v[35][1]))&&M(r,"y2",i),m[0]&32&&o!==(o=v[11](v[35]))&&M(r,"x1",o),m[0]&32&&u!==(u=v[12](v[35]))&&M(r,"y1",u),m[0]&96&&h!==(h=hn(v[6],v[35][1]))&&M(a,"cx",h),m[0]&96&&s!==(s=gn(v[6],v[35][1]))&&M(a,"cy",s),m[0]&32&&f!==(f=v[11](v[35]))&&M(l,"x2",f),m[0]&32&&c!==(c=v[12](v[35]))&&M(l,"y2",c),m[0]&4&&g!==(g=v[11](v[2]))&&M(l,"x1",g),m[0]&4&&d!==(d=v[12](v[2]))&&M(l,"y1",d),m[0]&36&&y!==(y=v[13](v[2],v[35]))&&M(l,"stroke-width",y)},d(v){v&&Y(t)}}}function fo(n){let t,r,e,i;return{c(){t=H("image"),i=H("circle"),this.h()},l(o){t=V(o,"image",{id:!0,href:!0,height:!0,width:!0,x:!0,y:!0}),B(t).forEach(Y),i=V(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),B(i).forEach(Y),this.h()},h(){M(t,"id",r=Z(n[35][0])+"-image"),M(t,"href",e=bn+n[14](n[35][0])),M(t,"height",nn*2),M(t,"width",nn*2),M(t,"x",-nn),M(t,"y",-nn),M(i,"cx","0"),M(i,"cy","0"),M(i,"r",nn),M(i,"stroke","black"),M(i,"fill","none")},m(o,u){un(o,t,u),un(o,i,u)},p(o,u){u[0]&32&&r!==(r=Z(o[35][0])+"-image")&&M(t,"id",r),u[0]&32&&e!==(e=bn+o[14](o[35][0]))&&M(t,"href",e)},d(o){o&&Y(t),o&&Y(i)}}}function co(n){let t,r,e,i;return{c(){t=H("image"),i=H("circle"),this.h()},l(o){t=V(o,"image",{id:!0,href:!0,height:!0,width:!0,x:!0,y:!0}),B(t).forEach(Y),i=V(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),B(i).forEach(Y),this.h()},h(){M(t,"id",r=Z(n[35][0])+"-image"),M(t,"href",e=bn+n[14](n[35][0])),M(t,"height",nn*2),M(t,"width",nn*2),M(t,"x",-nn),M(t,"y",-nn),M(i,"cx","0"),M(i,"cy","0"),M(i,"r",nn),M(i,"stroke","white"),M(i,"stroke-width","2"),M(i,"fill","none")},m(o,u){un(o,t,u),un(o,i,u)},p(o,u){u[0]&32&&r!==(r=Z(o[35][0])+"-image")&&M(t,"id",r),u[0]&32&&e!==(e=bn+o[14](o[35][0]))&&M(t,"href",e)},d(o){o&&Y(t),o&&Y(i)}}}function Xe(n){let t,r,e,i,o,u,a,h,s=n[35][0]+"",l,f,c,g,d,y;function v(p,N){return p[35][0]===p[2][0]?co:fo}let m=v(n),E=m(n);return{c(){t=H("g"),E.c(),r=H("rect"),h=H("text"),l=Oe(s),this.h()},l(p){t=V(p,"g",{id:!0,transform:!0});var N=B(t);E.l(N),r=V(N,"rect",{id:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,rx:!0,opacity:!0,class:!0}),B(r).forEach(Y),h=V(N,"text",{id:!0,opacity:!0,x:!0,y:!0,"text-anchor":!0});var _=B(h);l=$e(_,s),_.forEach(Y),N.forEach(Y),this.h()},h(){M(r,"id",e=Z(n[35][0])+"-rect"),M(r,"x",i=-(Xn("#"+Z(n[35][0])+"-text",n[35][0])+_n)/2),M(r,"width",o=Xn("#"+Z(n[35][0])+"-text",n[35][0])+_n),M(r,"y",u=(_t+On("#"+Z(n[35][0])+"-text",n[35][0]))/2),M(r,"height",a=On("#"+Z(n[35][0])+"-text",n[35][0])+_n-10),M(r,"fill","white"),M(r,"stroke","black"),M(r,"rx","15"),M(r,"opacity","0.5"),M(r,"class","pointer-events-none"),M(h,"id",f=Z(n[35][0])+"-text"),M(h,"opacity","1"),M(h,"x","0"),M(h,"y",_t*2),M(h,"text-anchor","middle"),M(t,"id",c=Z(n[35][0])+"-group"),M(t,"transform",g=n[10](n[11](n[35]),n[12](n[35])))},m(p,N){un(p,t,N),E.m(t,null),j(t,r),j(t,h),j(h,l),y=!0},p(p,N){m===(m=v(p))&&E?E.p(p,N):(E.d(1),E=m(p),E&&(E.c(),E.m(t,r))),(!y||N[0]&32&&e!==(e=Z(p[35][0])+"-rect"))&&M(r,"id",e),(!y||N[0]&32&&i!==(i=-(Xn("#"+Z(p[35][0])+"-text",p[35][0])+_n)/2))&&M(r,"x",i),(!y||N[0]&32&&o!==(o=Xn("#"+Z(p[35][0])+"-text",p[35][0])+_n))&&M(r,"width",o),(!y||N[0]&32&&u!==(u=(_t+On("#"+Z(p[35][0])+"-text",p[35][0]))/2))&&M(r,"y",u),(!y||N[0]&32&&a!==(a=On("#"+Z(p[35][0])+"-text",p[35][0])+_n-10))&&M(r,"height",a),(!y||N[0]&32)&&s!==(s=p[35][0]+"")&&yr(l,s),(!y||N[0]&32&&f!==(f=Z(p[35][0])+"-text"))&&M(h,"id",f),(!y||N[0]&32&&c!==(c=Z(p[35][0])+"-group"))&&M(t,"id",c),(!y||N[0]&32&&g!==(g=p[10](p[11](p[35]),p[12](p[35]))))&&M(t,"transform",g)},i(p){y||(Mr(()=>{d||(d=Zt(t,Re,{},!0)),d.run(1)}),y=!0)},o(p){d||(d=Zt(t,Re,{},!1)),d.run(0),y=!1},d(p){p&&Y(t),E.d(),p&&d&&d.end()}}}function so(n){let t,r,e,i,o,u,a=n[7]&&Fe(n);return{c(){t=mr("div"),r=H("svg"),e=H("style"),i=Oe(`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),a&&a.c(),this.h()},l(h){t=_r(h,"DIV",{id:!0,class:!0,style:!0});var s=B(t);r=V(s,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0});var l=B(r);e=V(l,"style",{});var f=B(e);i=$e(f,`.pointer {
        cursor: pointer;
      }
      .slider {
        cursor: ew-resize;
      }
      #handle {
        fill: #000000;
        stroke: #000000;
        stroke-miterlimit: 10;
      }`),f.forEach(Y),a&&a.l(l),l.forEach(Y),s.forEach(Y),this.h()},h(){M(r,"class","inline-block absolute top-0 left-0"),M(r,"viewBox",o="0, 0, "+n[0]+", "+n[1]),M(r,"preserveAspectRatio","xMidYMid meet"),M(t,"id","container"),M(t,"class","inline-block relative align-top overflow-hidden"),Yn(t,"width",n[0]+"px"),Yn(t,"height",n[1]+"px")},m(h,s){un(h,t,s),j(t,r),j(r,e),j(e,i),a&&a.m(r,null),u=!0},p(h,s){h[7]?a?(a.p(h,s),s[0]&128&&En(a,1)):(a=Fe(h),a.c(),En(a,1),a.m(r,null)):a&&(Be(),jn(a,1,1,()=>{a=null}),qe()),(!u||s[0]&3&&o!==(o="0, 0, "+h[0]+", "+h[1]))&&M(r,"viewBox",o),(!u||s[0]&1)&&Yn(t,"width",h[0]+"px"),(!u||s[0]&2)&&Yn(t,"height",h[1]+"px")},i(h){u||(En(a),u=!0)},o(h){jn(a),u=!1},d(h){h&&Y(t),a&&a.d()}}}const nn=15,_t=20,_n=20,ho=20,go=100;function po(n,t,r){let e=new Worker(""+new URL("../workers/sim-nodes.worker-485dcafa.js",import.meta.url).href);const i=R=>{r(5,y=R.data.nodes)};e.onmessage=i;let{width:o}=t,{height:u}=t,a,h,s,l,f,c,g,d,y,v,m,E;const p=Mi(),N=p.lines(),_=p.outline();let k,w,A,I;const C=(R,L)=>`translate(${R}, ${L})`,P=R=>{c=f.filter(([,L])=>L.length>1?L[0].year<=R&&L[1].year>R:L[0].year<=R);for(const L of c)L.x=hn(k,L[1]),L.y=gn(k,L[1])},z=R=>{const L=[];r(2,v=f.filter(T=>T[0]===R)[0]),console.log("Selected: ",v),L.push(v);const J=d.filter(T=>T[0]===R),K=g.filter(T=>T[0]===R);if(J.length>0){console.log("Influencers");for(let T of J[0][1]){const Q=f.find(x=>x[1][0].artist===T.artist);console.log(T.artist),Q&&(L.push(Q),console.log(f.find(x=>x[1][0].artist===T.artist)))}}if(K.length>0){console.log("Influencees");for(let T of K[0][1]){const Q=f.find(x=>x[1][0].artist===T.influenced);Q&&(L.push(Q),console.log(f.find(x=>x[1][0].artist===T.influenced)))}}for(const T of L)T.x=hn(k,T[1]),T.y=gn(k,T[1]);e.postMessage({nodes:L,radius:nn})},D=R=>R.hasOwnProperty("x")?R.x:hn(k,R[1]),G=R=>R.hasOwnProperty("y")?R.y:gn(k,R[1]),S=(R,L)=>{const J=R[1][0].year,K=L[1][0].year;return I(Math.abs(K-J))},F=R=>l.filter(J=>J.artist===R)[0].thumbnail,$=(R,L,J,K)=>{r(6,k=ao().translate([o/2,u/2]).scale(u/3.5)),r(7,w=Ti().projection(k)),r(3,a=io(R,R.objects.countries)),h=uo(R.objects.countries.geometries),r(4,s=new Array(a.features.length));for(let T=0;T<s.length;++T)r(4,s[T]=jt(h[T],Q=>s[Q])+1|0,s);L&&(g=st(L,T=>T.artist),d=st(L,T=>T.influenced)),J?(m=Tr(J,T=>T.year),E=jt(J,T=>T.year),f=st(J,T=>T.artist),P(m),I=$t().domain([0,E-m]).range([2,nn]),A=$t().domain([m,E]).range([0,o]),Br(A).tickFormat(T=>Number(T)%go===0?String(T):"").ticks((E-m)/ho)):console.error("Unable to load Artist Locations!"),l=K};return n.$$set=R=>{"width"in R&&r(0,o=R.width),"height"in R&&r(1,u=R.height)},n.$$.update=()=>{n.$$.dirty[0]&4},r(0,o=0),r(1,u=0),r(3,a=null),h=null,r(4,s=[]),f=[],c=[],g=[],d=[],r(5,y=[]),m=0,E=2100,[o,u,v,a,s,y,k,w,N,_,C,D,G,S,F,z,$]}class wo extends pr{constructor(t){super(),dr(this,t,po,so,vr,{width:0,height:1,DisplayInfluences:15,Initialize:16},null,[-1,-1])}get DisplayInfluences(){return this.$$.ctx[15]}get Initialize(){return this.$$.ctx[16]}}export{wo as M,Re as f};
