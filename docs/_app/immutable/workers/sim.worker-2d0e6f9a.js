(function(){"use strict";importScripts("https://d3js.org/d3-collection.v1.min.js"),importScripts("https://d3js.org/d3-dispatch.v1.min.js"),importScripts("https://d3js.org/d3-quadtree.v1.min.js"),importScripts("https://d3js.org/d3-timer.v1.min.js"),importScripts("https://d3js.org/d3-force.v1.min.js");let t,o,r,i,e;onmessage=s=>{if(s.data.type==="init"){i=s.data.nodes,e=s.data.links;const c=s.data.radius,p=s.data.height,d=2;t=d3.forceSimulation(i).force("link",d3.forceLink().id(a=>a.artist).distance(c*d).strength(1)).force("charge",d3.forceManyBody().strength(-5)).force("y",d3.forceY(p/2)).force("collide",d3.forceCollide().radius(a=>c*d)).stop(),t.force("link").links(e),o=0,r=Math.ceil(Math.log(t.alphaMin())/Math.log(1-t.alphaDecay())),postMessage({type:"tick",nodes:i,links:e}),t.tick()}else s.data.type==="tick"&&(o<r?(postMessage({type:"tick",nodes:i,links:e}),t.tick()):postMessage({type:"end",nodes:i,links:e}))}})();
